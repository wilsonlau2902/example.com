var Hne=Object.defineProperty;var tU=t=>{throw TypeError(t)};var Wne=(t,e,n)=>e in t?Hne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tg=(t,e,n)=>Wne(t,typeof e!="symbol"?e+"":e,n),rT=(t,e,n)=>e.has(t)||tU("Cannot "+n);var Ve=(t,e,n)=>(rT(t,e,"read from private field"),n?n.call(t):e.get(t)),ln=(t,e,n)=>e.has(t)?tU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),zt=(t,e,n,r)=>(rT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),gi=(t,e,n)=>(rT(t,e,"access private method"),n);var gx=(t,e,n,r)=>({set _(i){zt(t,e,i,n)},get _(){return Ve(t,e,r)}});function Gne(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t6={exports:{}},jb={},n6={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0=Symbol.for("react.element"),$ne=Symbol.for("react.portal"),Xne=Symbol.for("react.fragment"),Yne=Symbol.for("react.strict_mode"),Kne=Symbol.for("react.profiler"),qne=Symbol.for("react.provider"),Zne=Symbol.for("react.context"),Qne=Symbol.for("react.forward_ref"),Jne=Symbol.for("react.suspense"),ere=Symbol.for("react.memo"),tre=Symbol.for("react.lazy"),nU=Symbol.iterator;function nre(t){return t===null||typeof t!="object"?null:(t=nU&&t[nU]||t["@@iterator"],typeof t=="function"?t:null)}var r6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i6=Object.assign,s6={};function im(t,e,n){this.props=t,this.context=e,this.refs=s6,this.updater=n||r6}im.prototype.isReactComponent={};im.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};im.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function o6(){}o6.prototype=im.prototype;function MN(t,e,n){this.props=t,this.context=e,this.refs=s6,this.updater=n||r6}var TN=MN.prototype=new o6;TN.constructor=MN;i6(TN,im.prototype);TN.isPureReactComponent=!0;var rU=Array.isArray,a6=Object.prototype.hasOwnProperty,AN={current:null},l6={key:!0,ref:!0,__self:!0,__source:!0};function c6(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)a6.call(e,r)&&!l6.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:U0,type:t,key:s,ref:o,props:i,_owner:AN.current}}function rre(t,e){return{$$typeof:U0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function CN(t){return typeof t=="object"&&t!==null&&t.$$typeof===U0}function ire(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iU=/\/+/g;function iT(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ire(""+t.key):e.toString(36)}function dw(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case U0:case $ne:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+iT(o,0):r,rU(i)?(n="",t!=null&&(n=t.replace(iU,"$&/")+"/"),dw(i,e,n,"",function(c){return c})):i!=null&&(CN(i)&&(i=rre(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iU,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rU(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+iT(s,a);o+=dw(s,e,n,l,i)}else if(l=nre(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+iT(s,a++),o+=dw(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vx(t,e,n){if(t==null)return t;var r=[],i=0;return dw(t,r,"","",function(s){return e.call(n,s,i++)}),r}function sre(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qi={current:null},hw={transition:null},ore={ReactCurrentDispatcher:qi,ReactCurrentBatchConfig:hw,ReactCurrentOwner:AN};function u6(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:vx,forEach:function(t,e,n){vx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vx(t,function(){e++}),e},toArray:function(t){return vx(t,function(e){return e})||[]},only:function(t){if(!CN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$t.Component=im;$t.Fragment=Xne;$t.Profiler=Kne;$t.PureComponent=MN;$t.StrictMode=Yne;$t.Suspense=Jne;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ore;$t.act=u6;$t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=i6({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=AN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)a6.call(e,l)&&!l6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:U0,type:t.type,key:i,ref:s,props:r,_owner:o}};$t.createContext=function(t){return t={$$typeof:Zne,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qne,_context:t},t.Consumer=t};$t.createElement=c6;$t.createFactory=function(t){var e=c6.bind(null,t);return e.type=t,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(t){return{$$typeof:Qne,render:t}};$t.isValidElement=CN;$t.lazy=function(t){return{$$typeof:tre,_payload:{_status:-1,_result:t},_init:sre}};$t.memo=function(t,e){return{$$typeof:ere,type:t,compare:e===void 0?null:e}};$t.startTransition=function(t){var e=hw.transition;hw.transition={};try{t()}finally{hw.transition=e}};$t.unstable_act=u6;$t.useCallback=function(t,e){return qi.current.useCallback(t,e)};$t.useContext=function(t){return qi.current.useContext(t)};$t.useDebugValue=function(){};$t.useDeferredValue=function(t){return qi.current.useDeferredValue(t)};$t.useEffect=function(t,e){return qi.current.useEffect(t,e)};$t.useId=function(){return qi.current.useId()};$t.useImperativeHandle=function(t,e,n){return qi.current.useImperativeHandle(t,e,n)};$t.useInsertionEffect=function(t,e){return qi.current.useInsertionEffect(t,e)};$t.useLayoutEffect=function(t,e){return qi.current.useLayoutEffect(t,e)};$t.useMemo=function(t,e){return qi.current.useMemo(t,e)};$t.useReducer=function(t,e,n){return qi.current.useReducer(t,e,n)};$t.useRef=function(t){return qi.current.useRef(t)};$t.useState=function(t){return qi.current.useState(t)};$t.useSyncExternalStore=function(t,e,n){return qi.current.useSyncExternalStore(t,e,n)};$t.useTransition=function(){return qi.current.useTransition()};$t.version="18.3.1";n6.exports=$t;var T=n6.exports;const Qe=_o(T),f6=Gne({__proto__:null,default:Qe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var are=T,lre=Symbol.for("react.element"),cre=Symbol.for("react.fragment"),ure=Object.prototype.hasOwnProperty,fre=are.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dre={key:!0,ref:!0,__self:!0,__source:!0};function d6(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ure.call(e,r)&&!dre.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lre,type:t,key:s,ref:o,props:i,_owner:fre.current}}jb.Fragment=cre;jb.jsx=d6;jb.jsxs=d6;t6.exports=jb;var S=t6.exports,h6={exports:{}},Ws={},p6={exports:{}},m6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,k){var z=L.length;L.push(k);e:for(;0<z;){var B=z-1>>>1,G=L[B];if(0<i(G,k))L[B]=k,L[z]=G,z=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var k=L[0],z=L.pop();if(z!==k){L[0]=z;e:for(var B=0,G=L.length,Y=G>>>1;B<Y;){var Z=2*(B+1)-1,Q=L[Z],re=Z+1,J=L[re];if(0>i(Q,z))re<G&&0>i(J,Q)?(L[B]=J,L[re]=z,B=re):(L[B]=Q,L[Z]=z,B=Z);else if(re<G&&0>i(J,z))L[B]=J,L[re]=z,B=re;else break e}}return k}function i(L,k){var z=L.sortIndex-k.sortIndex;return z!==0?z:L.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=L)r(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(c)}}function b(L){if(v=!1,w(L),!p)if(n(l)!==null)p=!0,j(M);else{var k=n(c);k!==null&&X(b,k.startTime-L)}}function M(L,k){p=!1,v&&(v=!1,g(N),N=-1),h=!0;var z=d;try{for(w(k),f=n(l);f!==null&&(!(f.expirationTime>k)||L&&!F());){var B=f.callback;if(typeof B=="function"){f.callback=null,d=f.priorityLevel;var G=B(f.expirationTime<=k);k=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),w(k)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var Z=n(c);Z!==null&&X(b,Z.startTime-k),Y=!1}return Y}finally{f=null,d=z,h=!1}}var A=!1,C=null,N=-1,R=5,D=-1;function F(){return!(t.unstable_now()-D<R)}function U(){if(C!==null){var L=t.unstable_now();D=L;var k=!0;try{k=C(!0,L)}finally{k?$():(A=!1,C=null)}}else A=!1}var $;if(typeof _=="function")$=function(){_(U)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,V=I.port2;I.port1.onmessage=U,$=function(){V.postMessage(null)}}else $=function(){y(U,0)};function j(L){C=L,A||(A=!0,$())}function X(L,k){N=y(function(){L(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,j(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var z=d;d=k;try{return L()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,k){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=d;d=L;try{return k()}finally{d=z}},t.unstable_scheduleCallback=function(L,k,z){var B=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,L={id:u++,callback:k,priorityLevel:L,startTime:z,expirationTime:G,sortIndex:-1},z>B?(L.sortIndex=z,e(c,L),n(l)===null&&L===n(c)&&(v?(g(N),N=-1):v=!0,X(b,z-B))):(L.sortIndex=G,e(l,L),p||h||(p=!0,j(M))),L},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(L){var k=d;return function(){var z=d;d=k;try{return L.apply(this,arguments)}finally{d=z}}}})(m6);p6.exports=m6;var hre=p6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pre=T,zs=hre;function Ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g6=new Set,xv={};function yd(t,e){Tp(t,e),Tp(t+"Capture",e)}function Tp(t,e){for(xv[t]=e,t=0;t<e.length;t++)g6.add(e[t])}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k2=Object.prototype.hasOwnProperty,mre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sU={},oU={};function gre(t){return k2.call(oU,t)?!0:k2.call(sU,t)?!1:mre.test(t)?oU[t]=!0:(sU[t]=!0,!1)}function vre(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yre(t,e,n,r){if(e===null||typeof e>"u"||vre(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){li[t]=new Zi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];li[e]=new Zi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){li[t]=new Zi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){li[t]=new Zi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){li[t]=new Zi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){li[t]=new Zi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){li[t]=new Zi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){li[t]=new Zi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){li[t]=new Zi(t,5,!1,t.toLowerCase(),null,!1,!1)});var PN=/[\-:]([a-z])/g;function RN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PN,RN);li[e]=new Zi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PN,RN);li[e]=new Zi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PN,RN);li[e]=new Zi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){li[t]=new Zi(t,1,!1,t.toLowerCase(),null,!1,!1)});li.xlinkHref=new Zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){li[t]=new Zi(t,1,!1,t.toLowerCase(),null,!0,!0)});function NN(t,e,n,r){var i=li.hasOwnProperty(e)?li[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yre(e,n,i,r)&&(n=null),r||i===null?gre(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gl=pre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yx=Symbol.for("react.element"),Nh=Symbol.for("react.portal"),Ih=Symbol.for("react.fragment"),IN=Symbol.for("react.strict_mode"),U2=Symbol.for("react.profiler"),v6=Symbol.for("react.provider"),y6=Symbol.for("react.context"),DN=Symbol.for("react.forward_ref"),F2=Symbol.for("react.suspense"),B2=Symbol.for("react.suspense_list"),LN=Symbol.for("react.memo"),Pc=Symbol.for("react.lazy"),x6=Symbol.for("react.offscreen"),aU=Symbol.iterator;function ng(t){return t===null||typeof t!="object"?null:(t=aU&&t[aU]||t["@@iterator"],typeof t=="function"?t:null)}var jn=Object.assign,sT;function kg(t){if(sT===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sT=e&&e[1]||""}return`
`+sT+t}var oT=!1;function aT(t,e){if(!t||oT)return"";oT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{oT=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kg(t):""}function xre(t){switch(t.tag){case 5:return kg(t.type);case 16:return kg("Lazy");case 13:return kg("Suspense");case 19:return kg("SuspenseList");case 0:case 2:case 15:return t=aT(t.type,!1),t;case 11:return t=aT(t.type.render,!1),t;case 1:return t=aT(t.type,!0),t;default:return""}}function z2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ih:return"Fragment";case Nh:return"Portal";case U2:return"Profiler";case IN:return"StrictMode";case F2:return"Suspense";case B2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y6:return(t.displayName||"Context")+".Consumer";case v6:return(t._context.displayName||"Context")+".Provider";case DN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case LN:return e=t.displayName||null,e!==null?e:z2(t.type)||"Memo";case Pc:e=t._payload,t=t._init;try{return z2(t(e))}catch{}}return null}function wre(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z2(e);case 8:return e===IN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function au(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function w6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _re(t){var e=w6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xx(t){t._valueTracker||(t._valueTracker=_re(t))}function _6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=w6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function j2(t,e){var n=e.checked;return jn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lU(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=au(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b6(t,e){e=e.checked,e!=null&&NN(t,"checked",e,!1)}function V2(t,e){b6(t,e);var n=au(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?H2(t,e.type,n):e.hasOwnProperty("defaultValue")&&H2(t,e.type,au(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cU(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function H2(t,e,n){(e!=="number"||qw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ug=Array.isArray;function ip(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+au(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function W2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return jn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uU(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ke(92));if(Ug(n)){if(1<n.length)throw Error(Ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:au(n)}}function S6(t,e){var n=au(e.value),r=au(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fU(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wx,M6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wx=wx||document.createElement("div"),wx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bre=["Webkit","ms","Moz","O"];Object.keys(Kg).forEach(function(t){bre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kg[e]=Kg[t]})});function T6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kg.hasOwnProperty(t)&&Kg[t]?(""+e).trim():e+"px"}function A6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=T6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Sre=jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $2(t,e){if(e){if(Sre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function X2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y2=null;function ON(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var K2=null,sp=null,op=null;function dU(t){if(t=z0(t)){if(typeof K2!="function")throw Error(Ke(280));var e=t.stateNode;e&&(e=$b(e),K2(t.stateNode,t.type,e))}}function C6(t){sp?op?op.push(t):op=[t]:sp=t}function P6(){if(sp){var t=sp,e=op;if(op=sp=null,dU(t),e)for(t=0;t<e.length;t++)dU(e[t])}}function R6(t,e){return t(e)}function N6(){}var lT=!1;function I6(t,e,n){if(lT)return t(e,n);lT=!0;try{return R6(t,e,n)}finally{lT=!1,(sp!==null||op!==null)&&(N6(),P6())}}function _v(t,e){var n=t.stateNode;if(n===null)return null;var r=$b(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ke(231,e,typeof n));return n}var q2=!1;if(Cl)try{var rg={};Object.defineProperty(rg,"passive",{get:function(){q2=!0}}),window.addEventListener("test",rg,rg),window.removeEventListener("test",rg,rg)}catch{q2=!1}function Ere(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var qg=!1,Zw=null,Qw=!1,Z2=null,Mre={onError:function(t){qg=!0,Zw=t}};function Tre(t,e,n,r,i,s,o,a,l){qg=!1,Zw=null,Ere.apply(Mre,arguments)}function Are(t,e,n,r,i,s,o,a,l){if(Tre.apply(this,arguments),qg){if(qg){var c=Zw;qg=!1,Zw=null}else throw Error(Ke(198));Qw||(Qw=!0,Z2=c)}}function xd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hU(t){if(xd(t)!==t)throw Error(Ke(188))}function Cre(t){var e=t.alternate;if(!e){if(e=xd(t),e===null)throw Error(Ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hU(i),t;if(s===r)return hU(i),e;s=s.sibling}throw Error(Ke(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ke(189))}}if(n.alternate!==r)throw Error(Ke(190))}if(n.tag!==3)throw Error(Ke(188));return n.stateNode.current===n?t:e}function L6(t){return t=Cre(t),t!==null?O6(t):null}function O6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O6(t);if(e!==null)return e;t=t.sibling}return null}var k6=zs.unstable_scheduleCallback,pU=zs.unstable_cancelCallback,Pre=zs.unstable_shouldYield,Rre=zs.unstable_requestPaint,ur=zs.unstable_now,Nre=zs.unstable_getCurrentPriorityLevel,kN=zs.unstable_ImmediatePriority,U6=zs.unstable_UserBlockingPriority,Jw=zs.unstable_NormalPriority,Ire=zs.unstable_LowPriority,F6=zs.unstable_IdlePriority,Vb=null,Aa=null;function Dre(t){if(Aa&&typeof Aa.onCommitFiberRoot=="function")try{Aa.onCommitFiberRoot(Vb,t,void 0,(t.current.flags&128)===128)}catch{}}var qo=Math.clz32?Math.clz32:kre,Lre=Math.log,Ore=Math.LN2;function kre(t){return t>>>=0,t===0?32:31-(Lre(t)/Ore|0)|0}var _x=64,bx=4194304;function Fg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function e_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fg(a):(s&=o,s!==0&&(r=Fg(s)))}else o=n&~i,o!==0?r=Fg(o):s!==0&&(r=Fg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qo(e),i=1<<n,r|=t[n],e&=~i;return r}function Ure(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fre(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Ure(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Q2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function B6(){var t=_x;return _x<<=1,!(_x&4194240)&&(_x=64),t}function cT(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function F0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qo(e),t[e]=n}function Bre(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function UN(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fn=0;function z6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var j6,FN,V6,H6,W6,J2=!1,Sx=[],Gc=null,$c=null,Xc=null,bv=new Map,Sv=new Map,Ic=[],zre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mU(t,e){switch(t){case"focusin":case"focusout":Gc=null;break;case"dragenter":case"dragleave":$c=null;break;case"mouseover":case"mouseout":Xc=null;break;case"pointerover":case"pointerout":bv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sv.delete(e.pointerId)}}function ig(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=z0(e),e!==null&&FN(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jre(t,e,n,r,i){switch(e){case"focusin":return Gc=ig(Gc,t,e,n,r,i),!0;case"dragenter":return $c=ig($c,t,e,n,r,i),!0;case"mouseover":return Xc=ig(Xc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bv.set(s,ig(bv.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sv.set(s,ig(Sv.get(s)||null,t,e,n,r,i)),!0}return!1}function G6(t){var e=vf(t.target);if(e!==null){var n=xd(e);if(n!==null){if(e=n.tag,e===13){if(e=D6(n),e!==null){t.blockedOn=e,W6(t.priority,function(){V6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Y2=r,n.target.dispatchEvent(r),Y2=null}else return e=z0(n),e!==null&&FN(e),t.blockedOn=n,!1;e.shift()}return!0}function gU(t,e,n){pw(t)&&n.delete(e)}function Vre(){J2=!1,Gc!==null&&pw(Gc)&&(Gc=null),$c!==null&&pw($c)&&($c=null),Xc!==null&&pw(Xc)&&(Xc=null),bv.forEach(gU),Sv.forEach(gU)}function sg(t,e){t.blockedOn===e&&(t.blockedOn=null,J2||(J2=!0,zs.unstable_scheduleCallback(zs.unstable_NormalPriority,Vre)))}function Ev(t){function e(i){return sg(i,t)}if(0<Sx.length){sg(Sx[0],t);for(var n=1;n<Sx.length;n++){var r=Sx[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gc!==null&&sg(Gc,t),$c!==null&&sg($c,t),Xc!==null&&sg(Xc,t),bv.forEach(e),Sv.forEach(e),n=0;n<Ic.length;n++)r=Ic[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ic.length&&(n=Ic[0],n.blockedOn===null);)G6(n),n.blockedOn===null&&Ic.shift()}var ap=Gl.ReactCurrentBatchConfig,t_=!0;function Hre(t,e,n,r){var i=fn,s=ap.transition;ap.transition=null;try{fn=1,BN(t,e,n,r)}finally{fn=i,ap.transition=s}}function Wre(t,e,n,r){var i=fn,s=ap.transition;ap.transition=null;try{fn=4,BN(t,e,n,r)}finally{fn=i,ap.transition=s}}function BN(t,e,n,r){if(t_){var i=eC(t,e,n,r);if(i===null)xT(t,e,r,n_,n),mU(t,r);else if(jre(i,t,e,n,r))r.stopPropagation();else if(mU(t,r),e&4&&-1<zre.indexOf(t)){for(;i!==null;){var s=z0(i);if(s!==null&&j6(s),s=eC(t,e,n,r),s===null&&xT(t,e,r,n_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xT(t,e,r,null,n)}}var n_=null;function eC(t,e,n,r){if(n_=null,t=ON(r),t=vf(t),t!==null)if(e=xd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=D6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return n_=t,null}function $6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nre()){case kN:return 1;case U6:return 4;case Jw:case Ire:return 16;case F6:return 536870912;default:return 16}default:return 16}}var Vc=null,zN=null,mw=null;function X6(){if(mw)return mw;var t,e=zN,n=e.length,r,i="value"in Vc?Vc.value:Vc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mw=i.slice(t,1<r?1-r:void 0)}function gw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ex(){return!0}function vU(){return!1}function Gs(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ex:vU,this.isPropagationStopped=vU,this}return jn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ex)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ex)},persist:function(){},isPersistent:Ex}),e}var sm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jN=Gs(sm),B0=jn({},sm,{view:0,detail:0}),Gre=Gs(B0),uT,fT,og,Hb=jn({},B0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==og&&(og&&t.type==="mousemove"?(uT=t.screenX-og.screenX,fT=t.screenY-og.screenY):fT=uT=0,og=t),uT)},movementY:function(t){return"movementY"in t?t.movementY:fT}}),yU=Gs(Hb),$re=jn({},Hb,{dataTransfer:0}),Xre=Gs($re),Yre=jn({},B0,{relatedTarget:0}),dT=Gs(Yre),Kre=jn({},sm,{animationName:0,elapsedTime:0,pseudoElement:0}),qre=Gs(Kre),Zre=jn({},sm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qre=Gs(Zre),Jre=jn({},sm,{data:0}),xU=Gs(Jre),eie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nie[t])?!!e[t]:!1}function VN(){return rie}var iie=jn({},B0,{key:function(t){if(t.key){var e=eie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VN,charCode:function(t){return t.type==="keypress"?gw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sie=Gs(iie),oie=jn({},Hb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wU=Gs(oie),aie=jn({},B0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VN}),lie=Gs(aie),cie=jn({},sm,{propertyName:0,elapsedTime:0,pseudoElement:0}),uie=Gs(cie),fie=jn({},Hb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),die=Gs(fie),hie=[9,13,27,32],HN=Cl&&"CompositionEvent"in window,Zg=null;Cl&&"documentMode"in document&&(Zg=document.documentMode);var pie=Cl&&"TextEvent"in window&&!Zg,Y6=Cl&&(!HN||Zg&&8<Zg&&11>=Zg),_U=" ",bU=!1;function K6(t,e){switch(t){case"keyup":return hie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dh=!1;function mie(t,e){switch(t){case"compositionend":return q6(e);case"keypress":return e.which!==32?null:(bU=!0,_U);case"textInput":return t=e.data,t===_U&&bU?null:t;default:return null}}function gie(t,e){if(Dh)return t==="compositionend"||!HN&&K6(t,e)?(t=X6(),mw=zN=Vc=null,Dh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y6&&e.locale!=="ko"?null:e.data;default:return null}}var vie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vie[t.type]:e==="textarea"}function Z6(t,e,n,r){C6(r),e=r_(e,"onChange"),0<e.length&&(n=new jN("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qg=null,Mv=null;function yie(t){l8(t,0)}function Wb(t){var e=kh(t);if(_6(e))return t}function xie(t,e){if(t==="change")return e}var Q6=!1;if(Cl){var hT;if(Cl){var pT="oninput"in document;if(!pT){var EU=document.createElement("div");EU.setAttribute("oninput","return;"),pT=typeof EU.oninput=="function"}hT=pT}else hT=!1;Q6=hT&&(!document.documentMode||9<document.documentMode)}function MU(){Qg&&(Qg.detachEvent("onpropertychange",J6),Mv=Qg=null)}function J6(t){if(t.propertyName==="value"&&Wb(Mv)){var e=[];Z6(e,Mv,t,ON(t)),I6(yie,e)}}function wie(t,e,n){t==="focusin"?(MU(),Qg=e,Mv=n,Qg.attachEvent("onpropertychange",J6)):t==="focusout"&&MU()}function _ie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wb(Mv)}function bie(t,e){if(t==="click")return Wb(e)}function Sie(t,e){if(t==="input"||t==="change")return Wb(e)}function Eie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qo=typeof Object.is=="function"?Object.is:Eie;function Tv(t,e){if(Qo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!k2.call(e,i)||!Qo(t[i],e[i]))return!1}return!0}function TU(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AU(t,e){var n=TU(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TU(n)}}function e8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function t8(){for(var t=window,e=qw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qw(t.document)}return e}function WN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mie(t){var e=t8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&e8(n.ownerDocument.documentElement,n)){if(r!==null&&WN(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=AU(n,s);var o=AU(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tie=Cl&&"documentMode"in document&&11>=document.documentMode,Lh=null,tC=null,Jg=null,nC=!1;function CU(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nC||Lh==null||Lh!==qw(r)||(r=Lh,"selectionStart"in r&&WN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jg&&Tv(Jg,r)||(Jg=r,r=r_(tC,"onSelect"),0<r.length&&(e=new jN("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lh)))}function Mx(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oh={animationend:Mx("Animation","AnimationEnd"),animationiteration:Mx("Animation","AnimationIteration"),animationstart:Mx("Animation","AnimationStart"),transitionend:Mx("Transition","TransitionEnd")},mT={},n8={};Cl&&(n8=document.createElement("div").style,"AnimationEvent"in window||(delete Oh.animationend.animation,delete Oh.animationiteration.animation,delete Oh.animationstart.animation),"TransitionEvent"in window||delete Oh.transitionend.transition);function Gb(t){if(mT[t])return mT[t];if(!Oh[t])return t;var e=Oh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in n8)return mT[t]=e[n];return t}var r8=Gb("animationend"),i8=Gb("animationiteration"),s8=Gb("animationstart"),o8=Gb("transitionend"),a8=new Map,PU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xu(t,e){a8.set(t,e),yd(e,[t])}for(var gT=0;gT<PU.length;gT++){var vT=PU[gT],Aie=vT.toLowerCase(),Cie=vT[0].toUpperCase()+vT.slice(1);xu(Aie,"on"+Cie)}xu(r8,"onAnimationEnd");xu(i8,"onAnimationIteration");xu(s8,"onAnimationStart");xu("dblclick","onDoubleClick");xu("focusin","onFocus");xu("focusout","onBlur");xu(o8,"onTransitionEnd");Tp("onMouseEnter",["mouseout","mouseover"]);Tp("onMouseLeave",["mouseout","mouseover"]);Tp("onPointerEnter",["pointerout","pointerover"]);Tp("onPointerLeave",["pointerout","pointerover"]);yd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yd("onBeforeInput",["compositionend","keypress","textInput","paste"]);yd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pie=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bg));function RU(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Are(r,e,void 0,t),t.currentTarget=null}function l8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;RU(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;RU(i,a,c),s=l}}}if(Qw)throw t=Z2,Qw=!1,Z2=null,t}function Sn(t,e){var n=e[aC];n===void 0&&(n=e[aC]=new Set);var r=t+"__bubble";n.has(r)||(c8(e,t,2,!1),n.add(r))}function yT(t,e,n){var r=0;e&&(r|=4),c8(n,t,r,e)}var Tx="_reactListening"+Math.random().toString(36).slice(2);function Av(t){if(!t[Tx]){t[Tx]=!0,g6.forEach(function(n){n!=="selectionchange"&&(Pie.has(n)||yT(n,!1,t),yT(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tx]||(e[Tx]=!0,yT("selectionchange",!1,e))}}function c8(t,e,n,r){switch($6(e)){case 1:var i=Hre;break;case 4:i=Wre;break;default:i=BN}n=i.bind(null,e,n,t),i=void 0,!q2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xT(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vf(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}I6(function(){var c=s,u=ON(n),f=[];e:{var d=a8.get(t);if(d!==void 0){var h=jN,p=t;switch(t){case"keypress":if(gw(n)===0)break e;case"keydown":case"keyup":h=sie;break;case"focusin":p="focus",h=dT;break;case"focusout":p="blur",h=dT;break;case"beforeblur":case"afterblur":h=dT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Xre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=lie;break;case r8:case i8:case s8:h=qre;break;case o8:h=uie;break;case"scroll":h=Gre;break;case"wheel":h=die;break;case"copy":case"cut":case"paste":h=Qre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=wU}var v=(e&4)!==0,y=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var _=c,w;_!==null;){w=_;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=_v(_,g),b!=null&&v.push(Cv(_,b,w)))),y)break;_=_.return}0<v.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Y2&&(p=n.relatedTarget||n.fromElement)&&(vf(p)||p[Pl]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?vf(p):null,p!==null&&(y=xd(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(v=yU,b="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=wU,b="onPointerLeave",g="onPointerEnter",_="pointer"),y=h==null?d:kh(h),w=p==null?d:kh(p),d=new v(b,_+"leave",h,n,u),d.target=y,d.relatedTarget=w,b=null,vf(u)===c&&(v=new v(g,_+"enter",p,n,u),v.target=w,v.relatedTarget=y,b=v),y=b,h&&p)t:{for(v=h,g=p,_=0,w=v;w;w=qd(w))_++;for(w=0,b=g;b;b=qd(b))w++;for(;0<_-w;)v=qd(v),_--;for(;0<w-_;)g=qd(g),w--;for(;_--;){if(v===g||g!==null&&v===g.alternate)break t;v=qd(v),g=qd(g)}v=null}else v=null;h!==null&&NU(f,d,h,v,!1),p!==null&&y!==null&&NU(f,y,p,v,!0)}}e:{if(d=c?kh(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var M=xie;else if(SU(d))if(Q6)M=Sie;else{M=_ie;var A=wie}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=bie);if(M&&(M=M(t,c))){Z6(f,M,n,u);break e}A&&A(t,d,c),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&H2(d,"number",d.value)}switch(A=c?kh(c):window,t){case"focusin":(SU(A)||A.contentEditable==="true")&&(Lh=A,tC=c,Jg=null);break;case"focusout":Jg=tC=Lh=null;break;case"mousedown":nC=!0;break;case"contextmenu":case"mouseup":case"dragend":nC=!1,CU(f,n,u);break;case"selectionchange":if(Tie)break;case"keydown":case"keyup":CU(f,n,u)}var C;if(HN)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Dh?K6(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Y6&&n.locale!=="ko"&&(Dh||N!=="onCompositionStart"?N==="onCompositionEnd"&&Dh&&(C=X6()):(Vc=u,zN="value"in Vc?Vc.value:Vc.textContent,Dh=!0)),A=r_(c,N),0<A.length&&(N=new xU(N,t,null,n,u),f.push({event:N,listeners:A}),C?N.data=C:(C=q6(n),C!==null&&(N.data=C)))),(C=pie?mie(t,n):gie(t,n))&&(c=r_(c,"onBeforeInput"),0<c.length&&(u=new xU("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}l8(f,e)})}function Cv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function r_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_v(t,n),s!=null&&r.unshift(Cv(t,s,i)),s=_v(t,e),s!=null&&r.push(Cv(t,s,i))),t=t.return}return r}function qd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NU(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=_v(n,s),l!=null&&o.unshift(Cv(n,l,a))):i||(l=_v(n,s),l!=null&&o.push(Cv(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rie=/\r\n?/g,Nie=/\u0000|\uFFFD/g;function IU(t){return(typeof t=="string"?t:""+t).replace(Rie,`
`).replace(Nie,"")}function Ax(t,e,n){if(e=IU(e),IU(t)!==e&&n)throw Error(Ke(425))}function i_(){}var rC=null,iC=null;function sC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oC=typeof setTimeout=="function"?setTimeout:void 0,Iie=typeof clearTimeout=="function"?clearTimeout:void 0,DU=typeof Promise=="function"?Promise:void 0,Die=typeof queueMicrotask=="function"?queueMicrotask:typeof DU<"u"?function(t){return DU.resolve(null).then(t).catch(Lie)}:oC;function Lie(t){setTimeout(function(){throw t})}function wT(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ev(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ev(e)}function Yc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LU(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var om=Math.random().toString(36).slice(2),Sa="__reactFiber$"+om,Pv="__reactProps$"+om,Pl="__reactContainer$"+om,aC="__reactEvents$"+om,Oie="__reactListeners$"+om,kie="__reactHandles$"+om;function vf(t){var e=t[Sa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pl]||n[Sa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LU(t);t!==null;){if(n=t[Sa])return n;t=LU(t)}return e}t=n,n=t.parentNode}return null}function z0(t){return t=t[Sa]||t[Pl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ke(33))}function $b(t){return t[Pv]||null}var lC=[],Uh=-1;function wu(t){return{current:t}}function Tn(t){0>Uh||(t.current=lC[Uh],lC[Uh]=null,Uh--)}function _n(t,e){Uh++,lC[Uh]=t.current,t.current=e}var lu={},Pi=wu(lu),ds=wu(!1),Kf=lu;function Ap(t,e){var n=t.type.contextTypes;if(!n)return lu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hs(t){return t=t.childContextTypes,t!=null}function s_(){Tn(ds),Tn(Pi)}function OU(t,e,n){if(Pi.current!==lu)throw Error(Ke(168));_n(Pi,e),_n(ds,n)}function u8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ke(108,wre(t)||"Unknown",i));return jn({},n,r)}function o_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lu,Kf=Pi.current,_n(Pi,t),_n(ds,ds.current),!0}function kU(t,e,n){var r=t.stateNode;if(!r)throw Error(Ke(169));n?(t=u8(t,e,Kf),r.__reactInternalMemoizedMergedChildContext=t,Tn(ds),Tn(Pi),_n(Pi,t)):Tn(ds),_n(ds,n)}var fl=null,Xb=!1,_T=!1;function f8(t){fl===null?fl=[t]:fl.push(t)}function Uie(t){Xb=!0,f8(t)}function _u(){if(!_T&&fl!==null){_T=!0;var t=0,e=fn;try{var n=fl;for(fn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fl=null,Xb=!1}catch(i){throw fl!==null&&(fl=fl.slice(t+1)),k6(kN,_u),i}finally{fn=e,_T=!1}}return null}var Fh=[],Bh=0,a_=null,l_=0,co=[],uo=0,qf=null,ml=1,gl="";function sf(t,e){Fh[Bh++]=l_,Fh[Bh++]=a_,a_=t,l_=e}function d8(t,e,n){co[uo++]=ml,co[uo++]=gl,co[uo++]=qf,qf=t;var r=ml;t=gl;var i=32-qo(r)-1;r&=~(1<<i),n+=1;var s=32-qo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ml=1<<32-qo(e)+i|n<<i|r,gl=s+t}else ml=1<<s|n<<i|r,gl=t}function GN(t){t.return!==null&&(sf(t,1),d8(t,1,0))}function $N(t){for(;t===a_;)a_=Fh[--Bh],Fh[Bh]=null,l_=Fh[--Bh],Fh[Bh]=null;for(;t===qf;)qf=co[--uo],co[uo]=null,gl=co[--uo],co[uo]=null,ml=co[--uo],co[uo]=null}var ks=null,Ls=null,Pn=!1,zo=null;function h8(t,e){var n=ho(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function UU(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ks=t,Ls=Yc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ks=t,Ls=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qf!==null?{id:ml,overflow:gl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ho(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ks=t,Ls=null,!0):!1;default:return!1}}function cC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uC(t){if(Pn){var e=Ls;if(e){var n=e;if(!UU(t,e)){if(cC(t))throw Error(Ke(418));e=Yc(n.nextSibling);var r=ks;e&&UU(t,e)?h8(r,n):(t.flags=t.flags&-4097|2,Pn=!1,ks=t)}}else{if(cC(t))throw Error(Ke(418));t.flags=t.flags&-4097|2,Pn=!1,ks=t}}}function FU(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ks=t}function Cx(t){if(t!==ks)return!1;if(!Pn)return FU(t),Pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sC(t.type,t.memoizedProps)),e&&(e=Ls)){if(cC(t))throw p8(),Error(Ke(418));for(;e;)h8(t,e),e=Yc(e.nextSibling)}if(FU(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ls=Yc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ls=null}}else Ls=ks?Yc(t.stateNode.nextSibling):null;return!0}function p8(){for(var t=Ls;t;)t=Yc(t.nextSibling)}function Cp(){Ls=ks=null,Pn=!1}function XN(t){zo===null?zo=[t]:zo.push(t)}var Fie=Gl.ReactCurrentBatchConfig;function ag(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ke(309));var r=n.stateNode}if(!r)throw Error(Ke(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ke(284));if(!n._owner)throw Error(Ke(290,t))}return t}function Px(t,e){throw t=Object.prototype.toString.call(e),Error(Ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BU(t){var e=t._init;return e(t._payload)}function m8(t){function e(g,_){if(t){var w=g.deletions;w===null?(g.deletions=[_],g.flags|=16):w.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Qc(g,_),g.index=0,g.sibling=null,g}function s(g,_,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<_?(g.flags|=2,_):w):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,w,b){return _===null||_.tag!==6?(_=CT(w,g.mode,b),_.return=g,_):(_=i(_,w),_.return=g,_)}function l(g,_,w,b){var M=w.type;return M===Ih?u(g,_,w.props.children,b,w.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Pc&&BU(M)===_.type)?(b=i(_,w.props),b.ref=ag(g,_,w),b.return=g,b):(b=Sw(w.type,w.key,w.props,null,g.mode,b),b.ref=ag(g,_,w),b.return=g,b)}function c(g,_,w,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=PT(w,g.mode,b),_.return=g,_):(_=i(_,w.children||[]),_.return=g,_)}function u(g,_,w,b,M){return _===null||_.tag!==7?(_=Lf(w,g.mode,b,M),_.return=g,_):(_=i(_,w),_.return=g,_)}function f(g,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=CT(""+_,g.mode,w),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yx:return w=Sw(_.type,_.key,_.props,null,g.mode,w),w.ref=ag(g,null,_),w.return=g,w;case Nh:return _=PT(_,g.mode,w),_.return=g,_;case Pc:var b=_._init;return f(g,b(_._payload),w)}if(Ug(_)||ng(_))return _=Lf(_,g.mode,w,null),_.return=g,_;Px(g,_)}return null}function d(g,_,w,b){var M=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(g,_,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yx:return w.key===M?l(g,_,w,b):null;case Nh:return w.key===M?c(g,_,w,b):null;case Pc:return M=w._init,d(g,_,M(w._payload),b)}if(Ug(w)||ng(w))return M!==null?null:u(g,_,w,b,null);Px(g,w)}return null}function h(g,_,w,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,a(_,g,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yx:return g=g.get(b.key===null?w:b.key)||null,l(_,g,b,M);case Nh:return g=g.get(b.key===null?w:b.key)||null,c(_,g,b,M);case Pc:var A=b._init;return h(g,_,w,A(b._payload),M)}if(Ug(b)||ng(b))return g=g.get(w)||null,u(_,g,b,M,null);Px(_,b)}return null}function p(g,_,w,b){for(var M=null,A=null,C=_,N=_=0,R=null;C!==null&&N<w.length;N++){C.index>N?(R=C,C=null):R=C.sibling;var D=d(g,C,w[N],b);if(D===null){C===null&&(C=R);break}t&&C&&D.alternate===null&&e(g,C),_=s(D,_,N),A===null?M=D:A.sibling=D,A=D,C=R}if(N===w.length)return n(g,C),Pn&&sf(g,N),M;if(C===null){for(;N<w.length;N++)C=f(g,w[N],b),C!==null&&(_=s(C,_,N),A===null?M=C:A.sibling=C,A=C);return Pn&&sf(g,N),M}for(C=r(g,C);N<w.length;N++)R=h(C,g,N,w[N],b),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?N:R.key),_=s(R,_,N),A===null?M=R:A.sibling=R,A=R);return t&&C.forEach(function(F){return e(g,F)}),Pn&&sf(g,N),M}function v(g,_,w,b){var M=ng(w);if(typeof M!="function")throw Error(Ke(150));if(w=M.call(w),w==null)throw Error(Ke(151));for(var A=M=null,C=_,N=_=0,R=null,D=w.next();C!==null&&!D.done;N++,D=w.next()){C.index>N?(R=C,C=null):R=C.sibling;var F=d(g,C,D.value,b);if(F===null){C===null&&(C=R);break}t&&C&&F.alternate===null&&e(g,C),_=s(F,_,N),A===null?M=F:A.sibling=F,A=F,C=R}if(D.done)return n(g,C),Pn&&sf(g,N),M;if(C===null){for(;!D.done;N++,D=w.next())D=f(g,D.value,b),D!==null&&(_=s(D,_,N),A===null?M=D:A.sibling=D,A=D);return Pn&&sf(g,N),M}for(C=r(g,C);!D.done;N++,D=w.next())D=h(C,g,N,D.value,b),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?N:D.key),_=s(D,_,N),A===null?M=D:A.sibling=D,A=D);return t&&C.forEach(function(U){return e(g,U)}),Pn&&sf(g,N),M}function y(g,_,w,b){if(typeof w=="object"&&w!==null&&w.type===Ih&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yx:e:{for(var M=w.key,A=_;A!==null;){if(A.key===M){if(M=w.type,M===Ih){if(A.tag===7){n(g,A.sibling),_=i(A,w.props.children),_.return=g,g=_;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Pc&&BU(M)===A.type){n(g,A.sibling),_=i(A,w.props),_.ref=ag(g,A,w),_.return=g,g=_;break e}n(g,A);break}else e(g,A);A=A.sibling}w.type===Ih?(_=Lf(w.props.children,g.mode,b,w.key),_.return=g,g=_):(b=Sw(w.type,w.key,w.props,null,g.mode,b),b.ref=ag(g,_,w),b.return=g,g=b)}return o(g);case Nh:e:{for(A=w.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(g,_.sibling),_=i(_,w.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=PT(w,g.mode,b),_.return=g,g=_}return o(g);case Pc:return A=w._init,y(g,_,A(w._payload),b)}if(Ug(w))return p(g,_,w,b);if(ng(w))return v(g,_,w,b);Px(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,w),_.return=g,g=_):(n(g,_),_=CT(w,g.mode,b),_.return=g,g=_),o(g)):n(g,_)}return y}var Pp=m8(!0),g8=m8(!1),c_=wu(null),u_=null,zh=null,YN=null;function KN(){YN=zh=u_=null}function qN(t){var e=c_.current;Tn(c_),t._currentValue=e}function fC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lp(t,e){u_=t,YN=zh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cs=!0),t.firstContext=null)}function vo(t){var e=t._currentValue;if(YN!==t)if(t={context:t,memoizedValue:e,next:null},zh===null){if(u_===null)throw Error(Ke(308));zh=t,u_.dependencies={lanes:0,firstContext:t}}else zh=zh.next=t;return e}var yf=null;function ZN(t){yf===null?yf=[t]:yf.push(t)}function v8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZN(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rl(t,r)}function Rl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rc=!1;function QN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rl(t,n)}return i=r.interleaved,i===null?(e.next=e,ZN(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rl(t,n)}function vw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,UN(t,n)}}function zU(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function f_(t,e,n,r){var i=t.updateQueue;Rc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(d=e,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=jn({},f,d);break e;case 2:Rc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qf|=o,t.lanes=o,t.memoizedState=f}}function jU(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ke(191,i));i.call(r)}}}var j0={},Ca=wu(j0),Rv=wu(j0),Nv=wu(j0);function xf(t){if(t===j0)throw Error(Ke(174));return t}function JN(t,e){switch(_n(Nv,e),_n(Rv,t),_n(Ca,j0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:G2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=G2(e,t)}Tn(Ca),_n(Ca,e)}function Rp(){Tn(Ca),Tn(Rv),Tn(Nv)}function x8(t){xf(Nv.current);var e=xf(Ca.current),n=G2(e,t.type);e!==n&&(_n(Rv,t),_n(Ca,n))}function eI(t){Rv.current===t&&(Tn(Ca),Tn(Rv))}var kn=wu(0);function d_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bT=[];function tI(){for(var t=0;t<bT.length;t++)bT[t]._workInProgressVersionPrimary=null;bT.length=0}var yw=Gl.ReactCurrentDispatcher,ST=Gl.ReactCurrentBatchConfig,Zf=0,zn=null,Cr=null,Vr=null,h_=!1,ev=!1,Iv=0,Bie=0;function vi(){throw Error(Ke(321))}function nI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qo(t[n],e[n]))return!1;return!0}function rI(t,e,n,r,i,s){if(Zf=s,zn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yw.current=t===null||t.memoizedState===null?Hie:Wie,t=n(r,i),ev){s=0;do{if(ev=!1,Iv=0,25<=s)throw Error(Ke(301));s+=1,Vr=Cr=null,e.updateQueue=null,yw.current=Gie,t=n(r,i)}while(ev)}if(yw.current=p_,e=Cr!==null&&Cr.next!==null,Zf=0,Vr=Cr=zn=null,h_=!1,e)throw Error(Ke(300));return t}function iI(){var t=Iv!==0;return Iv=0,t}function xa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?zn.memoizedState=Vr=t:Vr=Vr.next=t,Vr}function yo(){if(Cr===null){var t=zn.alternate;t=t!==null?t.memoizedState:null}else t=Cr.next;var e=Vr===null?zn.memoizedState:Vr.next;if(e!==null)Vr=e,Cr=t;else{if(t===null)throw Error(Ke(310));Cr=t,t={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Vr===null?zn.memoizedState=Vr=t:Vr=Vr.next=t}return Vr}function Dv(t,e){return typeof e=="function"?e(t):e}function ET(t){var e=yo(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var r=Cr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Zf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,zn.lanes|=u,Qf|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Qo(r,e.memoizedState)||(cs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,zn.lanes|=s,Qf|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function MT(t){var e=yo(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Qo(s,e.memoizedState)||(cs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function w8(){}function _8(t,e){var n=zn,r=yo(),i=e(),s=!Qo(r.memoizedState,i);if(s&&(r.memoizedState=i,cs=!0),r=r.queue,sI(E8.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Vr!==null&&Vr.memoizedState.tag&1){if(n.flags|=2048,Lv(9,S8.bind(null,n,r,i,e),void 0,null),Gr===null)throw Error(Ke(349));Zf&30||b8(n,e,i)}return i}function b8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zn.updateQueue,e===null?(e={lastEffect:null,stores:null},zn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S8(t,e,n,r){e.value=n,e.getSnapshot=r,M8(e)&&T8(t)}function E8(t,e,n){return n(function(){M8(e)&&T8(t)})}function M8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qo(t,n)}catch{return!0}}function T8(t){var e=Rl(t,1);e!==null&&Zo(e,t,1,-1)}function VU(t){var e=xa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dv,lastRenderedState:t},e.queue=t,t=t.dispatch=Vie.bind(null,zn,t),[e.memoizedState,t]}function Lv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zn.updateQueue,e===null?(e={lastEffect:null,stores:null},zn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function A8(){return yo().memoizedState}function xw(t,e,n,r){var i=xa();zn.flags|=t,i.memoizedState=Lv(1|e,n,void 0,r===void 0?null:r)}function Yb(t,e,n,r){var i=yo();r=r===void 0?null:r;var s=void 0;if(Cr!==null){var o=Cr.memoizedState;if(s=o.destroy,r!==null&&nI(r,o.deps)){i.memoizedState=Lv(e,n,s,r);return}}zn.flags|=t,i.memoizedState=Lv(1|e,n,s,r)}function HU(t,e){return xw(8390656,8,t,e)}function sI(t,e){return Yb(2048,8,t,e)}function C8(t,e){return Yb(4,2,t,e)}function P8(t,e){return Yb(4,4,t,e)}function R8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N8(t,e,n){return n=n!=null?n.concat([t]):null,Yb(4,4,R8.bind(null,e,t),n)}function oI(){}function I8(t,e){var n=yo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function D8(t,e){var n=yo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L8(t,e,n){return Zf&21?(Qo(n,e)||(n=B6(),zn.lanes|=n,Qf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cs=!0),t.memoizedState=n)}function zie(t,e){var n=fn;fn=n!==0&&4>n?n:4,t(!0);var r=ST.transition;ST.transition={};try{t(!1),e()}finally{fn=n,ST.transition=r}}function O8(){return yo().memoizedState}function jie(t,e,n){var r=Zc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k8(t))U8(e,n);else if(n=v8(t,e,n,r),n!==null){var i=Yi();Zo(n,t,r,i),F8(n,e,r)}}function Vie(t,e,n){var r=Zc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k8(t))U8(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Qo(a,o)){var l=e.interleaved;l===null?(i.next=i,ZN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=v8(t,e,i,r),n!==null&&(i=Yi(),Zo(n,t,r,i),F8(n,e,r))}}function k8(t){var e=t.alternate;return t===zn||e!==null&&e===zn}function U8(t,e){ev=h_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function F8(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,UN(t,n)}}var p_={readContext:vo,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},Hie={readContext:vo,useCallback:function(t,e){return xa().memoizedState=[t,e===void 0?null:e],t},useContext:vo,useEffect:HU,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xw(4194308,4,R8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xw(4194308,4,t,e)},useInsertionEffect:function(t,e){return xw(4,2,t,e)},useMemo:function(t,e){var n=xa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jie.bind(null,zn,t),[r.memoizedState,t]},useRef:function(t){var e=xa();return t={current:t},e.memoizedState=t},useState:VU,useDebugValue:oI,useDeferredValue:function(t){return xa().memoizedState=t},useTransition:function(){var t=VU(!1),e=t[0];return t=zie.bind(null,t[1]),xa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zn,i=xa();if(Pn){if(n===void 0)throw Error(Ke(407));n=n()}else{if(n=e(),Gr===null)throw Error(Ke(349));Zf&30||b8(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,HU(E8.bind(null,r,s,t),[t]),r.flags|=2048,Lv(9,S8.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xa(),e=Gr.identifierPrefix;if(Pn){var n=gl,r=ml;n=(r&~(1<<32-qo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Iv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bie++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wie={readContext:vo,useCallback:I8,useContext:vo,useEffect:sI,useImperativeHandle:N8,useInsertionEffect:C8,useLayoutEffect:P8,useMemo:D8,useReducer:ET,useRef:A8,useState:function(){return ET(Dv)},useDebugValue:oI,useDeferredValue:function(t){var e=yo();return L8(e,Cr.memoizedState,t)},useTransition:function(){var t=ET(Dv)[0],e=yo().memoizedState;return[t,e]},useMutableSource:w8,useSyncExternalStore:_8,useId:O8,unstable_isNewReconciler:!1},Gie={readContext:vo,useCallback:I8,useContext:vo,useEffect:sI,useImperativeHandle:N8,useInsertionEffect:C8,useLayoutEffect:P8,useMemo:D8,useReducer:MT,useRef:A8,useState:function(){return MT(Dv)},useDebugValue:oI,useDeferredValue:function(t){var e=yo();return Cr===null?e.memoizedState=t:L8(e,Cr.memoizedState,t)},useTransition:function(){var t=MT(Dv)[0],e=yo().memoizedState;return[t,e]},useMutableSource:w8,useSyncExternalStore:_8,useId:O8,unstable_isNewReconciler:!1};function Lo(t,e){if(t&&t.defaultProps){e=jn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kb={isMounted:function(t){return(t=t._reactInternals)?xd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yi(),i=Zc(t),s=bl(r,i);s.payload=e,n!=null&&(s.callback=n),e=Kc(t,s,i),e!==null&&(Zo(e,t,i,r),vw(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yi(),i=Zc(t),s=bl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Kc(t,s,i),e!==null&&(Zo(e,t,i,r),vw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yi(),r=Zc(t),i=bl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kc(t,i,r),e!==null&&(Zo(e,t,r,n),vw(e,t,r))}};function WU(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tv(n,r)||!Tv(i,s):!0}function B8(t,e,n){var r=!1,i=lu,s=e.contextType;return typeof s=="object"&&s!==null?s=vo(s):(i=hs(e)?Kf:Pi.current,r=e.contextTypes,s=(r=r!=null)?Ap(t,i):lu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kb,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function GU(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kb.enqueueReplaceState(e,e.state,null)}function hC(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},QN(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vo(s):(s=hs(e)?Kf:Pi.current,i.context=Ap(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dC(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kb.enqueueReplaceState(i,i.state,null),f_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Np(t,e){try{var n="",r=e;do n+=xre(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function TT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pC(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $ie=typeof WeakMap=="function"?WeakMap:Map;function z8(t,e,n){n=bl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){g_||(g_=!0,EC=r),pC(t,e)},n}function j8(t,e,n){n=bl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pC(t,e),typeof r!="function"&&(qc===null?qc=new Set([this]):qc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $U(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $ie;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ose.bind(null,t,e,n),e.then(t,t))}function XU(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YU(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bl(-1,1),e.tag=2,Kc(n,e,1))),n.lanes|=1),t)}var Xie=Gl.ReactCurrentOwner,cs=!1;function Hi(t,e,n,r){e.child=t===null?g8(e,null,n,r):Pp(e,t.child,n,r)}function KU(t,e,n,r,i){n=n.render;var s=e.ref;return lp(e,i),r=rI(t,e,n,r,s,i),n=iI(),t!==null&&!cs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nl(t,e,i)):(Pn&&n&&GN(e),e.flags|=1,Hi(t,e,r,i),e.child)}function qU(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,V8(t,e,s,r,i)):(t=Sw(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tv,n(o,r)&&t.ref===e.ref)return Nl(t,e,i)}return e.flags|=1,t=Qc(s,r),t.ref=e.ref,t.return=e,e.child=t}function V8(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tv(s,r)&&t.ref===e.ref)if(cs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(cs=!0);else return e.lanes=t.lanes,Nl(t,e,i)}return mC(t,e,n,r,i)}function H8(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(Vh,Cs),Cs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_n(Vh,Cs),Cs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_n(Vh,Cs),Cs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_n(Vh,Cs),Cs|=r;return Hi(t,e,i,n),e.child}function W8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mC(t,e,n,r,i){var s=hs(n)?Kf:Pi.current;return s=Ap(e,s),lp(e,i),n=rI(t,e,n,r,s,i),r=iI(),t!==null&&!cs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nl(t,e,i)):(Pn&&r&&GN(e),e.flags|=1,Hi(t,e,n,i),e.child)}function ZU(t,e,n,r,i){if(hs(n)){var s=!0;o_(e)}else s=!1;if(lp(e,i),e.stateNode===null)ww(t,e),B8(e,n,r),hC(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vo(c):(c=hs(n)?Kf:Pi.current,c=Ap(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&GU(e,o,r,c),Rc=!1;var d=e.memoizedState;o.state=d,f_(e,r,o,i),l=e.memoizedState,a!==r||d!==l||ds.current||Rc?(typeof u=="function"&&(dC(e,n,u,r),l=e.memoizedState),(a=Rc||WU(e,n,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,y8(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lo(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vo(l):(l=hs(n)?Kf:Pi.current,l=Ap(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&GU(e,o,r,l),Rc=!1,d=e.memoizedState,o.state=d,f_(e,r,o,i);var p=e.memoizedState;a!==f||d!==p||ds.current||Rc?(typeof h=="function"&&(dC(e,n,h,r),p=e.memoizedState),(c=Rc||WU(e,n,c,r,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return gC(t,e,n,r,s,i)}function gC(t,e,n,r,i,s){W8(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kU(e,n,!1),Nl(t,e,s);r=e.stateNode,Xie.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pp(e,t.child,null,s),e.child=Pp(e,null,a,s)):Hi(t,e,a,s),e.memoizedState=r.state,i&&kU(e,n,!0),e.child}function G8(t){var e=t.stateNode;e.pendingContext?OU(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OU(t,e.context,!1),JN(t,e.containerInfo)}function QU(t,e,n,r,i){return Cp(),XN(i),e.flags|=256,Hi(t,e,n,r),e.child}var vC={dehydrated:null,treeContext:null,retryLane:0};function yC(t){return{baseLanes:t,cachePool:null,transitions:null}}function $8(t,e,n){var r=e.pendingProps,i=kn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_n(kn,i&1),t===null)return uC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qb(o,r,0,null),t=Lf(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yC(n),e.memoizedState=vC,t):aI(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Yie(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qc(a,s):(s=Lf(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vC,r}return s=t.child,t=s.sibling,r=Qc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aI(t,e){return e=Qb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rx(t,e,n,r){return r!==null&&XN(r),Pp(e,t.child,null,n),t=aI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yie(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=TT(Error(Ke(422))),Rx(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qb({mode:"visible",children:r.children},i,0,null),s=Lf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Pp(e,t.child,null,o),e.child.memoizedState=yC(o),e.memoizedState=vC,s);if(!(e.mode&1))return Rx(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ke(419)),r=TT(s,r,void 0),Rx(t,e,o,r)}if(a=(o&t.childLanes)!==0,cs||a){if(r=Gr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rl(t,i),Zo(r,t,i,-1))}return hI(),r=TT(Error(Ke(421))),Rx(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ase.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ls=Yc(i.nextSibling),ks=e,Pn=!0,zo=null,t!==null&&(co[uo++]=ml,co[uo++]=gl,co[uo++]=qf,ml=t.id,gl=t.overflow,qf=e),e=aI(e,r.children),e.flags|=4096,e)}function JU(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fC(t.return,e,n)}function AT(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function X8(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Hi(t,e,r.children,n),r=kn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JU(t,n,e);else if(t.tag===19)JU(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_n(kn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&d_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),AT(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&d_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}AT(e,!0,n,null,s);break;case"together":AT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ww(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ke(153));if(e.child!==null){for(t=e.child,n=Qc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kie(t,e,n){switch(e.tag){case 3:G8(e),Cp();break;case 5:x8(e);break;case 1:hs(e.type)&&o_(e);break;case 4:JN(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_n(c_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_n(kn,kn.current&1),e.flags|=128,null):n&e.child.childLanes?$8(t,e,n):(_n(kn,kn.current&1),t=Nl(t,e,n),t!==null?t.sibling:null);_n(kn,kn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return X8(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(kn,kn.current),r)break;return null;case 22:case 23:return e.lanes=0,H8(t,e,n)}return Nl(t,e,n)}var Y8,xC,K8,q8;Y8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xC=function(){};K8=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xf(Ca.current);var s=null;switch(n){case"input":i=j2(t,i),r=j2(t,r),s=[];break;case"select":i=jn({},i,{value:void 0}),r=jn({},r,{value:void 0}),s=[];break;case"textarea":i=W2(t,i),r=W2(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=i_)}$2(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xv.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Sn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};q8=function(t,e,n,r){n!==r&&(e.flags|=4)};function lg(t,e){if(!Pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qie(t,e,n){var r=e.pendingProps;switch($N(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(e),null;case 1:return hs(e.type)&&s_(),yi(e),null;case 3:return r=e.stateNode,Rp(),Tn(ds),Tn(Pi),tI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zo!==null&&(AC(zo),zo=null))),xC(t,e),yi(e),null;case 5:eI(e);var i=xf(Nv.current);if(n=e.type,t!==null&&e.stateNode!=null)K8(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ke(166));return yi(e),null}if(t=xf(Ca.current),Cx(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sa]=e,r[Pv]=s,t=(e.mode&1)!==0,n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(i=0;i<Bg.length;i++)Sn(Bg[i],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":lU(r,s),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Sn("invalid",r);break;case"textarea":uU(r,s),Sn("invalid",r)}$2(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ax(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ax(r.textContent,a,t),i=["children",""+a]):xv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Sn("scroll",r)}switch(n){case"input":xx(r),cU(r,s,!0);break;case"textarea":xx(r),fU(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=i_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sa]=e,t[Pv]=r,Y8(t,e,!1,!1),e.stateNode=t;e:{switch(o=X2(n,r),n){case"dialog":Sn("cancel",t),Sn("close",t),i=r;break;case"iframe":case"object":case"embed":Sn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bg.length;i++)Sn(Bg[i],t);i=r;break;case"source":Sn("error",t),i=r;break;case"img":case"image":case"link":Sn("error",t),Sn("load",t),i=r;break;case"details":Sn("toggle",t),i=r;break;case"input":lU(t,r),i=j2(t,r),Sn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=jn({},r,{value:void 0}),Sn("invalid",t);break;case"textarea":uU(t,r),i=W2(t,r),Sn("invalid",t);break;default:i=r}$2(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?A6(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M6(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wv(t,l):typeof l=="number"&&wv(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xv.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Sn("scroll",t):l!=null&&NN(t,s,l,o))}switch(n){case"input":xx(t),cU(t,r,!1);break;case"textarea":xx(t),fU(t);break;case"option":r.value!=null&&t.setAttribute("value",""+au(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ip(t,!!r.multiple,s,!1):r.defaultValue!=null&&ip(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=i_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yi(e),null;case 6:if(t&&e.stateNode!=null)q8(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ke(166));if(n=xf(Nv.current),xf(Ca.current),Cx(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sa]=e,(s=r.nodeValue!==n)&&(t=ks,t!==null))switch(t.tag){case 3:Ax(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ax(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sa]=e,e.stateNode=r}return yi(e),null;case 13:if(Tn(kn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pn&&Ls!==null&&e.mode&1&&!(e.flags&128))p8(),Cp(),e.flags|=98560,s=!1;else if(s=Cx(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ke(317));s[Sa]=e}else Cp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yi(e),s=!1}else zo!==null&&(AC(zo),zo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kn.current&1?Rr===0&&(Rr=3):hI())),e.updateQueue!==null&&(e.flags|=4),yi(e),null);case 4:return Rp(),xC(t,e),t===null&&Av(e.stateNode.containerInfo),yi(e),null;case 10:return qN(e.type._context),yi(e),null;case 17:return hs(e.type)&&s_(),yi(e),null;case 19:if(Tn(kn),s=e.memoizedState,s===null)return yi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)lg(s,!1);else{if(Rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=d_(t),o!==null){for(e.flags|=128,lg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _n(kn,kn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ur()>Ip&&(e.flags|=128,r=!0,lg(s,!1),e.lanes=4194304)}else{if(!r)if(t=d_(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return yi(e),null}else 2*ur()-s.renderingStartTime>Ip&&n!==1073741824&&(e.flags|=128,r=!0,lg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ur(),e.sibling=null,n=kn.current,_n(kn,r?n&1|2:n&1),e):(yi(e),null);case 22:case 23:return dI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cs&1073741824&&(yi(e),e.subtreeFlags&6&&(e.flags|=8192)):yi(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function Zie(t,e){switch($N(e),e.tag){case 1:return hs(e.type)&&s_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rp(),Tn(ds),Tn(Pi),tI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eI(e),null;case 13:if(Tn(kn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));Cp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tn(kn),null;case 4:return Rp(),null;case 10:return qN(e.type._context),null;case 22:case 23:return dI(),null;case 24:return null;default:return null}}var Nx=!1,Ei=!1,Qie=typeof WeakSet=="function"?WeakSet:Set,lt=null;function jh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qn(t,e,r)}else n.current=null}function wC(t,e,n){try{n()}catch(r){qn(t,e,r)}}var eF=!1;function Jie(t,e){if(rC=t_,t=t8(),WN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iC={focusedElem:t,selectionRange:n},t_=!1,lt=e;lt!==null;)if(e=lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,lt=t;else for(;lt!==null;){e=lt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,y=p.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Lo(e.type,v),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(b){qn(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}return p=eF,eF=!1,p}function tv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wC(e,n,s)}i=i.next}while(i!==r)}}function qb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _C(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Z8(t){var e=t.alternate;e!==null&&(t.alternate=null,Z8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sa],delete e[Pv],delete e[aC],delete e[Oie],delete e[kie])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q8(t){return t.tag===5||t.tag===3||t.tag===4}function tF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=i_));else if(r!==4&&(t=t.child,t!==null))for(bC(t,e,n),t=t.sibling;t!==null;)bC(t,e,n),t=t.sibling}function SC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(SC(t,e,n),t=t.sibling;t!==null;)SC(t,e,n),t=t.sibling}var ni=null,Fo=!1;function dc(t,e,n){for(n=n.child;n!==null;)J8(t,e,n),n=n.sibling}function J8(t,e,n){if(Aa&&typeof Aa.onCommitFiberUnmount=="function")try{Aa.onCommitFiberUnmount(Vb,n)}catch{}switch(n.tag){case 5:Ei||jh(n,e);case 6:var r=ni,i=Fo;ni=null,dc(t,e,n),ni=r,Fo=i,ni!==null&&(Fo?(t=ni,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ni.removeChild(n.stateNode));break;case 18:ni!==null&&(Fo?(t=ni,n=n.stateNode,t.nodeType===8?wT(t.parentNode,n):t.nodeType===1&&wT(t,n),Ev(t)):wT(ni,n.stateNode));break;case 4:r=ni,i=Fo,ni=n.stateNode.containerInfo,Fo=!0,dc(t,e,n),ni=r,Fo=i;break;case 0:case 11:case 14:case 15:if(!Ei&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wC(n,e,o),i=i.next}while(i!==r)}dc(t,e,n);break;case 1:if(!Ei&&(jh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qn(n,e,a)}dc(t,e,n);break;case 21:dc(t,e,n);break;case 22:n.mode&1?(Ei=(r=Ei)||n.memoizedState!==null,dc(t,e,n),Ei=r):dc(t,e,n);break;default:dc(t,e,n)}}function nF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qie),e.forEach(function(r){var i=lse.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Co(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ni=a.stateNode,Fo=!1;break e;case 3:ni=a.stateNode.containerInfo,Fo=!0;break e;case 4:ni=a.stateNode.containerInfo,Fo=!0;break e}a=a.return}if(ni===null)throw Error(Ke(160));J8(s,o,i),ni=null,Fo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eW(e,t),e=e.sibling}function eW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Co(e,t),ya(t),r&4){try{tv(3,t,t.return),qb(3,t)}catch(v){qn(t,t.return,v)}try{tv(5,t,t.return)}catch(v){qn(t,t.return,v)}}break;case 1:Co(e,t),ya(t),r&512&&n!==null&&jh(n,n.return);break;case 5:if(Co(e,t),ya(t),r&512&&n!==null&&jh(n,n.return),t.flags&32){var i=t.stateNode;try{wv(i,"")}catch(v){qn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&b6(i,s),X2(a,o);var c=X2(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?A6(i,f):u==="dangerouslySetInnerHTML"?M6(i,f):u==="children"?wv(i,f):NN(i,u,f,c)}switch(a){case"input":V2(i,s);break;case"textarea":S6(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ip(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?ip(i,!!s.multiple,s.defaultValue,!0):ip(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pv]=s}catch(v){qn(t,t.return,v)}}break;case 6:if(Co(e,t),ya(t),r&4){if(t.stateNode===null)throw Error(Ke(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){qn(t,t.return,v)}}break;case 3:if(Co(e,t),ya(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ev(e.containerInfo)}catch(v){qn(t,t.return,v)}break;case 4:Co(e,t),ya(t);break;case 13:Co(e,t),ya(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uI=ur())),r&4&&nF(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ei=(c=Ei)||u,Co(e,t),Ei=c):Co(e,t),ya(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(lt=t,u=t.child;u!==null;){for(f=lt=u;lt!==null;){switch(d=lt,h=d.child,d.tag){case 0:case 11:case 14:case 15:tv(4,d,d.return);break;case 1:jh(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){qn(r,n,v)}}break;case 5:jh(d,d.return);break;case 22:if(d.memoizedState!==null){iF(f);continue}}h!==null?(h.return=d,lt=h):iF(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=T6("display",o))}catch(v){qn(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){qn(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Co(e,t),ya(t),r&4&&nF(t);break;case 21:break;default:Co(e,t),ya(t)}}function ya(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q8(n)){var r=n;break e}n=n.return}throw Error(Ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wv(i,""),r.flags&=-33);var s=tF(t);SC(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tF(t);bC(t,a,o);break;default:throw Error(Ke(161))}}catch(l){qn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ese(t,e,n){lt=t,tW(t)}function tW(t,e,n){for(var r=(t.mode&1)!==0;lt!==null;){var i=lt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Nx;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ei;a=Nx;var c=Ei;if(Nx=o,(Ei=l)&&!c)for(lt=i;lt!==null;)o=lt,l=o.child,o.tag===22&&o.memoizedState!==null?sF(i):l!==null?(l.return=o,lt=l):sF(i);for(;s!==null;)lt=s,tW(s),s=s.sibling;lt=i,Nx=a,Ei=c}rF(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,lt=s):rF(t)}}function rF(t){for(;lt!==null;){var e=lt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ei||qb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ei)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Lo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jU(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jU(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ev(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Ei||e.flags&512&&_C(e)}catch(d){qn(e,e.return,d)}}if(e===t){lt=null;break}if(n=e.sibling,n!==null){n.return=e.return,lt=n;break}lt=e.return}}function iF(t){for(;lt!==null;){var e=lt;if(e===t){lt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,lt=n;break}lt=e.return}}function sF(t){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qb(4,e)}catch(l){qn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qn(e,i,l)}}var s=e.return;try{_C(e)}catch(l){qn(e,s,l)}break;case 5:var o=e.return;try{_C(e)}catch(l){qn(e,o,l)}}}catch(l){qn(e,e.return,l)}if(e===t){lt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,lt=a;break}lt=e.return}}var tse=Math.ceil,m_=Gl.ReactCurrentDispatcher,lI=Gl.ReactCurrentOwner,mo=Gl.ReactCurrentBatchConfig,Qt=0,Gr=null,br=null,si=0,Cs=0,Vh=wu(0),Rr=0,Ov=null,Qf=0,Zb=0,cI=0,nv=null,os=null,uI=0,Ip=1/0,ul=null,g_=!1,EC=null,qc=null,Ix=!1,Hc=null,v_=0,rv=0,MC=null,_w=-1,bw=0;function Yi(){return Qt&6?ur():_w!==-1?_w:_w=ur()}function Zc(t){return t.mode&1?Qt&2&&si!==0?si&-si:Fie.transition!==null?(bw===0&&(bw=B6()),bw):(t=fn,t!==0||(t=window.event,t=t===void 0?16:$6(t.type)),t):1}function Zo(t,e,n,r){if(50<rv)throw rv=0,MC=null,Error(Ke(185));F0(t,n,r),(!(Qt&2)||t!==Gr)&&(t===Gr&&(!(Qt&2)&&(Zb|=n),Rr===4&&Dc(t,si)),ps(t,r),n===1&&Qt===0&&!(e.mode&1)&&(Ip=ur()+500,Xb&&_u()))}function ps(t,e){var n=t.callbackNode;Fre(t,e);var r=e_(t,t===Gr?si:0);if(r===0)n!==null&&pU(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pU(n),e===1)t.tag===0?Uie(oF.bind(null,t)):f8(oF.bind(null,t)),Die(function(){!(Qt&6)&&_u()}),n=null;else{switch(z6(r)){case 1:n=kN;break;case 4:n=U6;break;case 16:n=Jw;break;case 536870912:n=F6;break;default:n=Jw}n=cW(n,nW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nW(t,e){if(_w=-1,bw=0,Qt&6)throw Error(Ke(327));var n=t.callbackNode;if(cp()&&t.callbackNode!==n)return null;var r=e_(t,t===Gr?si:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=y_(t,r);else{e=r;var i=Qt;Qt|=2;var s=iW();(Gr!==t||si!==e)&&(ul=null,Ip=ur()+500,Df(t,e));do try{ise();break}catch(a){rW(t,a)}while(!0);KN(),m_.current=s,Qt=i,br!==null?e=0:(Gr=null,si=0,e=Rr)}if(e!==0){if(e===2&&(i=Q2(t),i!==0&&(r=i,e=TC(t,i))),e===1)throw n=Ov,Df(t,0),Dc(t,r),ps(t,ur()),n;if(e===6)Dc(t,r);else{if(i=t.current.alternate,!(r&30)&&!nse(i)&&(e=y_(t,r),e===2&&(s=Q2(t),s!==0&&(r=s,e=TC(t,s))),e===1))throw n=Ov,Df(t,0),Dc(t,r),ps(t,ur()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ke(345));case 2:of(t,os,ul);break;case 3:if(Dc(t,r),(r&130023424)===r&&(e=uI+500-ur(),10<e)){if(e_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oC(of.bind(null,t,os,ul),e);break}of(t,os,ul);break;case 4:if(Dc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ur()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tse(r/1960))-r,10<r){t.timeoutHandle=oC(of.bind(null,t,os,ul),r);break}of(t,os,ul);break;case 5:of(t,os,ul);break;default:throw Error(Ke(329))}}}return ps(t,ur()),t.callbackNode===n?nW.bind(null,t):null}function TC(t,e){var n=nv;return t.current.memoizedState.isDehydrated&&(Df(t,e).flags|=256),t=y_(t,e),t!==2&&(e=os,os=n,e!==null&&AC(e)),t}function AC(t){os===null?os=t:os.push.apply(os,t)}function nse(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dc(t,e){for(e&=~cI,e&=~Zb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qo(e),r=1<<n;t[n]=-1,e&=~r}}function oF(t){if(Qt&6)throw Error(Ke(327));cp();var e=e_(t,0);if(!(e&1))return ps(t,ur()),null;var n=y_(t,e);if(t.tag!==0&&n===2){var r=Q2(t);r!==0&&(e=r,n=TC(t,r))}if(n===1)throw n=Ov,Df(t,0),Dc(t,e),ps(t,ur()),n;if(n===6)throw Error(Ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,of(t,os,ul),ps(t,ur()),null}function fI(t,e){var n=Qt;Qt|=1;try{return t(e)}finally{Qt=n,Qt===0&&(Ip=ur()+500,Xb&&_u())}}function Jf(t){Hc!==null&&Hc.tag===0&&!(Qt&6)&&cp();var e=Qt;Qt|=1;var n=mo.transition,r=fn;try{if(mo.transition=null,fn=1,t)return t()}finally{fn=r,mo.transition=n,Qt=e,!(Qt&6)&&_u()}}function dI(){Cs=Vh.current,Tn(Vh)}function Df(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Iie(n)),br!==null)for(n=br.return;n!==null;){var r=n;switch($N(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&s_();break;case 3:Rp(),Tn(ds),Tn(Pi),tI();break;case 5:eI(r);break;case 4:Rp();break;case 13:Tn(kn);break;case 19:Tn(kn);break;case 10:qN(r.type._context);break;case 22:case 23:dI()}n=n.return}if(Gr=t,br=t=Qc(t.current,null),si=Cs=e,Rr=0,Ov=null,cI=Zb=Qf=0,os=nv=null,yf!==null){for(e=0;e<yf.length;e++)if(n=yf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yf=null}return t}function rW(t,e){do{var n=br;try{if(KN(),yw.current=p_,h_){for(var r=zn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}h_=!1}if(Zf=0,Vr=Cr=zn=null,ev=!1,Iv=0,lI.current=null,n===null||n.return===null){Rr=1,Ov=e,br=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=si,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=XU(o);if(h!==null){h.flags&=-257,YU(h,o,a,s,e),h.mode&1&&$U(s,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){$U(s,c,e),hI();break e}l=Error(Ke(426))}}else if(Pn&&a.mode&1){var y=XU(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),YU(y,o,a,s,e),XN(Np(l,a));break e}}s=l=Np(l,a),Rr!==4&&(Rr=2),nv===null?nv=[s]:nv.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=z8(s,l,e);zU(s,g);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qc===null||!qc.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=j8(s,a,e);zU(s,b);break e}}s=s.return}while(s!==null)}oW(n)}catch(M){e=M,br===n&&n!==null&&(br=n=n.return);continue}break}while(!0)}function iW(){var t=m_.current;return m_.current=p_,t===null?p_:t}function hI(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Gr===null||!(Qf&268435455)&&!(Zb&268435455)||Dc(Gr,si)}function y_(t,e){var n=Qt;Qt|=2;var r=iW();(Gr!==t||si!==e)&&(ul=null,Df(t,e));do try{rse();break}catch(i){rW(t,i)}while(!0);if(KN(),Qt=n,m_.current=r,br!==null)throw Error(Ke(261));return Gr=null,si=0,Rr}function rse(){for(;br!==null;)sW(br)}function ise(){for(;br!==null&&!Pre();)sW(br)}function sW(t){var e=lW(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,e===null?oW(t):br=e,lI.current=null}function oW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zie(n,e),n!==null){n.flags&=32767,br=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rr=6,br=null;return}}else if(n=qie(n,e,Cs),n!==null){br=n;return}if(e=e.sibling,e!==null){br=e;return}br=e=t}while(e!==null);Rr===0&&(Rr=5)}function of(t,e,n){var r=fn,i=mo.transition;try{mo.transition=null,fn=1,sse(t,e,n,r)}finally{mo.transition=i,fn=r}return null}function sse(t,e,n,r){do cp();while(Hc!==null);if(Qt&6)throw Error(Ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ke(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Bre(t,s),t===Gr&&(br=Gr=null,si=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ix||(Ix=!0,cW(Jw,function(){return cp(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mo.transition,mo.transition=null;var o=fn;fn=1;var a=Qt;Qt|=4,lI.current=null,Jie(t,n),eW(n,t),Mie(iC),t_=!!rC,iC=rC=null,t.current=n,ese(n),Rre(),Qt=a,fn=o,mo.transition=s}else t.current=n;if(Ix&&(Ix=!1,Hc=t,v_=i),s=t.pendingLanes,s===0&&(qc=null),Dre(n.stateNode),ps(t,ur()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(g_)throw g_=!1,t=EC,EC=null,t;return v_&1&&t.tag!==0&&cp(),s=t.pendingLanes,s&1?t===MC?rv++:(rv=0,MC=t):rv=0,_u(),null}function cp(){if(Hc!==null){var t=z6(v_),e=mo.transition,n=fn;try{if(mo.transition=null,fn=16>t?16:t,Hc===null)var r=!1;else{if(t=Hc,Hc=null,v_=0,Qt&6)throw Error(Ke(331));var i=Qt;for(Qt|=4,lt=t.current;lt!==null;){var s=lt,o=s.child;if(lt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(lt=c;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:tv(8,u,s)}var f=u.child;if(f!==null)f.return=u,lt=f;else for(;lt!==null;){u=lt;var d=u.sibling,h=u.return;if(Z8(u),u===c){lt=null;break}if(d!==null){d.return=h,lt=d;break}lt=h}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}lt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,lt=o;else e:for(;lt!==null;){if(s=lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tv(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,lt=g;break e}lt=s.return}}var _=t.current;for(lt=_;lt!==null;){o=lt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,lt=w;else e:for(o=_;lt!==null;){if(a=lt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qb(9,a)}}catch(M){qn(a,a.return,M)}if(a===o){lt=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,lt=b;break e}lt=a.return}}if(Qt=i,_u(),Aa&&typeof Aa.onPostCommitFiberRoot=="function")try{Aa.onPostCommitFiberRoot(Vb,t)}catch{}r=!0}return r}finally{fn=n,mo.transition=e}}return!1}function aF(t,e,n){e=Np(n,e),e=z8(t,e,1),t=Kc(t,e,1),e=Yi(),t!==null&&(F0(t,1,e),ps(t,e))}function qn(t,e,n){if(t.tag===3)aF(t,t,n);else for(;e!==null;){if(e.tag===3){aF(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qc===null||!qc.has(r))){t=Np(n,t),t=j8(e,t,1),e=Kc(e,t,1),t=Yi(),e!==null&&(F0(e,1,t),ps(e,t));break}}e=e.return}}function ose(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yi(),t.pingedLanes|=t.suspendedLanes&n,Gr===t&&(si&n)===n&&(Rr===4||Rr===3&&(si&130023424)===si&&500>ur()-uI?Df(t,0):cI|=n),ps(t,e)}function aW(t,e){e===0&&(t.mode&1?(e=bx,bx<<=1,!(bx&130023424)&&(bx=4194304)):e=1);var n=Yi();t=Rl(t,e),t!==null&&(F0(t,e,n),ps(t,n))}function ase(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aW(t,n)}function lse(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ke(314))}r!==null&&r.delete(e),aW(t,n)}var lW;lW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ds.current)cs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cs=!1,Kie(t,e,n);cs=!!(t.flags&131072)}else cs=!1,Pn&&e.flags&1048576&&d8(e,l_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ww(t,e),t=e.pendingProps;var i=Ap(e,Pi.current);lp(e,n),i=rI(null,e,r,t,i,n);var s=iI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hs(r)?(s=!0,o_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QN(e),i.updater=Kb,e.stateNode=i,i._reactInternals=e,hC(e,r,t,n),e=gC(null,e,r,!0,s,n)):(e.tag=0,Pn&&s&&GN(e),Hi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ww(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=use(r),t=Lo(r,t),i){case 0:e=mC(null,e,r,t,n);break e;case 1:e=ZU(null,e,r,t,n);break e;case 11:e=KU(null,e,r,t,n);break e;case 14:e=qU(null,e,r,Lo(r.type,t),n);break e}throw Error(Ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),mC(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),ZU(t,e,r,i,n);case 3:e:{if(G8(e),t===null)throw Error(Ke(387));r=e.pendingProps,s=e.memoizedState,i=s.element,y8(t,e),f_(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Np(Error(Ke(423)),e),e=QU(t,e,r,n,i);break e}else if(r!==i){i=Np(Error(Ke(424)),e),e=QU(t,e,r,n,i);break e}else for(Ls=Yc(e.stateNode.containerInfo.firstChild),ks=e,Pn=!0,zo=null,n=g8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cp(),r===i){e=Nl(t,e,n);break e}Hi(t,e,r,n)}e=e.child}return e;case 5:return x8(e),t===null&&uC(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sC(r,i)?o=null:s!==null&&sC(r,s)&&(e.flags|=32),W8(t,e),Hi(t,e,o,n),e.child;case 6:return t===null&&uC(e),null;case 13:return $8(t,e,n);case 4:return JN(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pp(e,null,r,n):Hi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),KU(t,e,r,i,n);case 7:return Hi(t,e,e.pendingProps,n),e.child;case 8:return Hi(t,e,e.pendingProps.children,n),e.child;case 12:return Hi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_n(c_,r._currentValue),r._currentValue=o,s!==null)if(Qo(s.value,o)){if(s.children===i.children&&!ds.current){e=Nl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fC(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ke(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fC(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lp(e,n),i=vo(i),r=r(i),e.flags|=1,Hi(t,e,r,n),e.child;case 14:return r=e.type,i=Lo(r,e.pendingProps),i=Lo(r.type,i),qU(t,e,r,i,n);case 15:return V8(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),ww(t,e),e.tag=1,hs(r)?(t=!0,o_(e)):t=!1,lp(e,n),B8(e,r,i),hC(e,r,i,n),gC(null,e,r,!0,t,n);case 19:return X8(t,e,n);case 22:return H8(t,e,n)}throw Error(Ke(156,e.tag))};function cW(t,e){return k6(t,e)}function cse(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(t,e,n,r){return new cse(t,e,n,r)}function pI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function use(t){if(typeof t=="function")return pI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DN)return 11;if(t===LN)return 14}return 2}function Qc(t,e){var n=t.alternate;return n===null?(n=ho(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sw(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ih:return Lf(n.children,i,s,e);case IN:o=8,i|=8;break;case U2:return t=ho(12,n,e,i|2),t.elementType=U2,t.lanes=s,t;case F2:return t=ho(13,n,e,i),t.elementType=F2,t.lanes=s,t;case B2:return t=ho(19,n,e,i),t.elementType=B2,t.lanes=s,t;case x6:return Qb(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v6:o=10;break e;case y6:o=9;break e;case DN:o=11;break e;case LN:o=14;break e;case Pc:o=16,r=null;break e}throw Error(Ke(130,t==null?t:typeof t,""))}return e=ho(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Lf(t,e,n,r){return t=ho(7,t,r,e),t.lanes=n,t}function Qb(t,e,n,r){return t=ho(22,t,r,e),t.elementType=x6,t.lanes=n,t.stateNode={isHidden:!1},t}function CT(t,e,n){return t=ho(6,t,null,e),t.lanes=n,t}function PT(t,e,n){return e=ho(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fse(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cT(0),this.expirationTimes=cT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cT(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mI(t,e,n,r,i,s,o,a,l){return t=new fse(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ho(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},QN(s),t}function dse(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uW(t){if(!t)return lu;t=t._reactInternals;e:{if(xd(t)!==t||t.tag!==1)throw Error(Ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(t.tag===1){var n=t.type;if(hs(n))return u8(t,n,e)}return e}function fW(t,e,n,r,i,s,o,a,l){return t=mI(n,r,!0,t,i,s,o,a,l),t.context=uW(null),n=t.current,r=Yi(),i=Zc(n),s=bl(r,i),s.callback=e??null,Kc(n,s,i),t.current.lanes=i,F0(t,i,r),ps(t,r),t}function Jb(t,e,n,r){var i=e.current,s=Yi(),o=Zc(i);return n=uW(n),e.context===null?e.context=n:e.pendingContext=n,e=bl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kc(i,e,o),t!==null&&(Zo(t,i,o,s),vw(t,i,o)),o}function x_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gI(t,e){lF(t,e),(t=t.alternate)&&lF(t,e)}function hse(){return null}var dW=typeof reportError=="function"?reportError:function(t){console.error(t)};function vI(t){this._internalRoot=t}eS.prototype.render=vI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ke(409));Jb(t,e,null,null)};eS.prototype.unmount=vI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jf(function(){Jb(null,t,null,null)}),e[Pl]=null}};function eS(t){this._internalRoot=t}eS.prototype.unstable_scheduleHydration=function(t){if(t){var e=H6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ic.length&&e!==0&&e<Ic[n].priority;n++);Ic.splice(n,0,t),n===0&&G6(t)}};function yI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cF(){}function pse(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=x_(o);s.call(c)}}var o=fW(e,r,t,0,null,!1,!1,"",cF);return t._reactRootContainer=o,t[Pl]=o.current,Av(t.nodeType===8?t.parentNode:t),Jf(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=x_(l);a.call(c)}}var l=mI(t,0,!1,null,null,!1,!1,"",cF);return t._reactRootContainer=l,t[Pl]=l.current,Av(t.nodeType===8?t.parentNode:t),Jf(function(){Jb(e,l,n,r)}),l}function nS(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=x_(o);a.call(l)}}Jb(e,o,t,i)}else o=pse(n,e,t,i,r);return x_(o)}j6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fg(e.pendingLanes);n!==0&&(UN(e,n|1),ps(e,ur()),!(Qt&6)&&(Ip=ur()+500,_u()))}break;case 13:Jf(function(){var r=Rl(t,1);if(r!==null){var i=Yi();Zo(r,t,1,i)}}),gI(t,1)}};FN=function(t){if(t.tag===13){var e=Rl(t,134217728);if(e!==null){var n=Yi();Zo(e,t,134217728,n)}gI(t,134217728)}};V6=function(t){if(t.tag===13){var e=Zc(t),n=Rl(t,e);if(n!==null){var r=Yi();Zo(n,t,e,r)}gI(t,e)}};H6=function(){return fn};W6=function(t,e){var n=fn;try{return fn=t,e()}finally{fn=n}};K2=function(t,e,n){switch(e){case"input":if(V2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$b(r);if(!i)throw Error(Ke(90));_6(r),V2(r,i)}}}break;case"textarea":S6(t,n);break;case"select":e=n.value,e!=null&&ip(t,!!n.multiple,e,!1)}};R6=fI;N6=Jf;var mse={usingClientEntryPoint:!1,Events:[z0,kh,$b,C6,P6,fI]},cg={findFiberByHostInstance:vf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gse={bundleType:cg.bundleType,version:cg.version,rendererPackageName:cg.rendererPackageName,rendererConfig:cg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=L6(t),t===null?null:t.stateNode},findFiberByHostInstance:cg.findFiberByHostInstance||hse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dx.isDisabled&&Dx.supportsFiber)try{Vb=Dx.inject(gse),Aa=Dx}catch{}}Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mse;Ws.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yI(e))throw Error(Ke(200));return dse(t,e,null,n)};Ws.createRoot=function(t,e){if(!yI(t))throw Error(Ke(299));var n=!1,r="",i=dW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mI(t,1,!1,null,null,n,!1,r,i),t[Pl]=e.current,Av(t.nodeType===8?t.parentNode:t),new vI(e)};Ws.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ke(188)):(t=Object.keys(t).join(","),Error(Ke(268,t)));return t=L6(e),t=t===null?null:t.stateNode,t};Ws.flushSync=function(t){return Jf(t)};Ws.hydrate=function(t,e,n){if(!tS(e))throw Error(Ke(200));return nS(null,t,e,!0,n)};Ws.hydrateRoot=function(t,e,n){if(!yI(t))throw Error(Ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=dW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fW(e,null,t,1,n??null,i,!1,s,o),t[Pl]=e.current,Av(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new eS(e)};Ws.render=function(t,e,n){if(!tS(e))throw Error(Ke(200));return nS(null,t,e,!1,n)};Ws.unmountComponentAtNode=function(t){if(!tS(t))throw Error(Ke(40));return t._reactRootContainer?(Jf(function(){nS(null,null,t,!1,function(){t._reactRootContainer=null,t[Pl]=null})}),!0):!1};Ws.unstable_batchedUpdates=fI;Ws.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tS(n))throw Error(Ke(200));if(t==null||t._reactInternals===void 0)throw Error(Ke(38));return nS(t,e,n,!1,r)};Ws.version="18.3.1-next-f1338f8080-20240426";function hW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hW)}catch(t){console.error(t)}}hW(),h6.exports=Ws;var $l=h6.exports;const pW=_o($l);var mW,uF=$l;mW=uF.createRoot,uF.hydrateRoot;const vse=1,yse=1e6;let RT=0;function xse(){return RT=(RT+1)%Number.MAX_SAFE_INTEGER,RT.toString()}const NT=new Map,fF=t=>{if(NT.has(t))return;const e=setTimeout(()=>{NT.delete(t),iv({type:"REMOVE_TOAST",toastId:t})},yse);NT.set(t,e)},wse=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,vse)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?fF(n):t.toasts.forEach(r=>{fF(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ew=[];let Mw={toasts:[]};function iv(t){Mw=wse(Mw,t),Ew.forEach(e=>{e(Mw)})}function Tw({...t}){const e=xse(),n=i=>iv({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>iv({type:"DISMISS_TOAST",toastId:e});return iv({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function _se(){const[t,e]=T.useState(Mw);return T.useEffect(()=>(Ew.push(e),()=>{const n=Ew.indexOf(e);n>-1&&Ew.splice(n,1)}),[t]),{...t,toast:Tw,dismiss:n=>iv({type:"DISMISS_TOAST",toastId:n})}}function vt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function bse(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function gW(...t){return e=>t.forEach(n=>bse(n,e))}function nn(...t){return T.useCallback(gW(...t),t)}function Sse(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:d,children:h,...p}=f,v=(d==null?void 0:d[t][l])||a,y=T.useMemo(()=>p,Object.values(p));return S.jsx(v.Provider,{value:y,children:h})}function u(f,d){const h=(d==null?void 0:d[t][l])||a,p=T.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Ese(i,...e)]}function Ese(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ed=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),s=i.find(Mse);if(s){const o=s.props.children,a=i.map(l=>l===s?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:l);return S.jsx(CC,{...r,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,a):null})}return S.jsx(CC,{...r,ref:e,children:n})});ed.displayName="Slot";var CC=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=Ase(n);return T.cloneElement(n,{...Tse(r,n.props),ref:e?gW(e,i):i})}return T.Children.count(n)>1?T.Children.only(null):null});CC.displayName="SlotClone";var vW=({children:t})=>S.jsx(S.Fragment,{children:t});function Mse(t){return T.isValidElement(t)&&t.type===vW}function Tse(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Ase(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function rS(t){const e=t+"CollectionProvider",[n,r]=Sse(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:v}=h,y=Qe.useRef(null),g=Qe.useRef(new Map).current;return S.jsx(i,{scope:p,itemMap:g,collectionRef:y,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Qe.forwardRef((h,p)=>{const{scope:v,children:y}=h,g=s(a,v),_=nn(p,g.collectionRef);return S.jsx(ed,{ref:_,children:y})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",f=Qe.forwardRef((h,p)=>{const{scope:v,children:y,...g}=h,_=Qe.useRef(null),w=nn(p,_),b=s(c,v);return Qe.useEffect(()=>(b.itemMap.set(_,{ref:_,...g}),()=>void b.itemMap.delete(_))),S.jsx(ed,{[u]:"",ref:w,children:y})});f.displayName=c;function d(h){const p=s(t+"CollectionConsumer",h);return Qe.useCallback(()=>{const y=p.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((b,M)=>g.indexOf(b.ref.current)-g.indexOf(M.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},d,r]}function Cse(t,e){const n=T.createContext(e),r=s=>{const{children:o,...a}=s,l=T.useMemo(()=>a,Object.values(a));return S.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=T.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function wd(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];const c=f=>{var g;const{scope:d,children:h,...p}=f,v=((g=d==null?void 0:d[t])==null?void 0:g[l])||a,y=T.useMemo(()=>p,Object.values(p));return S.jsx(v.Provider,{value:y,children:h})};c.displayName=s+"Provider";function u(f,d){var v;const h=((v=d==null?void 0:d[t])==null?void 0:v[l])||a,p=T.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Pse(i,...e)]}function Pse(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Rse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rt=Rse.reduce((t,e)=>{const n=T.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ed:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function yW(t,e){t&&$l.flushSync(()=>t.dispatchEvent(e))}function ms(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Nse(t,e=globalThis==null?void 0:globalThis.document){const n=ms(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Ise="DismissableLayer",PC="dismissableLayer.update",Dse="dismissableLayer.pointerDownOutside",Lse="dismissableLayer.focusOutside",dF,xW=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V0=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=T.useContext(xW),[u,f]=T.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=T.useState({}),p=nn(e,C=>f(C)),v=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(y),_=u?v.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,b=_>=g,M=kse(C=>{const N=C.target,R=[...c.branches].some(D=>D.contains(N));!b||R||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},d),A=Use(C=>{const N=C.target;[...c.branches].some(D=>D.contains(N))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},d);return Nse(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},d),T.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(dF=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),hF(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=dF)}},[u,d,n,c]),T.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),hF())},[u,c]),T.useEffect(()=>{const C=()=>h({});return document.addEventListener(PC,C),()=>document.removeEventListener(PC,C)},[]),S.jsx(Rt.div,{...l,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...t.style},onFocusCapture:vt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:vt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:vt(t.onPointerDownCapture,M.onPointerDownCapture)})});V0.displayName=Ise;var Ose="DismissableLayerBranch",wW=T.forwardRef((t,e)=>{const n=T.useContext(xW),r=T.useRef(null),i=nn(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),S.jsx(Rt.div,{...t,ref:i})});wW.displayName=Ose;function kse(t,e=globalThis==null?void 0:globalThis.document){const n=ms(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){_W(Dse,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Use(t,e=globalThis==null?void 0:globalThis.document){const n=ms(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&_W(Lse,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hF(){const t=new CustomEvent(PC);document.dispatchEvent(t)}function _W(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?yW(i,s):i.dispatchEvent(s)}var Fse=V0,Bse=wW,Ri=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},zse="Portal",iS=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=T.useState(!1);Ri(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?pW.createPortal(S.jsx(Rt.div,{...r,ref:e}),o):null});iS.displayName=zse;function jse(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var _d=t=>{const{present:e,children:n}=t,r=Vse(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=nn(r.ref,Hse(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};_d.displayName="Presence";function Vse(t){const[e,n]=T.useState(),r=T.useRef({}),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[a,l]=jse(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=Lx(r.current);s.current=a==="mounted"?c:"none"},[a]),Ri(()=>{const c=r.current,u=i.current;if(u!==t){const d=s.current,h=Lx(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ri(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=h=>{const v=Lx(r.current).includes(h.animationName);if(h.target===e&&v&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},d=h=>{h.target===e&&(s.current=Lx(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Lx(t){return(t==null?void 0:t.animationName)||"none"}function Hse(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Wse({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=ms(n),l=T.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function Wse({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,i=T.useRef(r),s=ms(e);return T.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Gse="VisuallyHidden",H0=T.forwardRef((t,e)=>S.jsx(Rt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));H0.displayName=Gse;var $se=H0,xI="ToastProvider",[wI,Xse,Yse]=rS("Toast"),[bW,hVe]=wd("Toast",[Yse]),[Kse,sS]=bW(xI),SW=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=T.useState(null),[c,u]=T.useState(0),f=T.useRef(!1),d=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xI}\`. Expected non-empty \`string\`.`),S.jsx(wI.Provider,{scope:e,children:S.jsx(Kse,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:T.useCallback(()=>u(h=>h+1),[]),onToastRemove:T.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:o})})};SW.displayName=xI;var EW="ToastViewport",qse=["F8"],RC="toast.viewportPause",NC="toast.viewportResume",MW=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=qse,label:i="Notifications ({hotkey})",...s}=t,o=sS(EW,n),a=Xse(n),l=T.useRef(null),c=T.useRef(null),u=T.useRef(null),f=T.useRef(null),d=nn(e,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;T.useEffect(()=>{const y=g=>{var w;r.length!==0&&r.every(b=>g[b]||g.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),T.useEffect(()=>{const y=l.current,g=f.current;if(p&&y&&g){const _=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(RC);g.dispatchEvent(A),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(NC);g.dispatchEvent(A),o.isClosePausedRef.current=!1}},b=A=>{!y.contains(A.relatedTarget)&&w()},M=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",_),y.addEventListener("focusout",b),y.addEventListener("pointermove",_),y.addEventListener("pointerleave",M),window.addEventListener("blur",_),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",_),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",_),y.removeEventListener("pointerleave",M),window.removeEventListener("blur",_),window.removeEventListener("focus",w)}}},[p,o.isClosePausedRef]);const v=T.useCallback(({tabbingDirection:y})=>{const _=a().map(w=>{const b=w.ref.current,M=[b,...coe(b)];return y==="forwards"?M:M.reverse()});return(y==="forwards"?_.reverse():_).flat()},[a]);return T.useEffect(()=>{const y=f.current;if(y){const g=_=>{var M,A,C;const w=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!w){const N=document.activeElement,R=_.shiftKey;if(_.target===y&&R){(M=c.current)==null||M.focus();return}const U=v({tabbingDirection:R?"backwards":"forwards"}),$=U.findIndex(I=>I===N);IT(U.slice($+1))?_.preventDefault():R?(A=c.current)==null||A.focus():(C=u.current)==null||C.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,v]),S.jsxs(Bse,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&S.jsx(IC,{ref:c,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});IT(y)}}),S.jsx(wI.Slot,{scope:n,children:S.jsx(Rt.ol,{tabIndex:-1,...s,ref:d})}),p&&S.jsx(IC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});IT(y)}})]})});MW.displayName=EW;var TW="ToastFocusProxy",IC=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=sS(TW,n);return S.jsx(H0,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});IC.displayName=TW;var oS="Toast",Zse="toast.swipeStart",Qse="toast.swipeMove",Jse="toast.swipeCancel",eoe="toast.swipeEnd",AW=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=cu({prop:r,defaultProp:i,onChange:s});return S.jsx(_d,{present:n||a,children:S.jsx(roe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ms(t.onPause),onResume:ms(t.onResume),onSwipeStart:vt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:vt(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:vt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:vt(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});AW.displayName=oS;var[toe,noe]=bW(oS,{onClose(){}}),roe=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...p}=t,v=sS(oS,n),[y,g]=T.useState(null),_=nn(e,I=>g(I)),w=T.useRef(null),b=T.useRef(null),M=i||v.duration,A=T.useRef(0),C=T.useRef(M),N=T.useRef(0),{onToastAdd:R,onToastRemove:D}=v,F=ms(()=>{var V;(y==null?void 0:y.contains(document.activeElement))&&((V=v.viewport)==null||V.focus()),o()}),U=T.useCallback(I=>{!I||I===1/0||(window.clearTimeout(N.current),A.current=new Date().getTime(),N.current=window.setTimeout(F,I))},[F]);T.useEffect(()=>{const I=v.viewport;if(I){const V=()=>{U(C.current),c==null||c()},j=()=>{const X=new Date().getTime()-A.current;C.current=C.current-X,window.clearTimeout(N.current),l==null||l()};return I.addEventListener(RC,j),I.addEventListener(NC,V),()=>{I.removeEventListener(RC,j),I.removeEventListener(NC,V)}}},[v.viewport,M,l,c,U]),T.useEffect(()=>{s&&!v.isClosePausedRef.current&&U(M)},[s,M,v.isClosePausedRef,U]),T.useEffect(()=>(R(),()=>D()),[R,D]);const $=T.useMemo(()=>y?LW(y):null,[y]);return v.viewport?S.jsxs(S.Fragment,{children:[$&&S.jsx(ioe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),S.jsx(toe,{scope:n,onClose:F,children:$l.createPortal(S.jsx(wI.ItemSlot,{scope:n,children:S.jsx(Fse,{asChild:!0,onEscapeKeyDown:vt(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||F(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(Rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...p,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:vt(t.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:vt(t.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:vt(t.onPointerMove,I=>{if(!w.current)return;const V=I.clientX-w.current.x,j=I.clientY-w.current.y,X=!!b.current,L=["left","right"].includes(v.swipeDirection),k=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,z=L?k(0,V):0,B=L?0:k(0,j),G=I.pointerType==="touch"?10:2,Y={x:z,y:B},Z={originalEvent:I,delta:Y};X?(b.current=Y,Ox(Qse,f,Z,{discrete:!1})):pF(Y,v.swipeDirection,G)?(b.current=Y,Ox(Zse,u,Z,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(V)>G||Math.abs(j)>G)&&(w.current=null)}),onPointerUp:vt(t.onPointerUp,I=>{const V=b.current,j=I.target;if(j.hasPointerCapture(I.pointerId)&&j.releasePointerCapture(I.pointerId),b.current=null,w.current=null,V){const X=I.currentTarget,L={originalEvent:I,delta:V};pF(V,v.swipeDirection,v.swipeThreshold)?Ox(eoe,h,L,{discrete:!0}):Ox(Jse,d,L,{discrete:!0}),X.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),ioe=t=>{const{__scopeToast:e,children:n,...r}=t,i=sS(oS,e),[s,o]=T.useState(!1),[a,l]=T.useState(!1);return aoe(()=>o(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:S.jsx(iS,{asChild:!0,children:S.jsx(H0,{...r,children:s&&S.jsxs(S.Fragment,{children:[i.label," ",n]})})})},soe="ToastTitle",CW=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(Rt.div,{...r,ref:e})});CW.displayName=soe;var ooe="ToastDescription",PW=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(Rt.div,{...r,ref:e})});PW.displayName=ooe;var RW="ToastAction",NW=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?S.jsx(DW,{altText:n,asChild:!0,children:S.jsx(_I,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${RW}\`. Expected non-empty \`string\`.`),null)});NW.displayName=RW;var IW="ToastClose",_I=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=noe(IW,n);return S.jsx(DW,{asChild:!0,children:S.jsx(Rt.button,{type:"button",...r,ref:e,onClick:vt(t.onClick,i.onClose)})})});_I.displayName=IW;var DW=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return S.jsx(Rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function LW(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),loe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...LW(r))}}),e}function Ox(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?yW(i,s):i.dispatchEvent(s)}var pF=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function aoe(t=()=>{}){const e=ms(t);Ri(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function loe(t){return t.nodeType===t.ELEMENT_NODE}function coe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IT(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var uoe=SW,OW=MW,kW=AW,UW=CW,FW=PW,BW=NW,zW=_I;function jW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jW(t))&&(r&&(r+=" "),r+=e);return r}const mF=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gF=dr,bI=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gF(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=s==null?void 0:s[c];if(u===null)return null;const d=mF(u)||mF(f);return i[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(p=>{let[v,y]=p;return Array.isArray(y)?y.includes({...s,...a}[v]):{...s,...a}[v]===y})?[...c,f,d]:c},[]);return gF(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VW=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var doe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...doe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:VW("lucide",i),...a},[...o.map(([c,u])=>T.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(hoe,{ref:s,iconNode:e,className:VW(`lucide-${foe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=Ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Ot("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=Ot("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=Ot("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=Ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=Ot("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=Ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=Ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=Ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=Ot("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=Ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=Ot("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=Ot("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=Ot("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Ot("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=Ot("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=Ot("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=Ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=Ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=Ot("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Ot("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=Ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=Ot("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=Ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=Ot("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=Ot("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=Ot("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=Ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=Ot("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=Ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ot("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=Ot("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=Ot("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=Ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=Ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=Ot("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),EI="-",Boe=t=>{const e=joe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(EI);return a[0]===""&&a.length!==1&&a.shift(),KW(a,e)||zoe(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},KW=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?KW(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(EI);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},wF=/^\[(.+)\]$/,zoe=t=>{if(wF.test(t)){const e=wF.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},joe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Hoe(Object.entries(t.classGroups),n).forEach(([s,o])=>{OC(o,r,s,e)}),r},OC=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:_F(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Voe(i)){OC(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{OC(o,_F(e,s),n,r)})})},_F=(t,e)=>{let n=t;return e.split(EI).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Voe=t=>t.isThemeGetter,Hoe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,Woe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},qW="!",Goe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(g==="/"){f=y;continue}}g==="["?c++:g==="]"&&c--}const d=l.length===0?a:a.substring(u),h=d.startsWith(qW),p=h?d.substring(1):d,v=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},$oe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Xoe=t=>({cache:Woe(t.cacheSize),parseClassName:Goe(t),...Boe(t)}),Yoe=/\s+/,Koe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Yoe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let p=!!h,v=r(p?d.substring(0,h):d);if(!v){if(!p){a=c+(a.length>0?" "+a:a);continue}if(v=r(d),!v){a=c+(a.length>0?" "+a:a);continue}p=!1}const y=$oe(u).join(":"),g=f?y+qW:y,_=g+v;if(s.includes(_))continue;s.push(_);const w=i(v,p);for(let b=0;b<w.length;++b){const M=w[b];s.push(g+M)}a=c+(a.length>0?" "+a:a)}return a};function qoe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ZW(e))&&(r&&(r+=" "),r+=n);return r}const ZW=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ZW(t[r]))&&(n&&(n+=" "),n+=e);return n};function Zoe(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=Xoe(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Koe(l,n);return i(l,u),u}return function(){return s(qoe.apply(null,arguments))}}const bn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},QW=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qoe=/^\d+\/\d+$/,Joe=new Set(["px","full","screen"]),eae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=t=>up(t)||Joe.has(t)||Qoe.test(t),hc=t=>am(t,"length",dae),up=t=>!!t&&!Number.isNaN(Number(t)),DT=t=>am(t,"number",up),ug=t=>!!t&&Number.isInteger(Number(t)),sae=t=>t.endsWith("%")&&up(t.slice(0,-1)),kt=t=>QW.test(t),pc=t=>eae.test(t),oae=new Set(["length","size","percentage"]),aae=t=>am(t,oae,JW),lae=t=>am(t,"position",JW),cae=new Set(["image","url"]),uae=t=>am(t,cae,pae),fae=t=>am(t,"",hae),fg=()=>!0,am=(t,e,n)=>{const r=QW.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},dae=t=>tae.test(t)&&!nae.test(t),JW=()=>!1,hae=t=>rae.test(t),pae=t=>iae.test(t),mae=()=>{const t=bn("colors"),e=bn("spacing"),n=bn("blur"),r=bn("brightness"),i=bn("borderColor"),s=bn("borderRadius"),o=bn("borderSpacing"),a=bn("borderWidth"),l=bn("contrast"),c=bn("grayscale"),u=bn("hueRotate"),f=bn("invert"),d=bn("gap"),h=bn("gradientColorStops"),p=bn("gradientColorStopPositions"),v=bn("inset"),y=bn("margin"),g=bn("opacity"),_=bn("padding"),w=bn("saturate"),b=bn("scale"),M=bn("sepia"),A=bn("skew"),C=bn("space"),N=bn("translate"),R=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",kt,e],U=()=>[kt,e],$=()=>["",el,hc],I=()=>["auto",up,kt],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",kt],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[up,kt];return{cacheSize:500,separator:":",theme:{colors:[fg],spacing:[el,hc],blur:["none","",pc,kt],brightness:B(),borderColor:[t],borderRadius:["none","","full",pc,kt],borderSpacing:U(),borderWidth:$(),contrast:B(),grayscale:k(),hueRotate:B(),invert:k(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[sae,hc],inset:F(),margin:F(),opacity:B(),padding:U(),saturate:B(),scale:B(),sepia:k(),skew:B(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[pc]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),kt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ug,kt]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",ug,kt]}],"grid-cols":[{"grid-cols":[fg]}],"col-start-end":[{col:["auto",{span:["full",ug,kt]},kt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[fg]}],"row-start-end":[{row:["auto",{span:[ug,kt]},kt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,e]}],"min-w":[{"min-w":[kt,e,"min","max","fit"]}],"max-w":[{"max-w":[kt,e,"none","full","min","max","fit","prose",{screen:[pc]},pc]}],h:[{h:[kt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pc,hc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",DT]}],"font-family":[{font:[fg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",up,DT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",el,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",el,hc]}],"underline-offset":[{"underline-offset":["auto",el,kt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),lae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uae]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[el,kt]}],"outline-w":[{outline:[el,hc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[el,hc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pc,fae]}],"shadow-color":[{shadow:[fg]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pc,kt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ug,kt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[el,hc,DT]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gae=Zoe(mae);function Yt(...t){return gae(dr(t))}const vae=uoe,eG=T.forwardRef(({className:t,...e},n)=>S.jsx(OW,{ref:n,className:Yt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));eG.displayName=OW.displayName;const yae=bI("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tG=T.forwardRef(({className:t,variant:e,...n},r)=>S.jsx(kW,{ref:r,className:Yt(yae({variant:e}),t),...n}));tG.displayName=kW.displayName;const xae=T.forwardRef(({className:t,...e},n)=>S.jsx(BW,{ref:n,className:Yt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));xae.displayName=BW.displayName;const nG=T.forwardRef(({className:t,...e},n)=>S.jsx(zW,{ref:n,className:Yt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:S.jsx(YW,{className:"h-4 w-4"})}));nG.displayName=zW.displayName;const rG=T.forwardRef(({className:t,...e},n)=>S.jsx(UW,{ref:n,className:Yt("text-sm font-semibold",t),...e}));rG.displayName=UW.displayName;const iG=T.forwardRef(({className:t,...e},n)=>S.jsx(FW,{ref:n,className:Yt("text-sm opacity-90",t),...e}));iG.displayName=FW.displayName;function wae(){const{toasts:t}=_se();return S.jsxs(vae,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return S.jsxs(tG,{...s,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(rG,{children:n}),r&&S.jsx(iG,{children:r})]}),i,S.jsx(nG,{})]},e)}),S.jsx(eG,{})]})}var bF=["light","dark"],_ae="(prefers-color-scheme: dark)",bae=T.createContext(void 0),Sae={setTheme:t=>{},themes:[]},Eae=()=>{var t;return(t=T.useContext(bae))!=null?t:Sae};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?bF.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(p,v=!1,y=!0)=>{let g=o?o[p]:p,_=v?p+"|| ''":`'${g}'`,w="";return i&&y&&!v&&bF.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),n==="class"?v||g?w+=`c.add(${_})`:w+="null":g&&(w+=`d[s](n,${_})`),w},h=t?`!function(){${u}${d(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${_ae}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${c?"":"else{"+d(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(s,!1,!1)};}${f}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var Mae=t=>{switch(t){case"success":return Cae;case"info":return Rae;case"warning":return Pae;case"error":return Nae;default:return null}},Tae=Array(12).fill(0),Aae=({visible:t})=>Qe.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Qe.createElement("div",{className:"sonner-spinner"},Tae.map((e,n)=>Qe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Cae=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Qe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Pae=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Qe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Rae=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Nae=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Iae=()=>{let[t,e]=Qe.useState(document.hidden);return Qe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},kC=1,Dae=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:kC++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(Oae(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||kC++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},As=new Dae,Lae=(t,e)=>{let n=(e==null?void 0:e.id)||kC++;return As.addToast({title:t,...e,id:n}),n},Oae=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",kae=Lae,Uae=()=>As.toasts;Object.assign(kae,{success:As.success,info:As.info,warning:As.warning,error:As.error,custom:As.custom,message:As.message,promise:As.promise,dismiss:As.dismiss,loading:As.loading},{getHistory:Uae});function Fae(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Fae(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ux(t){return t.label!==void 0}var Bae=3,zae="32px",jae=4e3,Vae=356,Hae=14,Wae=20,Gae=200;function $ae(...t){return t.filter(Boolean).join(" ")}var Xae=t=>{var e,n,r,i,s,o,a,l,c,u;let{invert:f,toast:d,unstyled:h,interacting:p,setHeights:v,visibleToasts:y,heights:g,index:_,toasts:w,expanded:b,removeToast:M,defaultRichColors:A,closeButton:C,style:N,cancelButtonStyle:R,actionButtonStyle:D,className:F="",descriptionClassName:U="",duration:$,position:I,gap:V,loadingIcon:j,expandByDefault:X,classNames:L,icons:k,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:B,cn:G}=t,[Y,Z]=Qe.useState(!1),[Q,re]=Qe.useState(!1),[J,ae]=Qe.useState(!1),[se,fe]=Qe.useState(!1),[ue,H]=Qe.useState(0),[he,le]=Qe.useState(0),me=Qe.useRef(null),de=Qe.useRef(null),ke=_===0,_e=_+1<=y,q=d.type,K=d.dismissible!==!1,ne=d.className||"",be=d.descriptionClassName||"",pe=Qe.useMemo(()=>g.findIndex(De=>De.toastId===d.id)||0,[g,d.id]),ve=Qe.useMemo(()=>{var De;return(De=d.closeButton)!=null?De:C},[d.closeButton,C]),Re=Qe.useMemo(()=>d.duration||$||jae,[d.duration,$]),Be=Qe.useRef(0),Te=Qe.useRef(0),je=Qe.useRef(0),$e=Qe.useRef(null),[Ae,st]=I.split("-"),tt=Qe.useMemo(()=>g.reduce((De,Ue,xe)=>xe>=pe?De:De+Ue.height,0),[g,pe]),Xe=Iae(),Ge=d.invert||f,Ie=q==="loading";Te.current=Qe.useMemo(()=>pe*V+tt,[pe,tt]),Qe.useEffect(()=>{Z(!0)},[]),Qe.useLayoutEffect(()=>{if(!Y)return;let De=de.current,Ue=De.style.height;De.style.height="auto";let xe=De.getBoundingClientRect().height;De.style.height=Ue,le(xe),v(ce=>ce.find(We=>We.toastId===d.id)?ce.map(We=>We.toastId===d.id?{...We,height:xe}:We):[{toastId:d.id,height:xe,position:d.position},...ce])},[Y,d.title,d.description,v,d.id]);let oe=Qe.useCallback(()=>{re(!0),H(Te.current),v(De=>De.filter(Ue=>Ue.toastId!==d.id)),setTimeout(()=>{M(d)},Gae)},[d,M,v,Te]);Qe.useEffect(()=>{if(d.promise&&q==="loading"||d.duration===1/0||d.type==="loading")return;let De,Ue=Re;return b||p||B&&Xe?(()=>{if(je.current<Be.current){let xe=new Date().getTime()-Be.current;Ue=Ue-xe}je.current=new Date().getTime()})():Ue!==1/0&&(Be.current=new Date().getTime(),De=setTimeout(()=>{var xe;(xe=d.onAutoClose)==null||xe.call(d,d),oe()},Ue)),()=>clearTimeout(De)},[b,p,X,d,Re,oe,d.promise,q,B,Xe]),Qe.useEffect(()=>{let De=de.current;if(De){let Ue=De.getBoundingClientRect().height;return le(Ue),v(xe=>[{toastId:d.id,height:Ue,position:d.position},...xe]),()=>v(xe=>xe.filter(ce=>ce.toastId!==d.id))}},[v,d.id]),Qe.useEffect(()=>{d.delete&&oe()},[oe,d.delete]);function Ce(){return k!=null&&k.loading?Qe.createElement("div",{className:"sonner-loader","data-visible":q==="loading"},k.loading):j?Qe.createElement("div",{className:"sonner-loader","data-visible":q==="loading"},j):Qe.createElement(Aae,{visible:q==="loading"})}return Qe.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:de,className:G(F,ne,L==null?void 0:L.toast,(e=d==null?void 0:d.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[q],(n=d==null?void 0:d.classNames)==null?void 0:n[q]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:A,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":Y,"data-promise":!!d.promise,"data-removed":Q,"data-visible":_e,"data-y-position":Ae,"data-x-position":st,"data-index":_,"data-front":ke,"data-swiping":J,"data-dismissible":K,"data-type":q,"data-invert":Ge,"data-swipe-out":se,"data-expanded":!!(b||X&&Y),style:{"--index":_,"--toasts-before":_,"--z-index":w.length-_,"--offset":`${Q?ue:Te.current}px`,"--initial-height":X?"auto":`${he}px`,...N,...d.style},onPointerDown:De=>{Ie||!K||(me.current=new Date,H(Te.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(ae(!0),$e.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,Ue,xe,ce;if(se||!K)return;$e.current=null;let We=Number(((De=de.current)==null?void 0:De.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ze=new Date().getTime()-((Ue=me.current)==null?void 0:Ue.getTime()),Ye=Math.abs(We)/ze;if(Math.abs(We)>=Wae||Ye>.11){H(Te.current),(xe=d.onDismiss)==null||xe.call(d,d),oe(),fe(!0);return}(ce=de.current)==null||ce.style.setProperty("--swipe-amount","0px"),ae(!1)},onPointerMove:De=>{var Ue;if(!$e.current||!K)return;let xe=De.clientY-$e.current.y,ce=De.clientX-$e.current.x,We=(Ae==="top"?Math.min:Math.max)(0,xe),ze=De.pointerType==="touch"?10:2;Math.abs(We)>ze?(Ue=de.current)==null||Ue.style.setProperty("--swipe-amount",`${xe}px`):Math.abs(ce)>ze&&($e.current=null)}},ve&&!d.jsx?Qe.createElement("button",{"aria-label":z,"data-disabled":Ie,"data-close-button":!0,onClick:Ie||!K?()=>{}:()=>{var De;oe(),(De=d.onDismiss)==null||De.call(d,d)},className:G(L==null?void 0:L.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Qe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Qe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||Qe.isValidElement(d.title)?d.jsx||d.title:Qe.createElement(Qe.Fragment,null,q||d.icon||d.promise?Qe.createElement("div",{"data-icon":"",className:G(L==null?void 0:L.icon,(s=d==null?void 0:d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Ce():null,d.type!=="loading"?d.icon||(k==null?void 0:k[q])||Mae(q):null):null,Qe.createElement("div",{"data-content":"",className:G(L==null?void 0:L.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},Qe.createElement("div",{"data-title":"",className:G(L==null?void 0:L.title,(a=d==null?void 0:d.classNames)==null?void 0:a.title)},d.title),d.description?Qe.createElement("div",{"data-description":"",className:G(U,be,L==null?void 0:L.description,(l=d==null?void 0:d.classNames)==null?void 0:l.description)},d.description):null),Qe.isValidElement(d.cancel)?d.cancel:d.cancel&&Ux(d.cancel)?Qe.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||R,onClick:De=>{var Ue,xe;Ux(d.cancel)&&K&&((xe=(Ue=d.cancel).onClick)==null||xe.call(Ue,De),oe())},className:G(L==null?void 0:L.cancelButton,(c=d==null?void 0:d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,Qe.isValidElement(d.action)?d.action:d.action&&Ux(d.action)?Qe.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||D,onClick:De=>{var Ue,xe;Ux(d.action)&&(De.defaultPrevented||((xe=(Ue=d.action).onClick)==null||xe.call(Ue,De),oe()))},className:G(L==null?void 0:L.actionButton,(u=d==null?void 0:d.classNames)==null?void 0:u.actionButton)},d.action.label):null))};function SF(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Yae=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:f,visibleToasts:d=Bae,toastOptions:h,dir:p=SF(),gap:v=Hae,loadingIcon:y,icons:g,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:w,cn:b=$ae}=t,[M,A]=Qe.useState([]),C=Qe.useMemo(()=>Array.from(new Set([n].concat(M.filter(B=>B.position).map(B=>B.position)))),[M,n]),[N,R]=Qe.useState([]),[D,F]=Qe.useState(!1),[U,$]=Qe.useState(!1),[I,V]=Qe.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=Qe.useRef(null),X=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=Qe.useRef(null),k=Qe.useRef(!1),z=Qe.useCallback(B=>{var G;(G=M.find(Y=>Y.id===B.id))!=null&&G.delete||As.dismiss(B.id),A(Y=>Y.filter(({id:Z})=>Z!==B.id))},[M]);return Qe.useEffect(()=>As.subscribe(B=>{if(B.dismiss){A(G=>G.map(Y=>Y.id===B.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{pW.flushSync(()=>{A(G=>{let Y=G.findIndex(Z=>Z.id===B.id);return Y!==-1?[...G.slice(0,Y),{...G[Y],...B},...G.slice(Y+1)]:[B,...G]})})})}),[]),Qe.useEffect(()=>{if(l!=="system"){V(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{V(B?"dark":"light")})},[l]),Qe.useEffect(()=>{M.length<=1&&F(!1)},[M]),Qe.useEffect(()=>{let B=G=>{var Y,Z;r.every(Q=>G[Q]||G.code===Q)&&(F(!0),(Y=j.current)==null||Y.focus()),G.code==="Escape"&&(document.activeElement===j.current||(Z=j.current)!=null&&Z.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[r]),Qe.useEffect(()=>{if(j.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,k.current=!1)}},[j.current]),M.length?Qe.createElement("section",{"aria-label":`${_} ${X}`,tabIndex:-1},C.map((B,G)=>{var Y;let[Z,Q]=B.split("-");return Qe.createElement("ol",{key:B,dir:p==="auto"?SF():p,tabIndex:-1,ref:j,className:o,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":Z,"data-x-position":Q,style:{"--front-toast-height":`${((Y=N[0])==null?void 0:Y.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||zae,"--width":`${Vae}px`,"--gap":`${v}px`,...f},onBlur:re=>{k.current&&!re.currentTarget.contains(re.relatedTarget)&&(k.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||k.current||(k.current=!0,L.current=re.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{U||F(!1)},onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},M.filter(re=>!re.position&&G===0||re.position===B).map((re,J)=>{var ae,se;return Qe.createElement(Xae,{key:re.id,icons:g,index:J,toast:re,defaultRichColors:c,duration:(ae=h==null?void 0:h.duration)!=null?ae:u,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:e,visibleToasts:d,closeButton:(se=h==null?void 0:h.closeButton)!=null?se:s,interacting:U,position:B,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:z,toasts:M.filter(fe=>fe.position==re.position),heights:N.filter(fe=>fe.position==re.position),setHeights:R,expandByDefault:i,gap:v,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:w,cn:b})}))})):null};const Kae=({...t})=>{const{theme:e="system"}=Eae();return S.jsx(Yae,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var qae=f6.useId||(()=>{}),Zae=0;function Jc(t){const[e,n]=T.useState(qae());return Ri(()=>{n(r=>r??String(Zae++))},[t]),e?`radix-${e}`:""}const Qae=["top","right","bottom","left"],uu=Math.min,Rs=Math.max,b_=Math.round,Fx=Math.floor,fu=t=>({x:t,y:t}),Jae={left:"right",right:"left",bottom:"top",top:"bottom"},ele={start:"end",end:"start"};function UC(t,e,n){return Rs(t,uu(e,n))}function Il(t,e){return typeof t=="function"?t(e):t}function Dl(t){return t.split("-")[0]}function lm(t){return t.split("-")[1]}function MI(t){return t==="x"?"y":"x"}function TI(t){return t==="y"?"height":"width"}function du(t){return["top","bottom"].includes(Dl(t))?"y":"x"}function AI(t){return MI(du(t))}function tle(t,e,n){n===void 0&&(n=!1);const r=lm(t),i=AI(t),s=TI(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=S_(o)),[o,S_(o)]}function nle(t){const e=S_(t);return[FC(t),e,FC(e)]}function FC(t){return t.replace(/start|end/g,e=>ele[e])}function rle(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function ile(t,e,n,r){const i=lm(t);let s=rle(Dl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(FC)))),s}function S_(t){return t.replace(/left|right|bottom|top/g,e=>Jae[e])}function sle(t){return{top:0,right:0,bottom:0,left:0,...t}}function sG(t){return typeof t!="number"?sle(t):{top:t,right:t,bottom:t,left:t}}function E_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function EF(t,e,n){let{reference:r,floating:i}=t;const s=du(e),o=AI(e),a=TI(o),l=Dl(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(lm(e)){case"start":h[o]-=d*(n&&c?-1:1);break;case"end":h[o]+=d*(n&&c?-1:1);break}return h}const ole=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=EF(c,r,l),d=r,h={},p=0;for(let v=0;v<a.length;v++){const{name:y,fn:g}=a[v],{x:_,y:w,data:b,reset:M}=await g({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=_??u,f=w??f,h={...h,[y]:{...h[y],...b}},M&&p<=50&&(p++,typeof M=="object"&&(M.placement&&(d=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:u,y:f}=EF(c,d,l)),v=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function kv(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Il(e,t),p=sG(h),y=a[d?f==="floating"?"reference":"floating":f],g=E_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},M=E_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:l}):_);return{top:(g.top-M.top+p.top)/b.y,bottom:(M.bottom-g.bottom+p.bottom)/b.y,left:(g.left-M.left+p.left)/b.x,right:(M.right-g.right+p.right)/b.x}}const ale=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Il(t,e)||{};if(c==null)return{};const f=sG(u),d={x:n,y:r},h=AI(i),p=TI(h),v=await o.getDimensions(c),y=h==="y",g=y?"top":"left",_=y?"bottom":"right",w=y?"clientHeight":"clientWidth",b=s.reference[p]+s.reference[h]-d[h]-s.floating[p],M=d[h]-s.reference[h],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=A?A[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(A)))&&(C=a.floating[w]||s.floating[p]);const N=b/2-M/2,R=C/2-v[p]/2-1,D=uu(f[g],R),F=uu(f[_],R),U=D,$=C-v[p]-F,I=C/2-v[p]/2+N,V=UC(U,I,$),j=!l.arrow&&lm(i)!=null&&I!==V&&s.reference[p]/2-(I<U?D:F)-v[p]/2<0,X=j?I<U?I-U:I-$:0;return{[h]:d[h]+X,data:{[h]:V,centerOffset:I-V-X,...j&&{alignmentOffset:X}},reset:j}}}),lle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...y}=Il(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Dl(i),_=du(a),w=Dl(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=d||(w||!v?[S_(a)]:nle(a)),A=p!=="none";!d&&A&&M.push(...ile(a,v,p,b));const C=[a,...M],N=await kv(e,y),R=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(N[g]),f){const I=tle(i,o,b);R.push(N[I[0]],N[I[1]])}if(D=[...D,{placement:i,overflows:R}],!R.every(I=>I<=0)){var F,U;const I=(((F=s.flip)==null?void 0:F.index)||0)+1,V=C[I];if(V)return{data:{index:I,overflows:D},reset:{placement:V}};let j=(U=D.filter(X=>X.overflows[0]<=0).sort((X,L)=>X.overflows[1]-L.overflows[1])[0])==null?void 0:U.placement;if(!j)switch(h){case"bestFit":{var $;const X=($=D.filter(L=>{if(A){const k=du(L.placement);return k===_||k==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(k=>k>0).reduce((k,z)=>k+z,0)]).sort((L,k)=>L[1]-k[1])[0])==null?void 0:$[0];X&&(j=X);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function MF(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TF(t){return Qae.some(e=>t[e]>=0)}const cle=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Il(t,e);switch(r){case"referenceHidden":{const s=await kv(e,{...i,elementContext:"reference"}),o=MF(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TF(o)}}}case"escaped":{const s=await kv(e,{...i,altBoundary:!0}),o=MF(s,n.floating);return{data:{escapedOffsets:o,escaped:TF(o)}}}default:return{}}}}};async function ule(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Dl(n),a=lm(n),l=du(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=Il(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const fle=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await ule(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},dle=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:_}=y;return{x:g,y:_}}},...l}=Il(t,e),c={x:n,y:r},u=await kv(e,l),f=du(Dl(i)),d=MI(f);let h=c[d],p=c[f];if(s){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",_=h+u[y],w=h-u[g];h=UC(_,h,w)}if(o){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",_=p+u[y],w=p-u[g];p=UC(_,p,w)}const v=a.fn({...e,[d]:h,[f]:p});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:s,[f]:o}}}}}},hle=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Il(t,e),u={x:n,y:r},f=du(i),d=MI(f);let h=u[d],p=u[f];const v=Il(a,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=d==="y"?"height":"width",b=s.reference[d]-s.floating[w]+y.mainAxis,M=s.reference[d]+s.reference[w]-y.mainAxis;h<b?h=b:h>M&&(h=M)}if(c){var g,_;const w=d==="y"?"width":"height",b=["top","left"].includes(Dl(i)),M=s.reference[f]-s.floating[w]+(b&&((g=o.offset)==null?void 0:g[f])||0)+(b?0:y.crossAxis),A=s.reference[f]+s.reference[w]+(b?0:((_=o.offset)==null?void 0:_[f])||0)-(b?y.crossAxis:0);p<M?p=M:p>A&&(p=A)}return{[d]:h,[f]:p}}}},ple=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Il(t,e),u=await kv(e,c),f=Dl(i),d=lm(i),h=du(i)==="y",{width:p,height:v}=s.floating;let y,g;f==="top"||f==="bottom"?(y=f,g=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=f,y=d==="end"?"top":"bottom");const _=v-u.top-u.bottom,w=p-u.left-u.right,b=uu(v-u[y],_),M=uu(p-u[g],w),A=!e.middlewareData.shift;let C=b,N=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),A&&!d){const D=Rs(u.left,0),F=Rs(u.right,0),U=Rs(u.top,0),$=Rs(u.bottom,0);h?N=p-2*(D!==0||F!==0?D+F:Rs(u.left,u.right)):C=v-2*(U!==0||$!==0?U+$:Rs(u.top,u.bottom))}await l({...e,availableWidth:N,availableHeight:C});const R=await o.getDimensions(a.floating);return p!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function lS(){return typeof window<"u"}function cm(t){return oG(t)?(t.nodeName||"").toLowerCase():"#document"}function Us(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ja(t){var e;return(e=(oG(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oG(t){return lS()?t instanceof Node||t instanceof Us(t).Node:!1}function Jo(t){return lS()?t instanceof Element||t instanceof Us(t).Element:!1}function Ua(t){return lS()?t instanceof HTMLElement||t instanceof Us(t).HTMLElement:!1}function AF(t){return!lS()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Us(t).ShadowRoot}function W0(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ea(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function mle(t){return["table","td","th"].includes(cm(t))}function cS(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function CI(t){const e=PI(),n=Jo(t)?ea(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function gle(t){let e=hu(t);for(;Ua(e)&&!Dp(e);){if(CI(e))return e;if(cS(e))return null;e=hu(e)}return null}function PI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dp(t){return["html","body","#document"].includes(cm(t))}function ea(t){return Us(t).getComputedStyle(t)}function uS(t){return Jo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hu(t){if(cm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||AF(t)&&t.host||ja(t);return AF(e)?e.host:e}function aG(t){const e=hu(t);return Dp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ua(e)&&W0(e)?e:aG(e)}function Uv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=aG(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Us(i);if(s){const a=BC(o);return e.concat(o,o.visualViewport||[],W0(i)?i:[],a&&n?Uv(a):[])}return e.concat(i,Uv(i,[],n))}function BC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lG(t){const e=ea(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ua(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=b_(n)!==s||b_(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function RI(t){return Jo(t)?t:t.contextElement}function fp(t){const e=RI(t);if(!Ua(e))return fu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=lG(e);let o=(s?b_(n.width):n.width)/r,a=(s?b_(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const vle=fu(0);function cG(t){const e=Us(t);return!PI()||!e.visualViewport?vle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Us(t)?!1:e}function nd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=RI(t);let o=fu(1);e&&(r?Jo(r)&&(o=fp(r)):o=fp(t));const a=yle(s,n,r)?cG(s):fu(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const d=Us(s),h=r&&Jo(r)?Us(r):r;let p=d,v=BC(p);for(;v&&r&&h!==p;){const y=fp(v),g=v.getBoundingClientRect(),_=ea(v),w=g.left+(v.clientLeft+parseFloat(_.paddingLeft))*y.x,b=g.top+(v.clientTop+parseFloat(_.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=w,c+=b,p=Us(v),v=BC(p)}}return E_({width:u,height:f,x:l,y:c})}function xle(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ja(r),a=e?cS(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=fu(1);const u=fu(0),f=Ua(r);if((f||!f&&!s)&&((cm(r)!=="body"||W0(o))&&(l=uS(r)),Ua(r))){const d=nd(r);c=fp(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function wle(t){return Array.from(t.getClientRects())}function zC(t,e){const n=uS(t).scrollLeft;return e?e.left+n:nd(ja(t)).left+n}function _le(t){const e=ja(t),n=uS(t),r=t.ownerDocument.body,i=Rs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Rs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+zC(t);const a=-n.scrollTop;return ea(r).direction==="rtl"&&(o+=Rs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function ble(t,e){const n=Us(t),r=ja(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=PI();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Sle(t,e){const n=nd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ua(t)?fp(t):fu(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function CF(t,e,n){let r;if(e==="viewport")r=ble(t,n);else if(e==="document")r=_le(ja(t));else if(Jo(e))r=Sle(e,n);else{const i=cG(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return E_(r)}function uG(t,e){const n=hu(t);return n===e||!Jo(n)||Dp(n)?!1:ea(n).position==="fixed"||uG(n,e)}function Ele(t,e){const n=e.get(t);if(n)return n;let r=Uv(t,[],!1).filter(a=>Jo(a)&&cm(a)!=="body"),i=null;const s=ea(t).position==="fixed";let o=s?hu(t):t;for(;Jo(o)&&!Dp(o);){const a=ea(o),l=CI(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||W0(o)&&!l&&uG(t,o))?r=r.filter(u=>u!==o):i=a,o=hu(o)}return e.set(t,r),r}function Mle(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?cS(e)?[]:Ele(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=CF(e,u,i);return c.top=Rs(f.top,c.top),c.right=uu(f.right,c.right),c.bottom=uu(f.bottom,c.bottom),c.left=Rs(f.left,c.left),c},CF(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Tle(t){const{width:e,height:n}=lG(t);return{width:e,height:n}}function Ale(t,e,n){const r=Ua(e),i=ja(e),s=n==="fixed",o=nd(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=fu(0);if(r||!r&&!s)if((cm(e)!=="body"||W0(i))&&(a=uS(e)),r){const h=nd(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=zC(i));let c=0,u=0;if(i&&!r&&!s){const h=i.getBoundingClientRect();u=h.top+a.scrollTop,c=h.left+a.scrollLeft-zC(i,h)}const f=o.left+a.scrollLeft-l.x-c,d=o.top+a.scrollTop-l.y-u;return{x:f,y:d,width:o.width,height:o.height}}function LT(t){return ea(t).position==="static"}function PF(t,e){if(!Ua(t)||ea(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ja(t)===n&&(n=n.ownerDocument.body),n}function fG(t,e){const n=Us(t);if(cS(t))return n;if(!Ua(t)){let i=hu(t);for(;i&&!Dp(i);){if(Jo(i)&&!LT(i))return i;i=hu(i)}return n}let r=PF(t,e);for(;r&&mle(r)&&LT(r);)r=PF(r,e);return r&&Dp(r)&&LT(r)&&!CI(r)?n:r||gle(t)||n}const Cle=async function(t){const e=this.getOffsetParent||fG,n=this.getDimensions,r=await n(t.floating);return{reference:Ale(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ple(t){return ea(t).direction==="rtl"}const Rle={convertOffsetParentRelativeRectToViewportRelativeRect:xle,getDocumentElement:ja,getClippingRect:Mle,getOffsetParent:fG,getElementRects:Cle,getClientRects:wle,getDimensions:Tle,getScale:fp,isElement:Jo,isRTL:Ple};function Nle(t,e){let n=null,r;const i=ja(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:d}=t.getBoundingClientRect();if(a||e(),!f||!d)return;const h=Fx(u),p=Fx(i.clientWidth-(c+f)),v=Fx(i.clientHeight-(u+d)),y=Fx(c),_={rootMargin:-h+"px "+-p+"px "+-v+"px "+-y+"px",threshold:Rs(0,uu(1,l))||1};let w=!0;function b(M){const A=M[0].intersectionRatio;if(A!==l){if(!w)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(b,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,_)}n.observe(t)}return o(!0),s}function Ile(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=RI(t),u=i||s?[...c?Uv(c):[],...Uv(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const f=c&&a?Nle(c,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(g=>{let[_]=g;_&&_.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,v=l?nd(t):null;l&&y();function y(){const g=nd(t);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&n(),v=g,p=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const Dle=fle,Lle=dle,Ole=lle,kle=ple,Ule=cle,RF=ale,Fle=hle,Ble=(t,e,n)=>{const r=new Map,i={platform:Rle,...n},s={...i.platform,_c:r};return ole(t,e,{...i,platform:s})};var Aw=typeof document<"u"?T.useLayoutEffect:T.useEffect;function M_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!M_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!M_(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function dG(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NF(t,e){const n=dG(t);return Math.round(e*n)/n}function OT(t){const e=T.useRef(t);return Aw(()=>{e.current=t}),e}function zle(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=T.useState(r);M_(d,r)||h(r);const[p,v]=T.useState(null),[y,g]=T.useState(null),_=T.useCallback(L=>{L!==A.current&&(A.current=L,v(L))},[]),w=T.useCallback(L=>{L!==C.current&&(C.current=L,g(L))},[]),b=s||p,M=o||y,A=T.useRef(null),C=T.useRef(null),N=T.useRef(u),R=l!=null,D=OT(l),F=OT(i),U=OT(c),$=T.useCallback(()=>{if(!A.current||!C.current)return;const L={placement:e,strategy:n,middleware:d};F.current&&(L.platform=F.current),Ble(A.current,C.current,L).then(k=>{const z={...k,isPositioned:U.current!==!1};I.current&&!M_(N.current,z)&&(N.current=z,$l.flushSync(()=>{f(z)}))})},[d,e,n,F,U]);Aw(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const I=T.useRef(!1);Aw(()=>(I.current=!0,()=>{I.current=!1}),[]),Aw(()=>{if(b&&(A.current=b),M&&(C.current=M),b&&M){if(D.current)return D.current(b,M,$);$()}},[b,M,$,D,R]);const V=T.useMemo(()=>({reference:A,floating:C,setReference:_,setFloating:w}),[_,w]),j=T.useMemo(()=>({reference:b,floating:M}),[b,M]),X=T.useMemo(()=>{const L={position:n,left:0,top:0};if(!j.floating)return L;const k=NF(j.floating,u.x),z=NF(j.floating,u.y);return a?{...L,transform:"translate("+k+"px, "+z+"px)",...dG(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:z}},[n,a,j.floating,u.x,u.y]);return T.useMemo(()=>({...u,update:$,refs:V,elements:j,floatingStyles:X}),[u,$,V,j,X])}const jle=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?RF({element:r.current,padding:i}).fn(n):{}:r?RF({element:r,padding:i}).fn(n):{}}}},Vle=(t,e)=>({...Dle(t),options:[t,e]}),Hle=(t,e)=>({...Lle(t),options:[t,e]}),Wle=(t,e)=>({...Fle(t),options:[t,e]}),Gle=(t,e)=>({...Ole(t),options:[t,e]}),$le=(t,e)=>({...kle(t),options:[t,e]}),Xle=(t,e)=>({...Ule(t),options:[t,e]}),Yle=(t,e)=>({...jle(t),options:[t,e]});var Kle="Arrow",hG=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return S.jsx(Rt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});hG.displayName=Kle;var qle=hG;function Zle(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:d,children:h,...p}=f,v=(d==null?void 0:d[t][l])||a,y=T.useMemo(()=>p,Object.values(p));return S.jsx(v.Provider,{value:y,children:h})}function u(f,d){const h=(d==null?void 0:d[t][l])||a,p=T.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Qle(i,...e)]}function Qle(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function NI(t){const[e,n]=T.useState(void 0);return Ri(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var II="Popper",[pG,fS]=Zle(II),[Jle,mG]=pG(II),gG=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return S.jsx(Jle,{scope:e,anchor:r,onAnchorChange:i,children:n})};gG.displayName=II;var vG="PopperAnchor",yG=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=mG(vG,n),o=T.useRef(null),a=nn(e,o);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:S.jsx(Rt.div,{...i,ref:a})});yG.displayName=vG;var DI="PopperContent",[ece,tce]=pG(DI),xG=T.forwardRef((t,e)=>{var J,ae,se,fe,ue,H;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:p,...v}=t,y=mG(DI,n),[g,_]=T.useState(null),w=nn(e,he=>_(he)),[b,M]=T.useState(null),A=NI(b),C=(A==null?void 0:A.width)??0,N=(A==null?void 0:A.height)??0,R=r+(s!=="center"?"-"+s:""),D=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(c)?c:[c],U=F.length>0,$={padding:D,boundary:F.filter(rce),altBoundary:U},{refs:I,floatingStyles:V,placement:j,isPositioned:X,middlewareData:L}=zle({strategy:"fixed",placement:R,whileElementsMounted:(...he)=>Ile(...he,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[Vle({mainAxis:i+N,alignmentAxis:o}),l&&Hle({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Wle():void 0,...$}),l&&Gle({...$}),$le({...$,apply:({elements:he,rects:le,availableWidth:me,availableHeight:de})=>{const{width:ke,height:_e}=le.reference,q=he.floating.style;q.setProperty("--radix-popper-available-width",`${me}px`),q.setProperty("--radix-popper-available-height",`${de}px`),q.setProperty("--radix-popper-anchor-width",`${ke}px`),q.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),b&&Yle({element:b,padding:a}),ice({arrowWidth:C,arrowHeight:N}),d&&Xle({strategy:"referenceHidden",...$})]}),[k,z]=bG(j),B=ms(p);Ri(()=>{X&&(B==null||B())},[X,B]);const G=(J=L.arrow)==null?void 0:J.x,Y=(ae=L.arrow)==null?void 0:ae.y,Z=((se=L.arrow)==null?void 0:se.centerOffset)!==0,[Q,re]=T.useState();return Ri(()=>{g&&re(window.getComputedStyle(g).zIndex)},[g]),S.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:X?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(fe=L.transformOrigin)==null?void 0:fe.x,(ue=L.transformOrigin)==null?void 0:ue.y].join(" "),...((H=L.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(ece,{scope:n,placedSide:k,onArrowChange:M,arrowX:G,arrowY:Y,shouldHideArrow:Z,children:S.jsx(Rt.div,{"data-side":k,"data-align":z,...v,ref:w,style:{...v.style,animation:X?void 0:"none"}})})})});xG.displayName=DI;var wG="PopperArrow",nce={top:"bottom",right:"left",bottom:"top",left:"right"},_G=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=tce(wG,r),o=nce[s.placedSide];return S.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:S.jsx(qle,{...i,ref:n,style:{...i.style,display:"block"}})})});_G.displayName=wG;function rce(t){return t!==null}var ice=t=>({name:"transformOrigin",options:t,fn(e){var y,g,_;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=bG(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,h=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let p="",v="";return c==="bottom"?(p=o?f:`${d}px`,v=`${-l}px`):c==="top"?(p=o?f:`${d}px`,v=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,v=o?f:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,v=o?f:`${h}px`),{data:{x:p,y:v}}}});function bG(t){const[e,n="center"]=t.split("-");return[e,n]}var sce=gG,SG=yG,EG=xG,MG=_G,[dS,pVe]=wd("Tooltip",[fS]),LI=fS(),TG="TooltipProvider",oce=700,IF="tooltip.open",[ace,AG]=dS(TG),CG=t=>{const{__scopeTooltip:e,delayDuration:n=oce,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=T.useState(!0),l=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),S.jsx(ace,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};CG.displayName=TG;var PG="Tooltip",[mVe,hS]=dS(PG),jC="TooltipTrigger",lce=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=hS(jC,n),s=AG(jC,n),o=LI(n),a=T.useRef(null),l=nn(e,a,i.onTriggerChange),c=T.useRef(!1),u=T.useRef(!1),f=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),S.jsx(SG,{asChild:!0,...o,children:S.jsx(Rt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:vt(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:vt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:vt(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:vt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:vt(t.onBlur,i.onClose),onClick:vt(t.onClick,i.onClose)})})});lce.displayName=jC;var cce="TooltipPortal",[gVe,uce]=dS(cce,{forceMount:void 0}),Lp="TooltipContent",RG=T.forwardRef((t,e)=>{const n=uce(Lp,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=hS(Lp,t.__scopeTooltip);return S.jsx(_d,{present:r||o.open,children:o.disableHoverableContent?S.jsx(NG,{side:i,...s,ref:e}):S.jsx(fce,{side:i,...s,ref:e})})}),fce=T.forwardRef((t,e)=>{const n=hS(Lp,t.__scopeTooltip),r=AG(Lp,t.__scopeTooltip),i=T.useRef(null),s=nn(e,i),[o,a]=T.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,d=T.useCallback(()=>{a(null),f(!1)},[f]),h=T.useCallback((p,v)=>{const y=p.currentTarget,g={x:p.clientX,y:p.clientY},_=mce(g,y.getBoundingClientRect()),w=gce(g,_),b=vce(v.getBoundingClientRect()),M=xce([...w,...b]);a(M),f(!0)},[f]);return T.useEffect(()=>()=>d(),[d]),T.useEffect(()=>{if(l&&u){const p=y=>h(y,u),v=y=>h(y,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",v)}}},[l,u,h,d]),T.useEffect(()=>{if(o){const p=v=>{const y=v.target,g={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),w=!yce(g,o);_?d():w&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,o,c,d]),S.jsx(NG,{...t,ref:s})}),[dce,hce]=dS(PG,{isInside:!1}),NG=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=hS(Lp,n),c=LI(n),{onClose:u}=l;return T.useEffect(()=>(document.addEventListener(IF,u),()=>document.removeEventListener(IF,u)),[u]),T.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),S.jsx(V0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:S.jsxs(EG,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(vW,{children:r}),S.jsx(dce,{scope:n,isInside:!0,children:S.jsx($se,{id:l.contentId,role:"tooltip",children:i||r})})]})})});RG.displayName=Lp;var IG="TooltipArrow",pce=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=LI(n);return hce(IG,n).isInside?null:S.jsx(MG,{...i,...r,ref:e})});pce.displayName=IG;function mce(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gce(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function vce(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function yce(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function xce(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wce(e)}function wce(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _ce=CG,DG=RG;const bce=_ce,Sce=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>S.jsx(DG,{ref:r,sideOffset:e,className:Yt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Sce.displayName=DG.displayName;var pS=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mS=typeof window>"u"||"Deno"in globalThis;function Oo(){}function Ece(t,e){return typeof t=="function"?t(e):t}function Mce(t){return typeof t=="number"&&t>=0&&t!==1/0}function Tce(t,e){return Math.max(t+(e||0)-Date.now(),0)}function DF(t,e){return typeof t=="function"?t(e):t}function Ace(t,e){return typeof t=="function"?t(e):t}function LF(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==OI(o,e.options))return!1}else if(!Bv(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function OF(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Fv(e.options.mutationKey)!==Fv(s))return!1}else if(!Bv(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function OI(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fv)(t)}function Fv(t){return JSON.stringify(t,(e,n)=>VC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Bv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Bv(t[n],e[n])):!1}function LG(t,e){if(t===e)return t;const n=kF(t)&&kF(e);if(n||VC(t)&&VC(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=LG(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function kF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function VC(t){if(!UF(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!UF(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function UF(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cce(t){return new Promise(e=>{setTimeout(e,t)})}function Pce(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?LG(t,e):e}function Rce(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Nce(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var kI=Symbol();function OG(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===kI?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Pf,Uc,vp,XH,Ice=(XH=class extends pS{constructor(){super();ln(this,Pf);ln(this,Uc);ln(this,vp);zt(this,vp,e=>{if(!mS&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ve(this,Uc)||this.setEventListener(Ve(this,vp))}onUnsubscribe(){var e;this.hasListeners()||((e=Ve(this,Uc))==null||e.call(this),zt(this,Uc,void 0))}setEventListener(e){var n;zt(this,vp,e),(n=Ve(this,Uc))==null||n.call(this),zt(this,Uc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ve(this,Pf)!==e&&(zt(this,Pf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ve(this,Pf)=="boolean"?Ve(this,Pf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Pf=new WeakMap,Uc=new WeakMap,vp=new WeakMap,XH),kG=new Ice,yp,Fc,xp,YH,Dce=(YH=class extends pS{constructor(){super();ln(this,yp,!0);ln(this,Fc);ln(this,xp);zt(this,xp,e=>{if(!mS&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ve(this,Fc)||this.setEventListener(Ve(this,xp))}onUnsubscribe(){var e;this.hasListeners()||((e=Ve(this,Fc))==null||e.call(this),zt(this,Fc,void 0))}setEventListener(e){var n;zt(this,xp,e),(n=Ve(this,Fc))==null||n.call(this),zt(this,Fc,e(this.setOnline.bind(this)))}setOnline(e){Ve(this,yp)!==e&&(zt(this,yp,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ve(this,yp)}},yp=new WeakMap,Fc=new WeakMap,xp=new WeakMap,YH),T_=new Dce;function Lce(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Oce(t){return Math.min(1e3*2**t,3e4)}function UG(t){return(t??"online")==="online"?T_.isOnline():!0}var FG=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kT(t){return t instanceof FG}function BG(t){let e=!1,n=0,r=!1,i;const s=Lce(),o=v=>{var y;r||(d(new FG(v)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>kG.isFocused()&&(t.networkMode==="always"||T_.isOnline())&&t.canRun(),u=()=>UG(t.networkMode)&&t.canRun(),f=v=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,v),i==null||i(),s.resolve(v))},d=v=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,v),i==null||i(),s.reject(v))},h=()=>new Promise(v=>{var y;i=g=>{(r||c())&&v(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),p=()=>{if(r)return;let v;const y=n===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var A;if(r)return;const _=t.retry??(mS?0:3),w=t.retryDelay??Oce,b=typeof w=="function"?w(n,g):w,M=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,g);if(e||!M){d(g);return}n++,(A=t.onFail)==null||A.call(t,n,g),Cce(b).then(()=>c()?void 0:h()).then(()=>{e?d(g):p()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),s)}}function kce(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Wi=kce(),Rf,KH,zG=(KH=class{constructor(){ln(this,Rf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mce(this.gcTime)&&zt(this,Rf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mS?1/0:5*60*1e3))}clearGcTimeout(){Ve(this,Rf)&&(clearTimeout(Ve(this,Rf)),zt(this,Rf,void 0))}},Rf=new WeakMap,KH),wp,_p,lo,Si,O0,Nf,Uo,ll,qH,Uce=(qH=class extends zG{constructor(e){super();ln(this,Uo);ln(this,wp);ln(this,_p);ln(this,lo);ln(this,Si);ln(this,O0);ln(this,Nf);zt(this,Nf,!1),zt(this,O0,e.defaultOptions),this.setOptions(e.options),this.observers=[],zt(this,lo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,zt(this,wp,Bce(this.options)),this.state=e.state??Ve(this,wp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ve(this,Si))==null?void 0:e.promise}setOptions(e){this.options={...Ve(this,O0),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ve(this,lo).remove(this)}setData(e,n){const r=Pce(this.state.data,e,this.options);return gi(this,Uo,ll).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){gi(this,Uo,ll).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Ve(this,Si))==null?void 0:r.promise;return(i=Ve(this,Si))==null||i.cancel(e),n?n.then(Oo).catch(Oo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ve(this,wp))}isActive(){return this.observers.some(e=>Ace(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kI||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Tce(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Ve(this,Si))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Ve(this,Si))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ve(this,lo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Ve(this,Si)&&(Ve(this,Nf)?Ve(this,Si).cancel({revert:!0}):Ve(this,Si).cancelRetry()),this.scheduleGc()),Ve(this,lo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gi(this,Uo,ll).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ve(this,Si))return Ve(this,Si).continueRetry(),Ve(this,Si).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(zt(this,Nf,!0),r.signal)})},s=()=>{const f=OG(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return i(d),zt(this,Nf,!1),this.options.persister?this.options.persister(f,d,this):f(d)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),zt(this,_p,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&gi(this,Uo,ll).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=f=>{var d,h,p,v;kT(f)&&f.silent||gi(this,Uo,ll).call(this,{type:"error",error:f}),kT(f)||((h=(d=Ve(this,lo).config).onError)==null||h.call(d,f,this),(v=(p=Ve(this,lo).config).onSettled)==null||v.call(p,this.state.data,f,this)),this.scheduleGc()};return zt(this,Si,BG({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var d,h,p,v;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){a(y);return}(h=(d=Ve(this,lo).config).onSuccess)==null||h.call(d,f,this),(v=(p=Ve(this,lo).config).onSettled)==null||v.call(p,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,d)=>{gi(this,Uo,ll).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{gi(this,Uo,ll).call(this,{type:"pause"})},onContinue:()=>{gi(this,Uo,ll).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ve(this,Si).start()}},wp=new WeakMap,_p=new WeakMap,lo=new WeakMap,Si=new WeakMap,O0=new WeakMap,Nf=new WeakMap,Uo=new WeakSet,ll=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Fce(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return kT(i)&&i.revert&&Ve(this,_p)?{...Ve(this,_p),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ve(this,lo).notify({query:this,type:"updated",action:e})})},qH);function Fce(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UG(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Bce(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wa,ZH,zce=(ZH=class extends pS{constructor(e={}){super();ln(this,wa);this.config=e,zt(this,wa,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??OI(i,n);let o=this.get(s);return o||(o=new Uce({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Ve(this,wa).has(e.queryHash)||(Ve(this,wa).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ve(this,wa).get(e.queryHash);n&&(e.destroy(),n===e&&Ve(this,wa).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ve(this,wa).get(e)}getAll(){return[...Ve(this,wa).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LF(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>LF(e,r)):n}notify(e){Wi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Wi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wa=new WeakMap,ZH),_a,Vi,If,ba,Tc,QH,jce=(QH=class extends zG{constructor(e){super();ln(this,ba);ln(this,_a);ln(this,Vi);ln(this,If);this.mutationId=e.mutationId,zt(this,Vi,e.mutationCache),zt(this,_a,[]),this.state=e.state||Vce(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ve(this,_a).includes(e)||(Ve(this,_a).push(e),this.clearGcTimeout(),Ve(this,Vi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){zt(this,_a,Ve(this,_a).filter(n=>n!==e)),this.scheduleGc(),Ve(this,Vi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ve(this,_a).length||(this.state.status==="pending"?this.scheduleGc():Ve(this,Vi).remove(this))}continue(){var e;return((e=Ve(this,If))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,u,f,d,h,p,v,y,g,_,w,b,M,A,C;zt(this,If,BG({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,R)=>{gi(this,ba,Tc).call(this,{type:"failed",failureCount:N,error:R})},onPause:()=>{gi(this,ba,Tc).call(this,{type:"pause"})},onContinue:()=>{gi(this,ba,Tc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ve(this,Vi).canRun(this)}));const n=this.state.status==="pending",r=!Ve(this,If).canStart();try{if(!n){gi(this,ba,Tc).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=Ve(this,Vi).config).onMutate)==null?void 0:s.call(i,e,this));const R=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));R!==this.state.context&&gi(this,ba,Tc).call(this,{type:"pending",context:R,variables:e,isPaused:r})}const N=await Ve(this,If).start();return await((c=(l=Ve(this,Vi).config).onSuccess)==null?void 0:c.call(l,N,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,N,e,this.state.context)),await((h=(d=Ve(this,Vi).config).onSettled)==null?void 0:h.call(d,N,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,N,null,e,this.state.context)),gi(this,ba,Tc).call(this,{type:"success",data:N}),N}catch(N){try{throw await((g=(y=Ve(this,Vi).config).onError)==null?void 0:g.call(y,N,e,this.state.context,this)),await((w=(_=this.options).onError)==null?void 0:w.call(_,N,e,this.state.context)),await((M=(b=Ve(this,Vi).config).onSettled)==null?void 0:M.call(b,void 0,N,this.state.variables,this.state.context,this)),await((C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,N,e,this.state.context)),N}finally{gi(this,ba,Tc).call(this,{type:"error",error:N})}}finally{Ve(this,Vi).runNext(this)}}},_a=new WeakMap,Vi=new WeakMap,If=new WeakMap,ba=new WeakSet,Tc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wi.batch(()=>{Ve(this,_a).forEach(r=>{r.onMutationUpdate(e)}),Ve(this,Vi).notify({mutation:this,type:"updated",action:e})})},QH);function Vce(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ts,k0,JH,Hce=(JH=class extends pS{constructor(e={}){super();ln(this,Ts);ln(this,k0);this.config=e,zt(this,Ts,new Map),zt(this,k0,Date.now())}build(e,n,r){const i=new jce({mutationCache:this,mutationId:++gx(this,k0)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Bx(e),r=Ve(this,Ts).get(n)??[];r.push(e),Ve(this,Ts).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Bx(e);if(Ve(this,Ts).has(n)){const i=(r=Ve(this,Ts).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?Ve(this,Ts).delete(n):Ve(this,Ts).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Ve(this,Ts).get(Bx(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Ve(this,Ts).get(Bx(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Wi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ve(this,Ts).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>OF(n,r))}findAll(e={}){return this.getAll().filter(n=>OF(e,n))}notify(e){Wi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Wi.batch(()=>Promise.all(e.map(n=>n.continue().catch(Oo))))}},Ts=new WeakMap,k0=new WeakMap,JH);function Bx(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function FF(t){return{onFetch:(e,n)=>{var u,f,d,h,p;const r=e.options,i=(d=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},g=OG(e.options,e.fetchOptions),_=async(w,b,M)=>{if(v)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const A={queryKey:e.queryKey,pageParam:b,direction:M?"backward":"forward",meta:e.options.meta};y(A);const C=await g(A),{maxPages:N}=e.options,R=M?Nce:Rce;return{pages:R(w.pages,C,N),pageParams:R(w.pageParams,b,N)}};if(i&&s.length){const w=i==="backward",b=w?Wce:BF,M={pages:s,pageParams:o},A=b(r,M);a=await _(M,A,w)}else{const w=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:BF(r,a);if(l>0&&b==null)break;a=await _(a,b),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var v,y;return(y=(v=e.options).persister)==null?void 0:y.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function BF(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Wce(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Yn,Bc,zc,bp,Sp,jc,Ep,Mp,e6,Gce=(e6=class{constructor(t={}){ln(this,Yn);ln(this,Bc);ln(this,zc);ln(this,bp);ln(this,Sp);ln(this,jc);ln(this,Ep);ln(this,Mp);zt(this,Yn,t.queryCache||new zce),zt(this,Bc,t.mutationCache||new Hce),zt(this,zc,t.defaultOptions||{}),zt(this,bp,new Map),zt(this,Sp,new Map),zt(this,jc,0)}mount(){gx(this,jc)._++,Ve(this,jc)===1&&(zt(this,Ep,kG.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ve(this,Yn).onFocus())})),zt(this,Mp,T_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ve(this,Yn).onOnline())})))}unmount(){var t,e;gx(this,jc)._--,Ve(this,jc)===0&&((t=Ve(this,Ep))==null||t.call(this),zt(this,Ep,void 0),(e=Ve(this,Mp))==null||e.call(this),zt(this,Mp,void 0))}isFetching(t){return Ve(this,Yn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ve(this,Bc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ve(this,Yn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Ve(this,Yn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(DF(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Ve(this,Yn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Ve(this,Yn).get(r.queryHash),s=i==null?void 0:i.state.data,o=Ece(e,s);if(o!==void 0)return Ve(this,Yn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Wi.batch(()=>Ve(this,Yn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ve(this,Yn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ve(this,Yn);Wi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ve(this,Yn),r={type:"active",...t};return Wi.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Wi.batch(()=>Ve(this,Yn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Oo).catch(Oo)}invalidateQueries(t={},e={}){return Wi.batch(()=>{if(Ve(this,Yn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Wi.batch(()=>Ve(this,Yn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Oo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Oo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ve(this,Yn).build(this,e);return n.isStaleByTime(DF(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Oo).catch(Oo)}fetchInfiniteQuery(t){return t.behavior=FF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Oo).catch(Oo)}ensureInfiniteQueryData(t){return t.behavior=FF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return T_.isOnline()?Ve(this,Bc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ve(this,Yn)}getMutationCache(){return Ve(this,Bc)}getDefaultOptions(){return Ve(this,zc)}setDefaultOptions(t){zt(this,zc,t)}setQueryDefaults(t,e){Ve(this,bp).set(Fv(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ve(this,bp).values()];let n={};return e.forEach(r=>{Bv(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Ve(this,Sp).set(Fv(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ve(this,Sp).values()];let n={};return e.forEach(r=>{Bv(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ve(this,zc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=OI(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===kI&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ve(this,zc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ve(this,Yn).clear(),Ve(this,Bc).clear()}},Yn=new WeakMap,Bc=new WeakMap,zc=new WeakMap,bp=new WeakMap,Sp=new WeakMap,jc=new WeakMap,Ep=new WeakMap,Mp=new WeakMap,e6),$ce=T.createContext(void 0),Xce=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx($ce.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}var Wc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wc||(Wc={}));const zF="popstate";function Yce(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return HC("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:A_(i)}return qce(e,n,null,t)}function Sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jG(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kce(){return Math.random().toString(36).substr(2,8)}function jF(t,e){return{usr:t.state,key:t.key,idx:e}}function HC(t,e,n,r){return n===void 0&&(n=null),zv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?um(e):e,{state:n,key:e&&e.key||r||Kce()})}function A_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function um(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qce(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wc.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(zv({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=Wc.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:g})}function d(y,g){a=Wc.Push;let _=HC(v.location,y,g);c=u()+1;let w=jF(_,c),b=v.createHref(_);try{o.pushState(w,"",b)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(b)}s&&l&&l({action:a,location:v.location,delta:1})}function h(y,g){a=Wc.Replace;let _=HC(v.location,y,g);c=u();let w=jF(_,c),b=v.createHref(_);o.replaceState(w,"",b),s&&l&&l({action:a,location:v.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:A_(y);return _=_.replace(/ $/,"%20"),Sr(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let v={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zF,f),l=y,()=>{i.removeEventListener(zF,f),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return v}var VF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(VF||(VF={}));function Zce(t,e,n){return n===void 0&&(n="/"),Qce(t,e,n,!1)}function Qce(t,e,n,r){let i=typeof e=="string"?um(e):e,s=UI(i.pathname||"/",n);if(s==null)return null;let o=VG(t);Jce(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=uue(s);a=lue(o[l],c,r)}return a}function VG(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Sr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=eu([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Sr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),VG(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:oue(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of HG(s.path))i(s,o,l)}),e}function HG(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HG(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Jce(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aue(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eue=/^:[\w-]+$/,tue=3,nue=2,rue=1,iue=10,sue=-2,HF=t=>t==="*";function oue(t,e){let n=t.split("/"),r=n.length;return n.some(HF)&&(r+=sue),e&&(r+=nue),n.filter(i=>!HF(i)).reduce((i,s)=>i+(eue.test(s)?tue:s===""?rue:iue),r)}function aue(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lue(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=WF({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=WF({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:eu([s,f.pathname]),pathnameBase:pue(eu([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=eu([s,f.pathnameBase]))}return o}function WF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cue(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function cue(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jG(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uue(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jG(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fue(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?um(t):t;return{pathname:n?n.startsWith("/")?n:due(n,e):e,search:mue(r),hash:gue(i)}}function due(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function UT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hue(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WG(t,e){let n=hue(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function GG(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=um(t):(i=zv({},t),Sr(!i.pathname||!i.pathname.includes("?"),UT("?","pathname","search",i)),Sr(!i.pathname||!i.pathname.includes("#"),UT("#","pathname","hash",i)),Sr(!i.search||!i.search.includes("#"),UT("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=fue(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const eu=t=>t.join("/").replace(/\/\/+/g,"/"),pue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mue=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vue(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $G=["post","put","patch","delete"];new Set($G);const yue=["get",...$G];new Set(yue);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}const FI=T.createContext(null),xue=T.createContext(null),bd=T.createContext(null),gS=T.createContext(null),Sd=T.createContext({outlet:null,matches:[],isDataRoute:!1}),XG=T.createContext(null);function wue(t,e){let{relative:n}=e===void 0?{}:e;G0()||Sr(!1);let{basename:r,navigator:i}=T.useContext(bd),{hash:s,pathname:o,search:a}=KG(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:eu([r,o])),i.createHref({pathname:l,search:a,hash:s})}function G0(){return T.useContext(gS)!=null}function fm(){return G0()||Sr(!1),T.useContext(gS).location}function YG(t){T.useContext(bd).static||T.useLayoutEffect(t)}function _ue(){let{isDataRoute:t}=T.useContext(Sd);return t?Lue():bue()}function bue(){G0()||Sr(!1);let t=T.useContext(FI),{basename:e,future:n,navigator:r}=T.useContext(bd),{matches:i}=T.useContext(Sd),{pathname:s}=fm(),o=JSON.stringify(WG(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return YG(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=GG(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:eu([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,s,t])}function KG(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(bd),{matches:i}=T.useContext(Sd),{pathname:s}=fm(),o=JSON.stringify(WG(i,r.v7_relativeSplatPath));return T.useMemo(()=>GG(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Sue(t,e){return Eue(t,e)}function Eue(t,e,n,r){G0()||Sr(!1);let{navigator:i}=T.useContext(bd),{matches:s}=T.useContext(Sd),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=fm(),u;if(e){var f;let y=typeof e=="string"?um(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||Sr(!1),u=y}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Zce(t,{pathname:h}),v=Pue(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:eu([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:eu([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&v?T.createElement(gS.Provider,{value:{location:jv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wc.Pop}},v):v}function Mue(){let t=Due(),e=vue(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const Tue=T.createElement(Mue,null);class Aue extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Sd.Provider,{value:this.props.routeContext},T.createElement(XG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cue(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(FI);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Sd.Provider,{value:e},r)}function Pue(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||Sr(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,d)=>{let h,p=!1,v=null,y=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||Tue,l&&(c<0&&d===0?(p=!0,y=null):c===d&&(p=!0,y=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),_=()=>{let w;return h?w=v:p?w=y:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,T.createElement(Cue,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?T.createElement(Aue,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):_()},null)}var qG=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qG||{}),C_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(C_||{});function Rue(t){let e=T.useContext(FI);return e||Sr(!1),e}function Nue(t){let e=T.useContext(xue);return e||Sr(!1),e}function Iue(t){let e=T.useContext(Sd);return e||Sr(!1),e}function ZG(t){let e=Iue(),n=e.matches[e.matches.length-1];return n.route.id||Sr(!1),n.route.id}function Due(){var t;let e=T.useContext(XG),n=Nue(C_.UseRouteError),r=ZG(C_.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Lue(){let{router:t}=Rue(qG.UseNavigateStable),e=ZG(C_.UseNavigateStable),n=T.useRef(!1);return YG(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jv({fromRouteId:e},s)))},[t,e])}function zg(t){Sr(!1)}function Oue(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wc.Pop,navigator:s,static:o=!1,future:a}=t;G0()&&Sr(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:o,future:jv({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=um(r));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,v=T.useMemo(()=>{let y=UI(u,l);return y==null?null:{location:{pathname:y,search:f,hash:d,state:h,key:p},navigationType:i}},[l,u,f,d,h,p,i]);return v==null?null:T.createElement(bd.Provider,{value:c},T.createElement(gS.Provider,{children:n,value:v}))}function kue(t){let{children:e,location:n}=t;return Sue(WC(e),n)}new Promise(()=>{});function WC(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,WC(r.props.children,s));return}r.type!==zg&&Sr(!1),!r.props.index||!r.props.children||Sr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=WC(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function GC(){return GC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GC.apply(this,arguments)}function Uue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fue(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bue(t,e){return t.button===0&&(!e||e==="_self")&&!Fue(t)}const zue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jue="6";try{window.__reactRouterVersion=jue}catch{}const Vue="startTransition",GF=f6[Vue];function Hue(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=Yce({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=T.useCallback(f=>{c&&GF?GF(()=>l(f)):l(f)},[l,c]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(Oue,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Wue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$ue=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,d=Uue(e,zue),{basename:h}=T.useContext(bd),p,v=!1;if(typeof c=="string"&&Gue.test(c)&&(p=c,Wue))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),M=UI(b.pathname,h);b.origin===w.origin&&M!=null?c=M+b.search+b.hash:v=!0}catch{}let y=wue(c,{relative:i}),g=Xue(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function _(w){r&&r(w),w.defaultPrevented||g(w)}return T.createElement("a",GC({},d,{href:p||y,onClick:v||s?r:_,ref:n,target:l}))});var $F;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($F||($F={}));var XF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(XF||(XF={}));function Xue(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=_ue(),c=fm(),u=KG(t,{relative:o});return T.useCallback(f=>{if(Bue(f,n)){f.preventDefault();let d=r!==void 0?r:A_(c)===A_(u);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const FT=[{id:"bochk-client",label:["BOCHK","Client"],icon:DC,path:"/",activeColor:"bg-primary/90 border-primary text-primary-foreground shadow-[0_0_20px_hsl(343_75%_43%/0.5)]",hoverColor:"hover:bg-primary/20 hover:border-primary/40 hover:shadow-[0_0_15px_hsl(343_75%_43%/0.3)]"},{id:"parents",label:["Parents"],icon:aS,path:"/parents",activeColor:"bg-parent/90 border-parent text-parent-foreground shadow-[0_0_20px_hsl(45_95%_55%/0.5)]",hoverColor:"hover:bg-parent/20 hover:border-parent/40 hover:shadow-[0_0_15px_hsl(45_95%_55%/0.3)]"},{id:"relation-manager",label:["Relation","Manager"],icon:Doe,path:"/relation-manager",activeColor:"bg-rm/90 border-rm text-rm-foreground shadow-[0_0_20px_hsl(210_95%_65%/0.5)]",hoverColor:"hover:bg-rm/20 hover:border-rm/40 hover:shadow-[0_0_15px_hsl(210_95%_65%/0.3)]"}],Yue=()=>{const t=fm(),e=FT.findIndex(r=>r.path===t.pathname),n=FT[e];return S.jsx("nav",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50",children:S.jsxs("div",{className:"relative flex items-center gap-2 px-3 py-2 backdrop-blur-xl bg-glass border border-glass-border rounded-2xl",style:{boxShadow:"var(--shadow-glass)"},children:[S.jsx("div",{className:`absolute h-16 w-[90px] rounded-xl border transition-all duration-500 ease-out z-0 ${n?n.activeColor:"opacity-0"}`,style:{transform:`translateX(${e>=0?e*98:0}px)`,left:"12px"}}),FT.map((r,i)=>{const s=t.pathname===r.path,o=r.icon;return S.jsxs($ue,{to:r.path,className:`
                  relative z-10 flex flex-col items-center justify-center gap-0.5 px-2 py-2 rounded-xl w-[90px] h-16
                  backdrop-blur-md border transition-all duration-300 ease-out
                  ${s?"border-transparent bg-transparent text-current font-bold":"bg-glass/50 border-glass-border hover:scale-105 "+r.hoverColor}
                `,children:[S.jsx(o,{className:`w-4 h-4 transition-transform duration-300 ${s?"animate-gentle-bounce":"hover:scale-110"}`}),S.jsx("div",{className:`text-[10px] font-semibold text-center transition-all duration-300 ${s?"font-bold":"hover:font-semibold"} leading-tight`,children:Array.isArray(r.label)?r.label.map((a,l)=>S.jsx("div",{children:a},l)):r.label})]},r.id)})]})})},BI=()=>{const t=T.useRef(null);return T.useEffect(()=>{if(!t.current)return;const e=t.current,n=[];for(let r=0;r<200;r++){let i,s;Math.random()>.3?Math.random()>.5?(i=Math.random()>.5?Math.random()*30:70+Math.random()*30,s=Math.random()*100):(i=Math.random()*100,s=Math.random()>.5?Math.random()*25:75+Math.random()*25):(i=30+Math.random()*40,s=25+Math.random()*50),n.push({x:i,y:s,delay:Math.random()*3,isRed:Math.random()>.7})}return n.forEach((r,i)=>{const s=document.createElement("div");let o="";Math.random()>.65&&(o=` drift-star drift-star-${Math.floor(Math.random()*4)+1}`),s.className=`star ${r.isRed?"red-star":""}${o}`,s.style.left=`${r.x}%`,s.style.top=`${r.y}%`,s.style.animationDelay=`${r.delay}s`,o&&(s.style.animation=`twinkle 3s infinite ${r.delay}s, ${o.trim().split(" ")[1]} var(--drift-duration) linear infinite alternate`),e.appendChild(s)}),()=>{e.innerHTML=""}},[]),S.jsx("div",{ref:t,className:"floating-stars"})},Kue=bI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Hr=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ed:"button";return S.jsx(o,{className:Yt(Kue({variant:e,size:n,className:t})),ref:s,...i})});Hr.displayName="Button";const Vv=T.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,className:Yt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Vv.displayName="Input";function zI(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jI="Switch",[que,vVe]=wd(jI),[Zue,Que]=que(jI),QG=T.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...f}=t,[d,h]=T.useState(null),p=nn(e,w=>h(w)),v=T.useRef(!1),y=d?u||!!d.closest("form"):!0,[g=!1,_]=cu({prop:i,defaultProp:s,onChange:c});return S.jsxs(Zue,{scope:n,checked:g,disabled:a,children:[S.jsx(Rt.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":t9(g),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:p,onClick:vt(t.onClick,w=>{_(b=>!b),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&S.jsx(Jue,{control:d,bubbles:!v.current,name:r,value:l,checked:g,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});QG.displayName=jI;var JG="SwitchThumb",e9=T.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Que(JG,n);return S.jsx(Rt.span,{"data-state":t9(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});e9.displayName=JG;var Jue=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=T.useRef(null),o=zI(n),a=NI(e);return T.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&f){const d=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(d)}},[o,n,r]),S.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function t9(t){return t?"checked":"unchecked"}var n9=QG,efe=e9;const VI=T.forwardRef(({className:t,...e},n)=>S.jsx(n9,{className:Yt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:S.jsx(efe,{className:Yt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));VI.displayName=n9.displayName;var BT="focusScope.autoFocusOnMount",zT="focusScope.autoFocusOnUnmount",YF={bubbles:!1,cancelable:!0},tfe="FocusScope",HI=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=T.useState(null),c=ms(i),u=ms(s),f=T.useRef(null),d=nn(e,v=>l(v)),h=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let v=function(w){if(h.paused||!a)return;const b=w.target;a.contains(b)?f.current=b:Ac(f.current,{select:!0})},y=function(w){if(h.paused||!a)return;const b=w.relatedTarget;b!==null&&(a.contains(b)||Ac(f.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const M of w)M.removedNodes.length>0&&Ac(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const _=new MutationObserver(g);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),_.disconnect()}}},[r,a,h.paused]),T.useEffect(()=>{if(a){qF.add(h);const v=document.activeElement;if(!a.contains(v)){const g=new CustomEvent(BT,YF);a.addEventListener(BT,c),a.dispatchEvent(g),g.defaultPrevented||(nfe(afe(r9(a)),{select:!0}),document.activeElement===v&&Ac(a))}return()=>{a.removeEventListener(BT,c),setTimeout(()=>{const g=new CustomEvent(zT,YF);a.addEventListener(zT,u),a.dispatchEvent(g),g.defaultPrevented||Ac(v??document.body,{select:!0}),a.removeEventListener(zT,u),qF.remove(h)},0)}}},[a,c,u,h]);const p=T.useCallback(v=>{if(!n&&!r||h.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(y&&g){const _=v.currentTarget,[w,b]=rfe(_);w&&b?!v.shiftKey&&g===b?(v.preventDefault(),n&&Ac(w,{select:!0})):v.shiftKey&&g===w&&(v.preventDefault(),n&&Ac(b,{select:!0})):g===_&&v.preventDefault()}},[n,r,h.paused]);return S.jsx(Rt.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});HI.displayName=tfe;function nfe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ac(r,{select:e}),document.activeElement!==n)return}function rfe(t){const e=r9(t),n=KF(e,t),r=KF(e.reverse(),t);return[n,r]}function r9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function KF(t,e){for(const n of t)if(!ife(n,{upTo:e}))return n}function ife(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sfe(t){return t instanceof HTMLInputElement&&"select"in t}function Ac(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sfe(t)&&e&&t.select()}}var qF=ofe();function ofe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ZF(t,e),t.unshift(e)},remove(e){var n;t=ZF(t,e),(n=t[0])==null||n.resume()}}}function ZF(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function afe(t){return t.filter(e=>e.tagName!=="A")}var jT=0;function i9(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??QF()),document.body.insertAdjacentElement("beforeend",t[1]??QF()),jT++,()=>{jT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jT--}},[])}function QF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ea=function(){return Ea=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ea.apply(this,arguments)};function s9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lfe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Cw="right-scroll-bar-position",Pw="width-before-scroll-bar",cfe="with-scroll-bars-hidden",ufe="--removed-body-scroll-bar-size";function VT(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ffe(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var dfe=typeof window<"u"?T.useLayoutEffect:T.useEffect,JF=new WeakMap;function hfe(t,e){var n=ffe(null,function(r){return t.forEach(function(i){return VT(i,r)})});return dfe(function(){var r=JF.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||VT(a,null)}),s.forEach(function(a){i.has(a)||VT(a,o)})}JF.set(n,t)},[t]),n}function pfe(t){return t}function mfe(t,e){e===void 0&&(e=pfe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function gfe(t){t===void 0&&(t={});var e=mfe(null);return e.options=Ea({async:!0,ssr:!1},t),e}var o9=function(t){var e=t.sideCar,n=s9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Ea({},n))};o9.isSideCarExport=!0;function vfe(t,e){return t.useMedium(e),o9}var a9=gfe(),HT=function(){},vS=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:HT,onWheelCapture:HT,onTouchMoveCapture:HT}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,d=t.sideCar,h=t.noIsolation,p=t.inert,v=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,_=t.gapMode,w=s9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=d,M=hfe([n,e]),A=Ea(Ea({},w),i);return T.createElement(T.Fragment,null,u&&T.createElement(b,{sideCar:a9,removeScrollBar:c,shards:f,noIsolation:h,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:_}),o?T.cloneElement(T.Children.only(a),Ea(Ea({},A),{ref:M})):T.createElement(g,Ea({},A,{className:l,ref:M}),a))});vS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vS.classNames={fullWidth:Pw,zeroRight:Cw};var yfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xfe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yfe();return e&&t.setAttribute("nonce",e),t}function wfe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _fe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bfe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xfe())&&(wfe(e,n),_fe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Sfe=function(){var t=bfe();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},l9=function(){var t=Sfe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Efe={left:0,top:0,right:0,gap:0},WT=function(t){return parseInt(t||"",10)||0},Mfe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[WT(n),WT(r),WT(i)]},Tfe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Efe;var e=Mfe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Afe=l9(),dp="data-scroll-locked",Cfe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(dp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cw,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pw,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cw," .").concat(Cw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pw," .").concat(Pw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dp,`] {
    `).concat(ufe,": ").concat(a,`px;
  }
`)},e4=function(){var t=parseInt(document.body.getAttribute(dp)||"0",10);return isFinite(t)?t:0},Pfe=function(){T.useEffect(function(){return document.body.setAttribute(dp,(e4()+1).toString()),function(){var t=e4()-1;t<=0?document.body.removeAttribute(dp):document.body.setAttribute(dp,t.toString())}},[])},Rfe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Pfe();var s=T.useMemo(function(){return Tfe(i)},[i]);return T.createElement(Afe,{styles:Cfe(s,!e,i,n?"":"!important")})},$C=!1;if(typeof window<"u")try{var zx=Object.defineProperty({},"passive",{get:function(){return $C=!0,!0}});window.addEventListener("test",zx,zx),window.removeEventListener("test",zx,zx)}catch{$C=!1}var Zd=$C?{passive:!1}:!1,Nfe=function(t){return t.tagName==="TEXTAREA"},c9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nfe(t)&&n[e]==="visible")},Ife=function(t){return c9(t,"overflowY")},Dfe=function(t){return c9(t,"overflowX")},t4=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=u9(t,r);if(i){var s=f9(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Lfe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ofe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},u9=function(t,e){return t==="v"?Ife(e):Dfe(e)},f9=function(t,e){return t==="v"?Lfe(e):Ofe(e)},kfe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ufe=function(t,e,n,r,i){var s=kfe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,f=0,d=0;do{var h=f9(t,a),p=h[0],v=h[1],y=h[2],g=v-y-s*p;(p||g)&&u9(t,a)&&(f+=g,d+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(f)<1||!i)||!u&&(Math.abs(d)<1||!i))&&(c=!0),c},jx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n4=function(t){return[t.deltaX,t.deltaY]},r4=function(t){return t&&"current"in t?t.current:t},Ffe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bfe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zfe=0,Qd=[];function jfe(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(zfe++)[0],s=T.useState(l9)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=lfe([t.lockRef.current],(t.shards||[]).map(r4),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=jx(v),_=n.current,w="deltaX"in v?v.deltaX:_[0]-g[0],b="deltaY"in v?v.deltaY:_[1]-g[1],M,A=v.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in v&&C==="h"&&A.type==="range")return!1;var N=t4(C,A);if(!N)return!0;if(N?M=C:(M=C==="v"?"h":"v",N=t4(C,A)),!N)return!1;if(!r.current&&"changedTouches"in v&&(w||b)&&(r.current=M),!M)return!0;var R=r.current||M;return Ufe(R,y,v,R==="h"?w:b,!0)},[]),l=T.useCallback(function(v){var y=v;if(!(!Qd.length||Qd[Qd.length-1]!==s)){var g="deltaY"in y?n4(y):jx(y),_=e.current.filter(function(M){return M.name===y.type&&(M.target===y.target||y.target===M.shadowParent)&&Ffe(M.delta,g)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(r4).filter(Boolean).filter(function(M){return M.contains(y.target)}),b=w.length>0?a(y,w[0]):!o.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),c=T.useCallback(function(v,y,g,_){var w={name:v,delta:y,target:g,should:_,shadowParent:Vfe(g)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(b){return b!==w})},1)},[]),u=T.useCallback(function(v){n.current=jx(v),r.current=void 0},[]),f=T.useCallback(function(v){c(v.type,n4(v),v.target,a(v,t.lockRef.current))},[]),d=T.useCallback(function(v){c(v.type,jx(v),v.target,a(v,t.lockRef.current))},[]);T.useEffect(function(){return Qd.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Zd),document.addEventListener("touchmove",l,Zd),document.addEventListener("touchstart",u,Zd),function(){Qd=Qd.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Zd),document.removeEventListener("touchmove",l,Zd),document.removeEventListener("touchstart",u,Zd)}},[]);var h=t.removeScrollBar,p=t.inert;return T.createElement(T.Fragment,null,p?T.createElement(s,{styles:Bfe(i)}):null,h?T.createElement(Rfe,{gapMode:t.gapMode}):null)}function Vfe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Hfe=vfe(a9,jfe);var WI=T.forwardRef(function(t,e){return T.createElement(vS,Ea({},t,{ref:e,sideCar:Hfe}))});WI.classNames=vS.classNames;var Wfe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Jd=new WeakMap,Vx=new WeakMap,Hx={},GT=0,d9=function(t){return t&&(t.host||d9(t.parentNode))},Gfe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=d9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$fe=function(t,e,n,r){var i=Gfe(e,Array.isArray(t)?t:[t]);Hx[n]||(Hx[n]=new WeakMap);var s=Hx[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(a.has(d))u(d);else try{var h=d.getAttribute(r),p=h!==null&&h!=="false",v=(Jd.get(d)||0)+1,y=(s.get(d)||0)+1;Jd.set(d,v),s.set(d,y),o.push(d),v===1&&p&&Vx.set(d,!0),y===1&&d.setAttribute(n,"true"),p||d.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",d,g)}})};return u(e),a.clear(),GT++,function(){o.forEach(function(f){var d=Jd.get(f)-1,h=s.get(f)-1;Jd.set(f,d),s.set(f,h),d||(Vx.has(f)||f.removeAttribute(r),Vx.delete(f)),h||f.removeAttribute(n)}),GT--,GT||(Jd=new WeakMap,Jd=new WeakMap,Vx=new WeakMap,Hx={})}},h9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Wfe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),$fe(r,i,n,"aria-hidden")):function(){return null}},GI="Dialog",[p9,yVe]=wd(GI),[Xfe,sa]=p9(GI),m9=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=T.useRef(null),l=T.useRef(null),[c=!1,u]=cu({prop:r,defaultProp:i,onChange:s});return S.jsx(Xfe,{scope:e,triggerRef:a,contentRef:l,contentId:Jc(),titleId:Jc(),descriptionId:Jc(),open:c,onOpenChange:u,onOpenToggle:T.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};m9.displayName=GI;var g9="DialogTrigger",v9=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=sa(g9,n),s=nn(e,i.triggerRef);return S.jsx(Rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":YI(i.open),...r,ref:s,onClick:vt(t.onClick,i.onOpenToggle)})});v9.displayName=g9;var $I="DialogPortal",[Yfe,y9]=p9($I,{forceMount:void 0}),x9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=sa($I,e);return S.jsx(Yfe,{scope:e,forceMount:n,children:T.Children.map(r,o=>S.jsx(_d,{present:n||s.open,children:S.jsx(iS,{asChild:!0,container:i,children:o})}))})};x9.displayName=$I;var P_="DialogOverlay",w9=T.forwardRef((t,e)=>{const n=y9(P_,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=sa(P_,t.__scopeDialog);return s.modal?S.jsx(_d,{present:r||s.open,children:S.jsx(Kfe,{...i,ref:e})}):null});w9.displayName=P_;var Kfe=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=sa(P_,n);return S.jsx(WI,{as:ed,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(Rt.div,{"data-state":YI(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),rd="DialogContent",_9=T.forwardRef((t,e)=>{const n=y9(rd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=sa(rd,t.__scopeDialog);return S.jsx(_d,{present:r||s.open,children:s.modal?S.jsx(qfe,{...i,ref:e}):S.jsx(Zfe,{...i,ref:e})})});_9.displayName=rd;var qfe=T.forwardRef((t,e)=>{const n=sa(rd,t.__scopeDialog),r=T.useRef(null),i=nn(e,n.contentRef,r);return T.useEffect(()=>{const s=r.current;if(s)return h9(s)},[]),S.jsx(b9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:vt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:vt(t.onFocusOutside,s=>s.preventDefault())})}),Zfe=T.forwardRef((t,e)=>{const n=sa(rd,t.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return S.jsx(b9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),b9=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=sa(rd,n),l=T.useRef(null),c=nn(e,l);return i9(),S.jsxs(S.Fragment,{children:[S.jsx(HI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:S.jsx(V0,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":YI(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(Qfe,{titleId:a.titleId}),S.jsx(ede,{contentRef:l,descriptionId:a.descriptionId})]})]})}),XI="DialogTitle",S9=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=sa(XI,n);return S.jsx(Rt.h2,{id:i.titleId,...r,ref:e})});S9.displayName=XI;var E9="DialogDescription",M9=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=sa(E9,n);return S.jsx(Rt.p,{id:i.descriptionId,...r,ref:e})});M9.displayName=E9;var T9="DialogClose",A9=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=sa(T9,n);return S.jsx(Rt.button,{type:"button",...r,ref:e,onClick:vt(t.onClick,()=>i.onOpenChange(!1))})});A9.displayName=T9;function YI(t){return t?"open":"closed"}var C9="DialogTitleWarning",[xVe,P9]=Cse(C9,{contentName:rd,titleName:XI,docsSlug:"dialog"}),Qfe=({titleId:t})=>{const e=P9(C9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Jfe="DialogDescriptionWarning",ede=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P9(Jfe).contentName}}.`;return T.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},tde=m9,nde=v9,rde=x9,R9=w9,N9=_9,I9=S9,D9=M9,ide=A9;const XC=tde,YC=nde,sde=rde,L9=T.forwardRef(({className:t,...e},n)=>S.jsx(R9,{ref:n,className:Yt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));L9.displayName=R9.displayName;const R_=T.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(sde,{children:[S.jsx(L9,{}),S.jsxs(N9,{ref:r,className:Yt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,S.jsxs(ide,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[S.jsx(YW,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));R_.displayName=N9.displayName;const N_=({className:t,...e})=>S.jsx("div",{className:Yt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});N_.displayName="DialogHeader";const I_=T.forwardRef(({className:t,...e},n)=>S.jsx(I9,{ref:n,className:Yt("text-lg font-semibold leading-none tracking-tight",t),...e}));I_.displayName=I9.displayName;const ode=T.forwardRef(({className:t,...e},n)=>S.jsx(D9,{ref:n,className:Yt("text-sm text-muted-foreground",t),...e}));ode.displayName=D9.displayName;const ar=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Yt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ar.displayName="Card";const wr=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Yt("flex flex-col space-y-1.5 p-6",t),...e}));wr.displayName="CardHeader";const _r=T.forwardRef(({className:t,...e},n)=>S.jsx("h3",{ref:n,className:Yt("text-2xl font-semibold leading-none tracking-tight",t),...e}));_r.displayName="CardTitle";const ade=T.forwardRef(({className:t,...e},n)=>S.jsx("p",{ref:n,className:Yt("text-sm text-muted-foreground",t),...e}));ade.displayName="CardDescription";const lr=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Yt("p-6 pt-0",t),...e}));lr.displayName="CardContent";const lde=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Yt("flex items-center p-6 pt-0",t),...e}));lde.displayName="CardFooter";function D_(t,[e,n]){return Math.min(n,Math.max(e,t))}var cde=T.createContext(void 0);function yS(t){const e=T.useContext(cde);return t||e||"ltr"}var ude=[" ","Enter","ArrowUp","ArrowDown"],fde=[" ","Enter"],$0="Select",[xS,wS,dde]=rS($0),[dm,wVe]=wd($0,[dde,fS]),_S=fS(),[hde,bu]=dm($0),[pde,mde]=dm($0),O9=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:d,required:h,form:p}=t,v=_S(e),[y,g]=T.useState(null),[_,w]=T.useState(null),[b,M]=T.useState(!1),A=yS(c),[C=!1,N]=cu({prop:r,defaultProp:i,onChange:s}),[R,D]=cu({prop:o,defaultProp:a,onChange:l}),F=T.useRef(null),U=y?p||!!y.closest("form"):!0,[$,I]=T.useState(new Set),V=Array.from($).map(j=>j.props.value).join(";");return S.jsx(sce,{...v,children:S.jsxs(hde,{required:h,scope:e,trigger:y,onTriggerChange:g,valueNode:_,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:M,contentId:Jc(),value:R,onValueChange:D,open:C,onOpenChange:N,dir:A,triggerPointerDownPosRef:F,disabled:d,children:[S.jsx(xS.Provider,{scope:e,children:S.jsx(pde,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(j=>{I(X=>new Set(X).add(j))},[]),onNativeOptionRemove:T.useCallback(j=>{I(X=>{const L=new Set(X);return L.delete(j),L})},[]),children:n})}),U?S.jsxs(o$,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:j=>D(j.target.value),disabled:d,form:p,children:[R===void 0?S.jsx("option",{value:""}):null,Array.from($)]},V):null]})})};O9.displayName=$0;var k9="SelectTrigger",U9=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=_S(n),o=bu(k9,n),a=o.disabled||r,l=nn(e,o.onTriggerChange),c=wS(n),u=T.useRef("touch"),[f,d,h]=a$(v=>{const y=c().filter(w=>!w.disabled),g=y.find(w=>w.value===o.value),_=l$(y,v,g);_!==void 0&&o.onValueChange(_.value)}),p=v=>{a||(o.onOpenChange(!0),h()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return S.jsx(SG,{asChild:!0,...s,children:S.jsx(Rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":s$(o.value)?"":void 0,...i,ref:l,onClick:vt(i.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&p(v)}),onPointerDown:vt(i.onPointerDown,v=>{u.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(p(v),v.preventDefault())}),onKeyDown:vt(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&d(v.key),!(y&&v.key===" ")&&ude.includes(v.key)&&(p(),v.preventDefault())})})})});U9.displayName=k9;var F9="SelectValue",B9=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=bu(F9,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,f=nn(e,l.onValueNodeChange);return Ri(()=>{c(u)},[c,u]),S.jsx(Rt.span,{...a,ref:f,style:{pointerEvents:"none"},children:s$(l.value)?S.jsx(S.Fragment,{children:o}):s})});B9.displayName=F9;var gde="SelectIcon",z9=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return S.jsx(Rt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});z9.displayName=gde;var vde="SelectPortal",j9=t=>S.jsx(iS,{asChild:!0,...t});j9.displayName=vde;var id="SelectContent",V9=T.forwardRef((t,e)=>{const n=bu(id,t.__scopeSelect),[r,i]=T.useState();if(Ri(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?$l.createPortal(S.jsx(H9,{scope:t.__scopeSelect,children:S.jsx(xS.Slot,{scope:t.__scopeSelect,children:S.jsx("div",{children:t.children})})}),s):null}return S.jsx(W9,{...t,ref:e})});V9.displayName=id;var Io=10,[H9,Su]=dm(id),yde="SelectContentImpl",W9=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:v,avoidCollisions:y,...g}=t,_=bu(id,n),[w,b]=T.useState(null),[M,A]=T.useState(null),C=nn(e,J=>b(J)),[N,R]=T.useState(null),[D,F]=T.useState(null),U=wS(n),[$,I]=T.useState(!1),V=T.useRef(!1);T.useEffect(()=>{if(w)return h9(w)},[w]),i9();const j=T.useCallback(J=>{const[ae,...se]=U().map(H=>H.ref.current),[fe]=se.slice(-1),ue=document.activeElement;for(const H of J)if(H===ue||(H==null||H.scrollIntoView({block:"nearest"}),H===ae&&M&&(M.scrollTop=0),H===fe&&M&&(M.scrollTop=M.scrollHeight),H==null||H.focus(),document.activeElement!==ue))return},[U,M]),X=T.useCallback(()=>j([N,w]),[j,N,w]);T.useEffect(()=>{$&&X()},[$,X]);const{onOpenChange:L,triggerPointerDownPosRef:k}=_;T.useEffect(()=>{if(w){let J={x:0,y:0};const ae=fe=>{var ue,H;J={x:Math.abs(Math.round(fe.pageX)-(((ue=k.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((H=k.current)==null?void 0:H.y)??0))}},se=fe=>{J.x<=10&&J.y<=10?fe.preventDefault():w.contains(fe.target)||L(!1),document.removeEventListener("pointermove",ae),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,L,k]),T.useEffect(()=>{const J=()=>L(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[L]);const[z,B]=a$(J=>{const ae=U().filter(ue=>!ue.disabled),se=ae.find(ue=>ue.ref.current===document.activeElement),fe=l$(ae,J,se);fe&&setTimeout(()=>fe.ref.current.focus())}),G=T.useCallback((J,ae,se)=>{const fe=!V.current&&!se;(_.value!==void 0&&_.value===ae||fe)&&(R(J),fe&&(V.current=!0))},[_.value]),Y=T.useCallback(()=>w==null?void 0:w.focus(),[w]),Z=T.useCallback((J,ae,se)=>{const fe=!V.current&&!se;(_.value!==void 0&&_.value===ae||fe)&&F(J)},[_.value]),Q=r==="popper"?KC:G9,re=Q===KC?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:v,avoidCollisions:y}:{};return S.jsx(H9,{scope:n,content:w,viewport:M,onViewportChange:A,itemRefCallback:G,selectedItem:N,onItemLeave:Y,itemTextRefCallback:Z,focusSelectedItem:X,selectedItemText:D,position:r,isPositioned:$,searchRef:z,children:S.jsx(WI,{as:ed,allowPinchZoom:!0,children:S.jsx(HI,{asChild:!0,trapped:_.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:vt(i,J=>{var ae;(ae=_.trigger)==null||ae.focus({preventScroll:!0}),J.preventDefault()}),children:S.jsx(V0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:S.jsx(Q,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:J=>J.preventDefault(),...g,...re,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:vt(g.onKeyDown,J=>{const ae=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ae&&J.key.length===1&&B(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let fe=U().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(J.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ue=J.target,H=fe.indexOf(ue);fe=fe.slice(H+1)}setTimeout(()=>j(fe)),J.preventDefault()}})})})})})})});W9.displayName=yde;var xde="SelectItemAlignedPosition",G9=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=bu(id,n),o=Su(id,n),[a,l]=T.useState(null),[c,u]=T.useState(null),f=nn(e,C=>u(C)),d=wS(n),h=T.useRef(!1),p=T.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:g,focusSelectedItem:_}=o,w=T.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&v&&y&&g){const C=s.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),D=g.getBoundingClientRect();if(s.dir!=="rtl"){const ue=D.left-N.left,H=R.left-ue,he=C.left-H,le=C.width+he,me=Math.max(le,N.width),de=window.innerWidth-Io,ke=D_(H,[Io,Math.max(Io,de-me)]);a.style.minWidth=le+"px",a.style.left=ke+"px"}else{const ue=N.right-D.right,H=window.innerWidth-R.right-ue,he=window.innerWidth-C.right-H,le=C.width+he,me=Math.max(le,N.width),de=window.innerWidth-Io,ke=D_(H,[Io,Math.max(Io,de-me)]);a.style.minWidth=le+"px",a.style.right=ke+"px"}const F=d(),U=window.innerHeight-Io*2,$=v.scrollHeight,I=window.getComputedStyle(c),V=parseInt(I.borderTopWidth,10),j=parseInt(I.paddingTop,10),X=parseInt(I.borderBottomWidth,10),L=parseInt(I.paddingBottom,10),k=V+j+$+L+X,z=Math.min(y.offsetHeight*5,k),B=window.getComputedStyle(v),G=parseInt(B.paddingTop,10),Y=parseInt(B.paddingBottom,10),Z=C.top+C.height/2-Io,Q=U-Z,re=y.offsetHeight/2,J=y.offsetTop+re,ae=V+j+J,se=k-ae;if(ae<=Z){const ue=F.length>0&&y===F[F.length-1].ref.current;a.style.bottom="0px";const H=c.clientHeight-v.offsetTop-v.offsetHeight,he=Math.max(Q,re+(ue?Y:0)+H+X),le=ae+he;a.style.height=le+"px"}else{const ue=F.length>0&&y===F[0].ref.current;a.style.top="0px";const he=Math.max(Z,V+v.offsetTop+(ue?G:0)+re)+se;a.style.height=he+"px",v.scrollTop=ae-Z+v.offsetTop}a.style.margin=`${Io}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,s.trigger,s.valueNode,a,c,v,y,g,s.dir,r]);Ri(()=>w(),[w]);const[b,M]=T.useState();Ri(()=>{c&&M(window.getComputedStyle(c).zIndex)},[c]);const A=T.useCallback(C=>{C&&p.current===!0&&(w(),_==null||_(),p.current=!1)},[w,_]);return S.jsx(_de,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:A,children:S.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:S.jsx(Rt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});G9.displayName=xde;var wde="SelectPopperPosition",KC=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Io,...s}=t,o=_S(n);return S.jsx(EG,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KC.displayName=wde;var[_de,KI]=dm(id,{}),qC="SelectViewport",$9=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Su(qC,n),o=KI(qC,n),a=nn(e,s.onViewportChange),l=T.useRef(0);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),S.jsx(xS.Slot,{scope:n,children:S.jsx(Rt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:vt(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&f){const h=Math.abs(l.current-u.scrollTop);if(h>0){const p=window.innerHeight-Io*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),g=Math.max(v,y);if(g<p){const _=g+h,w=Math.min(p,_),b=_-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});$9.displayName=qC;var X9="SelectGroup",[bde,Sde]=dm(X9),Ede=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jc();return S.jsx(bde,{scope:n,id:i,children:S.jsx(Rt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Ede.displayName=X9;var Y9="SelectLabel",K9=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Sde(Y9,n);return S.jsx(Rt.div,{id:i.id,...r,ref:e})});K9.displayName=Y9;var L_="SelectItem",[Mde,q9]=dm(L_),Z9=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=bu(L_,n),l=Su(L_,n),c=a.value===r,[u,f]=T.useState(s??""),[d,h]=T.useState(!1),p=nn(e,_=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,_,r,i)}),v=Jc(),y=T.useRef("touch"),g=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return S.jsx(Mde,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:T.useCallback(_=>{f(w=>w||((_==null?void 0:_.textContent)??"").trim())},[]),children:S.jsx(xS.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:S.jsx(Rt.div,{role:"option","aria-labelledby":v,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:p,onFocus:vt(o.onFocus,()=>h(!0)),onBlur:vt(o.onBlur,()=>h(!1)),onClick:vt(o.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:vt(o.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:vt(o.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:vt(o.onPointerMove,_=>{var w;y.current=_.pointerType,i?(w=l.onItemLeave)==null||w.call(l):y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vt(o.onPointerLeave,_=>{var w;_.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:vt(o.onKeyDown,_=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&_.key===" "||(fde.includes(_.key)&&g(),_.key===" "&&_.preventDefault())})})})})});Z9.displayName=L_;var jg="SelectItemText",Q9=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=bu(jg,n),a=Su(jg,n),l=q9(jg,n),c=mde(jg,n),[u,f]=T.useState(null),d=nn(e,g=>f(g),l.onItemTextChange,g=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,g,l.value,l.disabled)}),h=u==null?void 0:u.textContent,p=T.useMemo(()=>S.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=c;return Ri(()=>(v(p),()=>y(p)),[v,y,p]),S.jsxs(S.Fragment,{children:[S.jsx(Rt.span,{id:l.textId,...s,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$l.createPortal(s.children,o.valueNode):null]})});Q9.displayName=jg;var J9="SelectItemIndicator",e$=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return q9(J9,n).isSelected?S.jsx(Rt.span,{"aria-hidden":!0,...r,ref:e}):null});e$.displayName=J9;var ZC="SelectScrollUpButton",t$=T.forwardRef((t,e)=>{const n=Su(ZC,t.__scopeSelect),r=KI(ZC,t.__scopeSelect),[i,s]=T.useState(!1),o=nn(e,r.onScrollButtonChange);return Ri(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?S.jsx(r$,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});t$.displayName=ZC;var QC="SelectScrollDownButton",n$=T.forwardRef((t,e)=>{const n=Su(QC,t.__scopeSelect),r=KI(QC,t.__scopeSelect),[i,s]=T.useState(!1),o=nn(e,r.onScrollButtonChange);return Ri(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?S.jsx(r$,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});n$.displayName=QC;var r$=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Su("SelectScrollButton",n),o=T.useRef(null),a=wS(n),l=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),Ri(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),S.jsx(Rt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:vt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:vt(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:vt(i.onPointerLeave,()=>{l()})})}),Tde="SelectSeparator",i$=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return S.jsx(Rt.div,{"aria-hidden":!0,...r,ref:e})});i$.displayName=Tde;var JC="SelectArrow",Ade=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_S(n),s=bu(JC,n),o=Su(JC,n);return s.open&&o.position==="popper"?S.jsx(MG,{...i,...r,ref:e}):null});Ade.displayName=JC;function s$(t){return t===""||t===void 0}var o$=T.forwardRef((t,e)=>{const{value:n,...r}=t,i=T.useRef(null),s=nn(e,i),o=zI(n);return T.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[o,n]),S.jsx(H0,{asChild:!0,children:S.jsx("select",{...r,ref:s,defaultValue:n})})});o$.displayName="BubbleSelect";function a$(t){const e=ms(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function l$(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Cde(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Cde(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Pde=O9,c$=U9,Rde=B9,Nde=z9,Ide=j9,u$=V9,Dde=$9,f$=K9,d$=Z9,Lde=Q9,Ode=e$,h$=t$,p$=n$,m$=i$;const i4=Pde,s4=Rde,eP=T.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(c$,{ref:r,className:Yt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,S.jsx(Nde,{asChild:!0,children:S.jsx(__,{className:"h-4 w-4 opacity-50"})})]}));eP.displayName=c$.displayName;const g$=T.forwardRef(({className:t,...e},n)=>S.jsx(h$,{ref:n,className:Yt("flex cursor-default items-center justify-center py-1",t),...e,children:S.jsx(LC,{className:"h-4 w-4"})}));g$.displayName=h$.displayName;const v$=T.forwardRef(({className:t,...e},n)=>S.jsx(p$,{ref:n,className:Yt("flex cursor-default items-center justify-center py-1",t),...e,children:S.jsx(__,{className:"h-4 w-4"})}));v$.displayName=p$.displayName;const tP=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>S.jsx(Ide,{children:S.jsxs(u$,{ref:i,className:Yt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[S.jsx(g$,{}),S.jsx(Dde,{className:Yt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),S.jsx(v$,{})]})}));tP.displayName=u$.displayName;const kde=T.forwardRef(({className:t,...e},n)=>S.jsx(f$,{ref:n,className:Yt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));kde.displayName=f$.displayName;const Ah=T.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(d$,{ref:r,className:Yt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(Ode,{children:S.jsx(yoe,{className:"h-4 w-4"})})}),S.jsx(Lde,{children:e})]}));Ah.displayName=d$.displayName;const Ude=T.forwardRef(({className:t,...e},n)=>S.jsx(m$,{ref:n,className:Yt("-mx-1 my-1 h-px bg-muted",t),...e}));Ude.displayName=m$.displayName;const y$=()=>{const[t,e]=T.useState({portfolioValue:!0,transactions:!1,investments:!0,performance:!1}),[n]=T.useState([{id:1,name:"Alex Chen",portfolioValue:85e3,performance:"+8.4%",lastTransfer:"2024-01-15",transferAmount:1e4,riskScore:"Conservative"},{id:2,name:"Emma Chen",portfolioValue:12e4,performance:"+12.1%",lastTransfer:"2024-01-20",transferAmount:15e3,riskScore:"Moderate"},{id:3,name:"David Chen",portfolioValue:67e3,performance:"+5.2%",lastTransfer:"2024-01-10",transferAmount:8e3,riskScore:"Aggressive"}]),[r,i]=T.useState({heirId:"",amount:"",frequency:"monthly"});return S.jsxs("div",{className:"space-y-6 p-6",children:[S.jsxs(ar,{className:"border-parent/30 bg-parent/20 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsxs(_r,{className:"flex items-center gap-2 text-parent",children:[S.jsx(poe,{className:"w-5 h-5"}),"Secure Inheritance Transfer"]})}),S.jsxs(lr,{className:"space-y-4",children:[S.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up regular transfers based on heir performance. Keep wealth within the BOCHK platform."}),S.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-parent",children:"Select Heir"}),S.jsxs(i4,{value:r.heirId,onValueChange:s=>i(o=>({...o,heirId:s})),children:[S.jsx(eP,{className:"border-parent/40",children:S.jsx(s4,{placeholder:"Choose heir"})}),S.jsx(tP,{children:n.map(s=>S.jsx(Ah,{value:s.id.toString(),children:s.name},s.id))})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-parent",children:"Transfer Amount"}),S.jsx(Vv,{placeholder:"Enter amount",value:r.amount,onChange:s=>i(o=>({...o,amount:s.target.value})),className:"border-parent/40"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-parent",children:"Frequency"}),S.jsxs(i4,{value:r.frequency,onValueChange:s=>i(o=>({...o,frequency:s})),children:[S.jsx(eP,{className:"border-parent/40",children:S.jsx(s4,{})}),S.jsxs(tP,{children:[S.jsx(Ah,{value:"weekly",children:"Weekly"}),S.jsx(Ah,{value:"monthly",children:"Monthly"}),S.jsx(Ah,{value:"quarterly",children:"Quarterly"}),S.jsx(Ah,{value:"annually",children:"Annually"})]})]})]})]}),S.jsxs("div",{className:"space-y-2 pt-4",children:[S.jsxs(Hr,{className:"flex items-center gap-2 bg-parent hover:bg-parent/80 w-full",children:[S.jsx(WW,{className:"w-4 h-4"}),"Schedule Transfer"]}),S.jsxs(Hr,{variant:"outline",className:"border-parent/40 text-parent hover:bg-parent/10 w-full",children:[S.jsx(w_,{className:"w-4 h-4 mr-2"}),"View Transfer History"]})]})]})]}),S.jsxs(ar,{className:"border-parent/30 bg-gradient-to-br from-parent/20 to-parent/10 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsxs(_r,{className:"flex items-center gap-2 text-parent",children:[S.jsx(aS,{className:"w-5 h-5"}),"Heir Investment Performance"]})}),S.jsx(lr,{children:S.jsx("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:n.map(s=>S.jsx(ar,{className:"bg-gradient-to-br from-white/90 to-white/70 border border-parent/40 hover:shadow-xl hover:shadow-parent/20 hover:scale-[1.02] transition-all duration-300",children:S.jsxs(lr,{className:"p-6",children:[S.jsx("div",{className:"flex items-start justify-between mb-5",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-parent to-parent-glow flex items-center justify-center text-white font-bold text-sm shadow-lg",children:s.name.split(" ").map(o=>o[0]).join("")}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:s.name}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:`w-2 h-2 rounded-full ${s.riskScore==="Conservative"?"bg-emerald-500":s.riskScore==="Moderate"?"bg-amber-500":"bg-rose-500"}`}),S.jsx("span",{className:"text-sm font-medium text-slate-600",children:s.riskScore})]})]})]})}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 rounded-xl bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200",children:[S.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Portfolio Value"}),S.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["$",s.portfolioValue.toLocaleString()]})]}),S.jsxs("div",{className:"flex justify-between items-center p-4 rounded-xl bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200",children:[S.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"YTD Performance"}),S.jsxs("span",{className:`text-lg font-bold flex items-center gap-1 ${s.performance.startsWith("+")?"text-emerald-600":"text-rose-600"}`,children:[S.jsx(td,{className:"w-4 h-4"}),s.performance]})]}),S.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Last Transfer"}),S.jsxs("span",{className:"text-lg font-bold text-parent",children:["$",s.transferAmount.toLocaleString()]})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Transfer Date"}),S.jsx("span",{className:"text-sm font-semibold text-slate-800",children:s.lastTransfer})]})]})]})]})},s.id))})})]}),S.jsxs(ar,{className:"border-parent/30 bg-parent/40 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsxs(_r,{className:"flex items-center gap-2 text-parent",children:[S.jsx(GW,{className:"w-5 h-5"}),"Generational Access Control"]})}),S.jsxs(lr,{className:"space-y-4",children:[S.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Control what your heirs can see and modify. Ensure privacy while preparing for inheritance."}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(t).map(([s,o])=>S.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/40 border border-parent/30 min-h-[60px]",children:[S.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o?S.jsx(Toe,{className:"w-4 h-4 text-parent flex-shrink-0"}):S.jsx(Moe,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),S.jsx("span",{className:"text-sm font-medium capitalize",children:s.replace(/([A-Z])/g," $1")})]}),S.jsx(VI,{checked:o,onCheckedChange:a=>e(l=>({...l,[s]:a})),className:"flex-shrink-0"})]},s))})]})]}),S.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[S.jsxs(ar,{className:"border-parent/30 bg-parent/20 backdrop-blur-md",children:[S.jsx(wr,{className:"pb-2",children:S.jsx(_r,{className:"text-sm text-muted-foreground",children:"Total Assets"})}),S.jsxs(lr,{children:[S.jsx("div",{className:"text-2xl font-bold text-parent",children:"$2.4M"}),S.jsxs("div",{className:"text-xs text-green-400 flex items-center gap-1",children:[S.jsx(td,{className:"w-3 h-3"}),"+12.3% YTD"]})]})]}),S.jsxs(ar,{className:"border-parent/30 bg-parent/20 backdrop-blur-md",children:[S.jsx(wr,{className:"pb-2",children:S.jsx(_r,{className:"text-sm text-muted-foreground",children:"Protected Assets"})}),S.jsxs(lr,{children:[S.jsx("div",{className:"text-2xl font-bold text-parent",children:"$1.8M"}),S.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[S.jsx(Poe,{className:"w-3 h-3"}),"75% of portfolio"]})]})]}),S.jsxs(ar,{className:"border-parent/30 bg-parent/20 backdrop-blur-md",children:[S.jsx(wr,{className:"pb-2",children:S.jsx(_r,{className:"text-sm text-muted-foreground",children:"Authorized Viewers"})}),S.jsxs(lr,{children:[S.jsx("div",{className:"text-2xl font-bold text-parent",children:"3"}),S.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[S.jsx(SI,{className:"w-3 h-3"}),"Active heirs"]})]})]})]}),S.jsxs(ar,{className:"border-parent/30 bg-parent/20 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsx(_r,{className:"text-parent",children:"Quick Actions"})}),S.jsxs(lr,{className:"grid md:grid-cols-2 gap-3",children:[S.jsx(Hr,{variant:"outline",className:"border-parent/40 text-parent hover:bg-parent/10",children:"Modify Access Permissions"}),S.jsx(Hr,{variant:"outline",className:"border-parent/40 text-parent hover:bg-parent/10",children:"View Heir Activity"}),S.jsx(Hr,{variant:"outline",className:"border-parent/40 text-parent hover:bg-parent/10",children:"Estate Planning Tools"}),S.jsx(Hr,{variant:"outline",className:"border-parent/40 text-parent hover:bg-parent/10",children:"Generate Reports"})]})]})]})},Fde=bI("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Of({className:t,variant:e,...n}){return S.jsx("div",{className:Yt(Fde({variant:e}),t),...n})}const x$=()=>{const t=[{client:"John Chen",sentiment:"Positive",intent:"Investment Inquiry",confidence:92},{client:"Maria Wong",sentiment:"Concerned",intent:"Risk Assessment",confidence:87},{client:"David Liu",sentiment:"Neutral",intent:"Portfolio Review",confidence:94}],e=["Suggest ESG investment options for environmentally conscious clients","Recommend high-yield bonds for risk-averse portfolio","Propose tech stock diversification for growth-oriented clients"],n=[{client:"Sarah Thompson",status:"pending",task:"Income verification",priority:"high"},{client:"Robert Kim",status:"completed",task:"AML screening",priority:"medium"},{client:"Lisa Zhang",status:"in-progress",task:"Source of funds",priority:"high"}],r=[{client:"John Chen",time:"10:00 AM",type:"Portfolio Review",duration:"45 min"},{client:"Maria Wong",time:"2:30 PM",type:"Risk Assessment",duration:"30 min"},{client:"David Liu",time:"4:00 PM",type:"Investment Planning",duration:"60 min"}];return S.jsxs("div",{className:"space-y-6 p-6",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("h2",{className:"text-2xl font-bold text-rm mb-2",children:"Relation Manager Dashboard"}),S.jsx("p",{className:"text-muted-foreground",children:"AI-Powered advisor tools and customer insights"})]}),S.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[S.jsxs(ar,{className:"border-rm/30 bg-rm/40 backdrop-blur-md",children:[S.jsx(wr,{className:"pb-2",children:S.jsxs(_r,{className:"text-sm text-muted-foreground flex items-center gap-2",children:[S.jsx(moe,{className:"w-4 h-4 text-rm"}),"Intent Analysis"]})}),S.jsxs(lr,{children:[S.jsx("div",{className:"text-2xl font-bold text-rm",children:"94%"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Accuracy Rate"})]})]}),S.jsxs(ar,{className:"border-rm/30 bg-rm/40 backdrop-blur-md",children:[S.jsx(wr,{className:"pb-2",children:S.jsxs(_r,{className:"text-sm text-muted-foreground flex items-center gap-2",children:[S.jsx(Noe,{className:"w-4 h-4 text-rm"}),"Conversations"]})}),S.jsxs(lr,{children:[S.jsx("div",{className:"text-2xl font-bold text-rm",children:"127"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"This week"})]})]}),S.jsxs(ar,{className:"border-rm/30 bg-rm/40 backdrop-blur-md",children:[S.jsx(wr,{className:"pb-2",children:S.jsxs(_r,{className:"text-sm text-muted-foreground flex items-center gap-2",children:[S.jsx(Ioe,{className:"w-4 h-4 text-rm"}),"Transcriptions"]})}),S.jsxs(lr,{children:[S.jsx("div",{className:"text-2xl font-bold text-rm",children:"89"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Calls analyzed"})]})]}),S.jsxs(ar,{className:"border-rm/30 bg-rm/40 backdrop-blur-md",children:[S.jsx(wr,{className:"pb-2",children:S.jsxs(_r,{className:"text-sm text-muted-foreground flex items-center gap-2",children:[S.jsx($W,{className:"w-4 h-4 text-rm"}),"Success Rate"]})}),S.jsxs(lr,{children:[S.jsx("div",{className:"text-2xl font-bold text-rm",children:"87%"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Client satisfaction"})]})]})]}),S.jsxs(ar,{className:"border-rm/30 bg-rm/20 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsxs(_r,{className:"text-rm flex items-center gap-2",children:[S.jsx(SI,{className:"w-5 h-5"}),"Recent Customer Analysis"]})}),S.jsx(lr,{children:S.jsx("div",{className:"space-y-3",children:t.map((i,s)=>S.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-glass border border-glass-border",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"font-medium",children:i.client}),S.jsx(Of,{variant:i.sentiment==="Positive"?"default":i.sentiment==="Concerned"?"destructive":"secondary",children:i.sentiment})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-sm font-medium",children:i.intent}),S.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.confidence,"% confidence"]})]})]},s))})})]}),S.jsxs(ar,{className:"border-rm/30 bg-rm/20 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsxs(_r,{className:"text-rm flex items-center gap-2",children:[S.jsx(Aoe,{className:"w-5 h-5"}),"RAG-Powered Recommendations"]})}),S.jsx(lr,{children:S.jsx("div",{className:"space-y-3",children:e.map((i,s)=>S.jsx("div",{className:"p-3 rounded-lg bg-rm/10 border border-rm/20",children:S.jsx("div",{className:"text-sm",children:i})},s))})})]}),S.jsxs(ar,{className:"border-rm/30 bg-rm/20 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsx(_r,{className:"text-rm",children:"Latest Client Briefings"})}),S.jsxs(lr,{className:"space-y-4",children:[S.jsxs("div",{className:"p-4 rounded-lg bg-glass border border-glass-border",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("div",{className:"font-medium",children:"John Chen - Portfolio Discussion"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]}),S.jsx("div",{className:"text-sm text-muted-foreground",children:"Client expressed interest in sustainable investing. Discussed ESG options and environmental impact considerations."})]}),S.jsxs("div",{className:"p-4 rounded-lg bg-glass border border-glass-border",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("div",{className:"font-medium",children:"Maria Wong - Risk Assessment"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"5 hours ago"})]}),S.jsx("div",{className:"text-sm text-muted-foreground",children:"Client concerned about market volatility. Recommend conservative approach with balanced portfolio allocation."})]})]})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S.jsxs(ar,{className:"border-rm/30 bg-rm/20 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsxs(_r,{className:"text-rm flex items-center gap-2",children:[S.jsx(GW,{className:"w-5 h-5"}),"Compliance & KYC Agent"]})}),S.jsxs(lr,{className:"space-y-4",children:[S.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:"AI-powered compliance monitoring and KYC automation for wealth management"}),S.jsx("div",{className:"space-y-3",children:n.map((i,s)=>S.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-glass border border-glass-border",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"font-medium text-sm",children:i.client}),S.jsx(Of,{variant:i.status==="completed"?"default":i.status==="pending"?"destructive":"secondary",children:i.status})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-sm",children:i.task}),S.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[i.priority," priority"]})]})]},s))}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Vv,{placeholder:"Ask compliance & KYC questions",className:"bg-glass border-rm/20"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(Hr,{variant:"outline",size:"sm",className:"border-rm/30 text-rm hover:bg-rm/10",children:"Run KYC Check"}),S.jsx(Hr,{variant:"outline",size:"sm",className:"border-rm/30 text-rm hover:bg-rm/10",children:"Generate Report"})]})]})]})]}),S.jsxs(ar,{className:"border-scheduler/30 bg-scheduler/20 backdrop-blur-md",children:[S.jsx(wr,{children:S.jsxs(_r,{className:"text-scheduler flex items-center gap-2",children:[S.jsx(w_,{className:"w-5 h-5"}),"Task Scheduling Agent"]})}),S.jsxs(lr,{className:"space-y-4",children:[S.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:"AI assistant for optimal meeting scheduling and time management"}),S.jsx("div",{className:"space-y-3",children:S.jsxs("div",{className:"p-3 rounded-lg bg-glass border border-glass-border",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(HW,{className:"w-4 h-4 text-scheduler"}),S.jsx("span",{className:"font-medium text-sm",children:"Today's Schedule"})]}),S.jsx("div",{className:"space-y-2",children:r.map((i,s)=>S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsxs("div",{children:[S.jsx("span",{className:"font-medium",children:i.time})," - ",i.client]}),S.jsxs("div",{className:"text-muted-foreground",children:[i.type," (",i.duration,")"]})]},s))})]})}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Vv,{placeholder:"Schedule your task",className:"bg-glass border-scheduler/20"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(Hr,{variant:"outline",size:"sm",className:"border-scheduler/30 text-scheduler hover:bg-scheduler/10",children:[S.jsx(w_,{className:"w-4 h-4 mr-1"}),"Smart Schedule"]}),S.jsxs(Hr,{variant:"outline",size:"sm",className:"border-scheduler/30 text-scheduler hover:bg-scheduler/10",children:[S.jsx(_oe,{className:"w-4 h-4 mr-1"}),"Optimize Day"]})]})]})]})]})]})]})};var bS={},w$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(w$);var qI={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(qI);var ZI={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(ZI);var SS={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,o="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const c=n[s];a?c==="\\"&&s+1<i?(s++,o+=n[s]):c===a?a="":o+=c:l?c==='"'||c==="'"?a=c:c==="]"?(l=!1,r.push(o),o=""):o+=c:c==="["?(l=!0,o&&(r.push(o),o="")):c==="."?o&&(r.push(o),o=""):o+=c,s++}return o&&r.push(o),r}t.toPath=e})(SS);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w$,n=qI,r=ZI,i=SS;function s(a,l,c){if(a==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=a[l];return u===void 0?n.isDeepKey(l)?s(a,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=a[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(a,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=a[l];return u===void 0?c:u}}}function o(a,l,c){if(l.length===0)return c;let u=a;for(let f=0;f<l.length;f++){if(u==null||e.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}t.get=s})(bS);var Bde=bS.get;const Op=_o(Bde);var _$={exports:{}},gn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QI=Symbol.for("react.transitional.element"),JI=Symbol.for("react.portal"),ES=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),TS=Symbol.for("react.profiler"),AS=Symbol.for("react.consumer"),CS=Symbol.for("react.context"),PS=Symbol.for("react.forward_ref"),RS=Symbol.for("react.suspense"),NS=Symbol.for("react.suspense_list"),IS=Symbol.for("react.memo"),DS=Symbol.for("react.lazy"),zde=Symbol.for("react.view_transition"),jde=Symbol.for("react.client.reference");function bo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case QI:switch(t=t.type,t){case ES:case TS:case MS:case RS:case NS:case zde:return t;default:switch(t=t&&t.$$typeof,t){case CS:case PS:case DS:case IS:return t;case AS:return t;default:return e}}case JI:return e}}}gn.ContextConsumer=AS;gn.ContextProvider=CS;gn.Element=QI;gn.ForwardRef=PS;gn.Fragment=ES;gn.Lazy=DS;gn.Memo=IS;gn.Portal=JI;gn.Profiler=TS;gn.StrictMode=MS;gn.Suspense=RS;gn.SuspenseList=NS;gn.isContextConsumer=function(t){return bo(t)===AS};gn.isContextProvider=function(t){return bo(t)===CS};gn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===QI};gn.isForwardRef=function(t){return bo(t)===PS};gn.isFragment=function(t){return bo(t)===ES};gn.isLazy=function(t){return bo(t)===DS};gn.isMemo=function(t){return bo(t)===IS};gn.isPortal=function(t){return bo(t)===JI};gn.isProfiler=function(t){return bo(t)===TS};gn.isStrictMode=function(t){return bo(t)===MS};gn.isSuspense=function(t){return bo(t)===RS};gn.isSuspenseList=function(t){return bo(t)===NS};gn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ES||t===TS||t===MS||t===RS||t===NS||typeof t=="object"&&t!==null&&(t.$$typeof===DS||t.$$typeof===IS||t.$$typeof===CS||t.$$typeof===AS||t.$$typeof===PS||t.$$typeof===jde||t.getModuleId!==void 0)};gn.typeOf=bo;_$.exports=gn;var Vde=_$.exports,Os=t=>t===0?0:t>0?1:-1,ta=t=>typeof t=="number"&&t!=+t,Vg=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Xt=t=>(typeof t=="number"||t instanceof Number)&&!ta(t),Ll=t=>Xt(t)||typeof t=="string",Hde=0,O_=t=>{var e=++Hde;return"".concat(t||"").concat(e)},Pa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xt(e)&&typeof e!="string")return r;var s;if(Vg(e)){if(n==null)return r;var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return ta(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},b$=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},o4=(t,e)=>Xt(t)&&Xt(e)?n=>t+n*(e-t):()=>e;function Wde(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Op(r,e))===n)}var sd=t=>t===null||typeof t>"u",X0=t=>sd(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Gde=["viewBox","children"],$de=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a4=["points","pathLength"],$T={svg:Gde,polygon:a4,polyline:a4},eD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xde=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{eD.includes(i)&&(r[i]=s=>n[i](n,s))}),r},Yde=(t,e,n)=>r=>(t(e,n,r),null),S$=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];eD.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=Yde(s,e,n))}),r},l4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",c4=null,XT=null,E$=t=>{if(t===c4&&Array.isArray(XT))return XT;var e=[];return T.Children.forEach(t,n=>{sd(n)||(Vde.isFragment(n)?e=e.concat(E$(n.props.children)):e.push(n))}),XT=e,c4=t,e};function M$(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>l4(i)):r=[l4(e)],E$(t).forEach(i=>{var s=Op(i,"type.displayName")||Op(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var Kde=(t,e,n,r)=>{var i,s=(i=r&&($T==null?void 0:$T[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||$de.includes(e))||n&&eD.includes(e)},$r=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var o;Kde((o=r)===null||o===void 0?void 0:o[s],s,e,n)&&(i[s]=r[s])}),i},qde=["children","width","height","viewBox","className","style","title","desc"];function nP(){return nP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nP.apply(null,arguments)}function Zde(t,e){if(t==null)return{};var n,r,i=Qde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tD=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:a,title:l,desc:c}=t,u=Zde(t,qde),f=s||{width:r,height:i,x:0,y:0},d=dr("recharts-surface",o);return T.createElement("svg",nP({},$r(u,!0,"svg"),{className:d,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),T.createElement("title",null,l),T.createElement("desc",null,c),n)}),Jde=["children","className"];function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rP.apply(null,arguments)}function ehe(t,e){if(t==null)return{};var n,r,i=the(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function the(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kp=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=ehe(t,Jde),s=dr("recharts-layer",r);return T.createElement("g",rP({className:s},$r(i,!0),{ref:e}),n)}),T$=T.createContext(null),nhe=()=>T.useContext(T$);function wn(t){return function(){return t}}const A$=Math.cos,k_=Math.sin,oa=Math.sqrt,U_=Math.PI,LS=2*U_,iP=Math.PI,sP=2*iP,af=1e-6,rhe=sP-af;function C$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ihe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return C$;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let she=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?C$:ihe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,u=o-e,f=a-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>af)if(!(Math.abs(f*l-c*u)>af)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-o,p=i-a,v=l*l+c*c,y=h*h+p*p,g=Math.sqrt(v),_=Math.sqrt(d),w=s*Math.tan((iP-Math.acos((v+d-y)/(2*g*_)))/2),b=w/_,M=w/g;Math.abs(b-1)>af&&this._append`L${e+b*u},${n+b*f}`,this._append`A${s},${s},0,0,${+(f*h>u*p)},${this._x1=e+M*l},${this._y1=n+M*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>af||Math.abs(this._y1-u)>af)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%sP+sP),d>rhe?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>af&&this._append`A${r},${r},0,${+(d>=iP)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function nD(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new she(e)}function rD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function P$(t){this._context=t}P$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function OS(t){return new P$(t)}function R$(t){return t[0]}function N$(t){return t[1]}function I$(t,e){var n=wn(!0),r=null,i=OS,s=null,o=nD(a);t=typeof t=="function"?t:t===void 0?R$:wn(t),e=typeof e=="function"?e:e===void 0?N$:wn(e);function a(l){var c,u=(l=rD(l)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(f,c,l),+e(f,c,l));if(h)return s=null,h+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:wn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:wn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:wn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function Wx(t,e,n){var r=null,i=wn(!0),s=null,o=OS,a=null,l=nD(c);t=typeof t=="function"?t:t===void 0?R$:wn(+t),e=typeof e=="function"?e:wn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?N$:wn(+n);function c(f){var d,h,p,v=(f=rD(f)).length,y,g=!1,_,w=new Array(v),b=new Array(v);for(s==null&&(a=o(_=l())),d=0;d<=v;++d){if(!(d<v&&i(y=f[d],d,f))===g)if(g=!g)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(w[p],b[p]);a.lineEnd(),a.areaEnd()}g&&(w[d]=+t(y,d,f),b[d]=+e(y,d,f),a.point(r?+r(y,d,f):w[d],n?+n(y,d,f):b[d]))}if(_)return a=null,_+""||null}function u(){return I$().defined(i).curve(o).context(s)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:wn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:wn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:wn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:wn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:wn(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),c):o},c.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),c):s},c}class D${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ohe(t){return new D$(t,!0)}function ahe(t){return new D$(t,!1)}const iD={draw(t,e){const n=oa(e/U_);t.moveTo(n,0),t.arc(0,0,n,0,LS)}},lhe={draw(t,e){const n=oa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},L$=oa(1/3),che=L$*2,uhe={draw(t,e){const n=oa(e/che),r=n*L$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},fhe={draw(t,e){const n=oa(e),r=-n/2;t.rect(r,r,n,n)}},dhe=.8908130915292852,O$=k_(U_/10)/k_(7*U_/10),hhe=k_(LS/10)*O$,phe=-A$(LS/10)*O$,mhe={draw(t,e){const n=oa(e*dhe),r=hhe*n,i=phe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=LS*s/5,a=A$(o),l=k_(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},YT=oa(3),ghe={draw(t,e){const n=-oa(e/(YT*3));t.moveTo(0,n*2),t.lineTo(-YT*n,-n),t.lineTo(YT*n,-n),t.closePath()}},to=-.5,no=oa(3)/2,oP=1/oa(12),vhe=(oP/2+1)*3,yhe={draw(t,e){const n=oa(e/vhe),r=n/2,i=n*oP,s=r,o=n*oP+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(to*r-no*i,no*r+to*i),t.lineTo(to*s-no*o,no*s+to*o),t.lineTo(to*a-no*l,no*a+to*l),t.lineTo(to*r+no*i,to*i-no*r),t.lineTo(to*s+no*o,to*o-no*s),t.lineTo(to*a+no*l,to*l-no*a),t.closePath()}};function xhe(t,e){let n=null,r=nD(i);t=typeof t=="function"?t:wn(t||iD),e=typeof e=="function"?e:wn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:wn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:wn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function F_(){}function B_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function k$(t){this._context=t}k$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:B_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:B_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function whe(t){return new k$(t)}function U$(t){this._context=t}U$.prototype={areaStart:F_,areaEnd:F_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:B_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _he(t){return new U$(t)}function F$(t){this._context=t}F$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:B_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bhe(t){return new F$(t)}function B$(t){this._context=t}B$.prototype={areaStart:F_,areaEnd:F_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function She(t){return new B$(t)}function u4(t){return t<0?-1:1}function f4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(u4(s)+u4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function d4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function KT(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function z_(t){this._context=t}z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:KT(this,this._t0,d4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,KT(this,d4(this,n=f4(this,t,e)),n);break;default:KT(this,this._t0,n=f4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function z$(t){this._context=new j$(t)}(z$.prototype=Object.create(z_.prototype)).point=function(t,e){z_.prototype.point.call(this,e,t)};function j$(t){this._context=t}j$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Ehe(t){return new z_(t)}function Mhe(t){return new z$(t)}function V$(t){this._context=t}V$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=h4(t),i=h4(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function h4(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function The(t){return new V$(t)}function kS(t,e){this._context=t,this._t=e}kS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Ahe(t){return new kS(t,.5)}function Che(t){return new kS(t,0)}function Phe(t){return new kS(t,1)}function Up(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function aP(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Rhe(t,e){return t[e]}function Nhe(t){const e=[];return e.key=t,e}function Ihe(){var t=wn([]),e=aP,n=Up,r=Rhe;function i(s){var o=Array.from(t.apply(this,arguments),Nhe),a,l=o.length,c=-1,u;for(const f of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(f,o[a].key,c,s)]).data=f;for(a=0,u=rD(e(o));a<l;++a)o[u[a]].index=a;return n(o,u),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:wn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:wn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?aP:typeof s=="function"?s:wn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Up,i):n},i}function Dhe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Up(t,e)}}function Lhe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Up(t,e)}}function Ohe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var u=t[e[a]],f=u[r][1]||0,d=u[r-1][1]||0,h=(f-d)/2,p=0;p<a;++p){var v=t[e[p]],y=v[r][1]||0,g=v[r-1][1]||0;h+=y-g}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Up(t,e)}}var khe=["type","size","sizeType"];function lP(){return lP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lP.apply(null,arguments)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){Uhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uhe(t,e,n){return(e=Fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=Bhe(t,"string");return typeof e=="symbol"?e:e+""}function Bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zhe(t,e){if(t==null)return{};var n,r,i=jhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var H$={symbolCircle:iD,symbolCross:lhe,symbolDiamond:uhe,symbolSquare:fhe,symbolStar:mhe,symbolTriangle:ghe,symbolWye:yhe},Vhe=Math.PI/180,Hhe=t=>{var e="symbol".concat(X0(t));return H$[e]||iD},Whe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Vhe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ghe=(t,e)=>{H$["symbol".concat(X0(t))]=e},sD=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=zhe(t,khe),s=m4(m4({},i),{},{type:e,size:n,sizeType:r}),o=()=>{var f=Hhe(e),d=xhe().type(f).size(Whe(n,r,e));return d()},{className:a,cx:l,cy:c}=s,u=$r(s,!0);return l===+l&&c===+c&&n===+n?T.createElement("path",lP({},u,{className:dr("recharts-symbols",a),transform:"translate(".concat(l,", ").concat(c,")"),d:o()})):null};sD.registerSymbol=Ghe;function cP(){return cP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cP.apply(null,arguments)}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){oD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oD(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Yhe(t,"string");return typeof e=="symbol"?e:e+""}function Yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ro=32;class aD extends T.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=ro/2,s=ro/6,o=ro/3,a=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ro,y2:i,className:"recharts-legend-icon"});if(l==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ro,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return T.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(ro/8,"h").concat(ro,"v").concat(ro*3/4,"h").concat(-ro,"z"),className:"recharts-legend-icon"});if(T.isValidElement(e.legendIcon)){var c=$he({},e);return delete c.legendIcon,T.cloneElement(e.legendIcon,c)}return T.createElement(sD,{fill:a,cx:i,cy:i,size:ro,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:o}=this.props,a={x:0,y:0,width:ro,height:ro},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,f)=>{var d=u.formatter||i,h=dr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?s:u.color,v=d?d(u.value,u,f):u.value;return T.createElement("li",cP({className:h,style:l,key:"legend-item-".concat(f)},S$(this.props,u,f)),T.createElement(tD,{width:n,height:n,viewBox:a,style:c,"aria-label":"".concat(v," legend icon")},this.renderIcon(u,o)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},v))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}oD(aD,"displayName","Legend");oD(aD,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var W$={},G$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],a=r(o);i.has(a)||i.set(a,o)}return Array.from(i.values())}t.uniqBy=e})(G$);var lD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(lD);var $$={},cD={},X$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(X$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X$;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(cD);var Y$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Y$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cD,n=Y$;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})($$);var K$={},q$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bS;function n(r){return function(i){return e.get(i,r)}}t.property=n})(q$);var Z$={},qT={},ZT={},uD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(uD);var fD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(fD);var US={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(US);var v4;function Khe(){return v4||(v4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dD(),n=uD,r=fD,i=US;function s(f,d,h){return typeof h!="function"?e.isMatch(f,d):o(f,d,function p(v,y,g,_,w,b){const M=h(v,y,g,_,w,b);return M!==void 0?!!M:o(v,y,p,b)},new Map)}function o(f,d,h,p){if(d===f)return!0;switch(typeof d){case"object":return a(f,d,h,p);case"function":return Object.keys(d).length>0?o(f,{...d},h,p):i.eq(f,d);default:return n.isObject(f)?typeof d=="string"?d==="":!0:i.eq(f,d)}}function a(f,d,h,p){if(d==null)return!0;if(Array.isArray(d))return c(f,d,h,p);if(d instanceof Map)return l(f,d,h,p);if(d instanceof Set)return u(f,d,h,p);const v=Object.keys(d);if(f==null)return v.length===0;if(v.length===0)return!0;if(p&&p.has(d))return p.get(d)===f;p&&p.set(d,f);try{for(let y=0;y<v.length;y++){const g=v[y];if(!r.isPrimitive(f)&&!(g in f)||d[g]===void 0&&f[g]!==void 0||d[g]===null&&f[g]!==null||!h(f[g],d[g],g,f,d,p))return!1}return!0}finally{p&&p.delete(d)}}function l(f,d,h,p){if(d.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,y]of d.entries()){const g=f.get(v);if(h(g,y,v,f,d,p)===!1)return!1}return!0}function c(f,d,h,p){if(d.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let y=0;y<d.length;y++){const g=d[y];let _=!1;for(let w=0;w<f.length;w++){if(v.has(w))continue;const b=f[w];let M=!1;if(h(b,g,y,f,d,p)&&(M=!0),M){v.add(w),_=!0;break}}if(!_)return!1}return!0}function u(f,d,h,p){return d.size===0?!0:f instanceof Set?c([...f],[...d],h,p):!1}t.isMatchWith=s,t.isSetMatch=u}(ZT)),ZT}var y4;function dD(){return y4||(y4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Khe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(qT)),qT}var Q$={},hD={},pD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(pD);var FS={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(FS);var BS={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",a="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",d="[object ArrayBuffer]",h="[object Object]",p="[object Error]",v="[object DataView]",y="[object Uint8Array]",g="[object Uint8ClampedArray]",_="[object Uint16Array]",w="[object Uint32Array]",b="[object BigUint64Array]",M="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",N="[object BigInt64Array]",R="[object Float32Array]",D="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=d,t.arrayTag=u,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=b,t.booleanTag=i,t.dataViewTag=v,t.dateTag=a,t.errorTag=p,t.float32ArrayTag=R,t.float64ArrayTag=D,t.functionTag=f,t.int16ArrayTag=A,t.int32ArrayTag=C,t.int8ArrayTag=M,t.mapTag=l,t.numberTag=r,t.objectTag=h,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=_,t.uint32ArrayTag=w,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=g})(BS);var J$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(J$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pD,n=FS,r=BS,i=fD,s=J$;function o(u,f){return a(u,void 0,u,new Map,f)}function a(u,f,d,h=new Map,p=void 0){const v=p==null?void 0:p(u,f,d,h);if(v!=null)return v;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const y=new Array(u.length);h.set(u,y);for(let g=0;g<u.length;g++)y[g]=a(u[g],g,d,h,p);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;h.set(u,y);for(const[g,_]of u)y.set(g,a(_,g,d,h,p));return y}if(u instanceof Set){const y=new Set;h.set(u,y);for(const g of u)y.add(a(g,void 0,d,h,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,y);for(let g=0;g<u.length;g++)y[g]=a(u[g],g,d,h,p);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,y),l(y,u,d,h,p),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return h.set(u,y),l(y,u,d,h,p),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return h.set(u,y),l(y,u,d,h,p),y}if(u instanceof Error){const y=new u.constructor;return h.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,l(y,u,d,h,p),y}if(typeof u=="object"&&c(u)){const y=Object.create(Object.getPrototypeOf(u));return h.set(u,y),l(y,u,d,h,p),y}return u}function l(u,f,d=u,h,p){const v=[...Object.keys(f),...e.getSymbols(f)];for(let y=0;y<v.length;y++){const g=v[y],_=Object.getOwnPropertyDescriptor(u,g);(_==null||_.writable)&&(u[g]=a(f[g],g,d,h,p))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=a,t.copyProperties=l})(hD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hD;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Q$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dD(),n=Q$;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Z$);var e7={},t7={},n7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hD,n=BS;function r(i,s){return e.cloneDeepWith(i,(o,a,l,c)=>{const u=s==null?void 0:s(o,a,l,c);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(n7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n7;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(t7);var r7={},mD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(mD);var i7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FS;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(i7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qI,n=mD,r=i7,i=SS;function s(o,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&e.isDeepKey(a)&&(o==null?void 0:o[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}t.has=s})(r7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dD(),n=ZI,r=t7,i=bS,s=r7;function o(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,a);return u===void 0?s.has(c,a):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=o})(e7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lD,n=q$,r=Z$,i=e7;function s(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=s})(K$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G$,n=lD,r=$$,i=K$;function s(o,a=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(a)):[]}t.uniqBy=s})(W$);var qhe=W$.uniqBy;const x4=_o(qhe);function s7(t,e,n){return e===!0?x4(t,n):typeof e=="function"?x4(t,e):t}var o7={exports:{}},a7={},l7={exports:{}},c7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=T;function Zhe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qhe=typeof Object.is=="function"?Object.is:Zhe,Jhe=Fp.useState,epe=Fp.useEffect,tpe=Fp.useLayoutEffect,npe=Fp.useDebugValue;function rpe(t,e){var n=e(),r=Jhe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return tpe(function(){i.value=n,i.getSnapshot=e,QT(i)&&s({inst:i})},[t,n,e]),epe(function(){return QT(i)&&s({inst:i}),t(function(){QT(i)&&s({inst:i})})},[t]),npe(n),n}function QT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qhe(t,n)}catch{return!0}}function ipe(t,e){return e()}var spe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ipe:rpe;c7.useSyncExternalStore=Fp.useSyncExternalStore!==void 0?Fp.useSyncExternalStore:spe;l7.exports=c7;var ope=l7.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS=T,ape=ope;function lpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cpe=typeof Object.is=="function"?Object.is:lpe,upe=ape.useSyncExternalStore,fpe=zS.useRef,dpe=zS.useEffect,hpe=zS.useMemo,ppe=zS.useDebugValue;a7.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=fpe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=hpe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,cpe(u,h))return p;var v=r(h);return i!==void 0&&i(p,v)?(u=h,p):(u=h,f=v)}var c=!1,u,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=upe(t,s[0],s[1]);return dpe(function(){o.hasValue=!0,o.value=a},[a]),ppe(a),a};o7.exports=a7;var u7=o7.exports;const mpe=_o(u7);var gD=T.createContext(null),gpe=t=>t,Xr=()=>{var t=T.useContext(gD);return t?t.store.dispatch:gpe},Rw=()=>{},vpe=()=>Rw,ype=(t,e)=>t===e;function Gt(t){var e=T.useContext(gD);return u7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:vpe,e?e.store.getState:Rw,e?e.store.getState:Rw,e?t:Rw,ype)}function xpe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function wpe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function _pe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var w4=t=>Array.isArray(t)?t:[t];function bpe(t){const e=Array.isArray(t[0])?t[0]:t;return _pe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Spe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Epe=class{constructor(t){this.value=t}deref(){return this.value}},Mpe=typeof WeakRef<"u"?WeakRef:Epe,Tpe=0,_4=1;function Gx(){return{s:Tpe,v:void 0,o:null,p:null}}function f7(t,e={}){let n=Gx();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var f;let a=n;const{length:l}=arguments;for(let d=0,h=l;d<h;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const y=v.get(p);y===void 0?(a=Gx(),v.set(p,a)):a=y}else{let v=a.p;v===null&&(a.p=v=new Map);const y=v.get(p);y===void 0?(a=Gx(),v.set(p,a)):a=y}}const c=a;let u;if(a.s===_4)u=a.v;else if(u=t.apply(null,arguments),s++,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,u)&&(u=d,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Mpe(u):u}return c.s=_4,c.v=u,u}return o.clearCache=()=>{n=Gx(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Ape(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),xpe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:d=[],argsMemoize:h=f7,argsMemoizeOptions:p=[],devModeChecks:v={}}=u,y=w4(d),g=w4(p),_=bpe(i),w=f(function(){return s++,c.apply(null,arguments)},...y),b=h(function(){o++;const A=Spe(_,arguments);return a=w.apply(null,A),a},...g);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var Le=Ape(f7),Cpe=Object.assign((t,e=Le)=>{wpe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>Cpe}),d7={},h7={},p7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=e(r),a=e(i);if(o===a&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-o:o-a}return 0};t.compareValues=n})(p7);var m7={},vD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(vD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vD,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}t.isKey=i})(m7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p7,n=m7,r=SS;function i(s,o,a,l){if(s==null)return[];a=l?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(h=>String(h));const c=(h,p)=>{let v=h;for(let y=0;y<p.length&&v!=null;++y)v=v[p[y]];return v},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:c(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?c(p,h):typeof p=="object"?p[h]:p,f=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||n.isKey(h)?h:{key:h,path:r.toPath(h)}));return s.map(h=>({original:h,criteria:f.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let v=0;v<f.length;v++){const y=e.compareValues(h.criteria[v],p.criteria[v],a[v]);if(y!==0)return y}return 0}).map(h=>h.original)}t.orderBy=i})(h7);var g7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),o=(a,l)=>{for(let c=0;c<a.length;c++){const u=a[c];Array.isArray(u)&&l<s?o(u,l+1):i.push(u)}};return o(n,0),i}t.flatten=e})(g7);var yD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mD,n=cD,r=uD,i=US;function s(o,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],o):!1}t.isIterateeCall=s})(yD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h7,n=g7,r=yD;function i(s,...o){const a=o.length;return a>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:a>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(s,n.flatten(o),["asc"])}t.sortBy=i})(d7);var Ppe=d7.sortBy;const jS=_o(Ppe);var v7=t=>t.legend.settings,Rpe=t=>t.legend.size,Npe=t=>t.legend.payload,Ipe=Le([Npe,v7],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?jS(r,n):r});function Dpe(){return Gt(Ipe)}var $x=1;function y7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-e.height)>$x||Math.abs(o.left-e.left)>$x||Math.abs(o.top-e.top)>$x||Math.abs(o.width-e.width)>$x)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ti(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Lpe=typeof Symbol=="function"&&Symbol.observable||"@@observable",b4=Lpe,JT=()=>Math.random().toString(36).substring(7).split("").join("."),Ope={INIT:`@@redux/INIT${JT()}`,REPLACE:`@@redux/REPLACE${JT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${JT()}`},j_=Ope;function xD(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function x7(t,e,n){if(typeof t!="function")throw new Error(ti(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ti(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ti(1));return n(x7)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((y,g)=>{o.set(g,y)}))}function u(){if(l)throw new Error(ti(3));return i}function f(y){if(typeof y!="function")throw new Error(ti(4));if(l)throw new Error(ti(5));let g=!0;c();const _=a++;return o.set(_,y),function(){if(g){if(l)throw new Error(ti(6));g=!1,c(),o.delete(_),s=null}}}function d(y){if(!xD(y))throw new Error(ti(7));if(typeof y.type>"u")throw new Error(ti(8));if(typeof y.type!="string")throw new Error(ti(17));if(l)throw new Error(ti(9));try{l=!0,i=r(i,y)}finally{l=!1}return(s=o).forEach(_=>{_()}),y}function h(y){if(typeof y!="function")throw new Error(ti(10));r=y,d({type:j_.REPLACE})}function p(){const y=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(ti(11));function _(){const b=g;b.next&&b.next(u())}return _(),{unsubscribe:y(_)}},[b4](){return this}}}return d({type:j_.INIT}),{dispatch:d,subscribe:f,getState:u,replaceReducer:h,[b4]:p}}function kpe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:j_.INIT})>"u")throw new Error(ti(12));if(typeof n(void 0,{type:j_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ti(13))})}function w7(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{kpe(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],d=n[f],h=o[f],p=d(h,a);if(typeof p>"u")throw a&&a.type,new Error(ti(14));c[f]=p,l=l||p!==h}return l=l||r.length!==Object.keys(o).length,l?c:o}}function V_(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Upe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ti(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=V_(...a)(i.dispatch),{...i,dispatch:s}}}function _7(t){return xD(t)&&"type"in t&&typeof t.type=="string"}var b7=Symbol.for("immer-nothing"),S4=Symbol.for("immer-draftable"),js=Symbol.for("immer-state");function Ho(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bp=Object.getPrototypeOf;function od(t){return!!t&&!!t[js]}function Ol(t){var e;return t?S7(t)||Array.isArray(t)||!!t[S4]||!!((e=t.constructor)!=null&&e[S4])||HS(t)||WS(t):!1}var Fpe=Object.prototype.constructor.toString();function S7(t){if(!t||typeof t!="object")return!1;const e=Bp(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Fpe}function H_(t,e){VS(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function VS(t){const e=t[js];return e?e.type_:Array.isArray(t)?1:HS(t)?2:WS(t)?3:0}function uP(t,e){return VS(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function E7(t,e,n){const r=VS(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Bpe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function HS(t){return t instanceof Map}function WS(t){return t instanceof Set}function lf(t){return t.copy_||t.base_}function fP(t,e){if(HS(t))return new Map(t);if(WS(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=S7(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[js];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Bp(t),r)}else{const r=Bp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function wD(t,e=!1){return GS(t)||od(t)||!Ol(t)||(VS(t)>1&&(t.set=t.add=t.clear=t.delete=zpe),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>wD(r,!0))),t}function zpe(){Ho(2)}function GS(t){return Object.isFrozen(t)}var jpe={};function ad(t){const e=jpe[t];return e||Ho(0,t),e}var Hv;function M7(){return Hv}function Vpe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function E4(t,e){e&&(ad("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function dP(t){hP(t),t.drafts_.forEach(Hpe),t.drafts_=null}function hP(t){t===Hv&&(Hv=t.parent_)}function M4(t){return Hv=Vpe(Hv,t)}function Hpe(t){const e=t[js];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function T4(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[js].modified_&&(dP(e),Ho(4)),Ol(t)&&(t=W_(e,t),e.parent_||G_(e,t)),e.patches_&&ad("Patches").generateReplacementPatches_(n[js].base_,t,e.patches_,e.inversePatches_)):t=W_(e,n,[]),dP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==b7?t:void 0}function W_(t,e,n){if(GS(e))return e;const r=e[js];if(!r)return H_(e,(i,s)=>A4(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return G_(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),H_(s,(a,l)=>A4(t,r,i,a,l,n,o)),G_(t,i,!1),n&&t.patches_&&ad("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function A4(t,e,n,r,i,s,o){if(od(i)){const a=s&&e&&e.type_!==3&&!uP(e.assigned_,r)?s.concat(r):void 0,l=W_(t,i,a);if(E7(n,r,l),od(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Ol(i)&&!GS(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;W_(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&G_(t,i)}}function G_(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wD(e,n)}function Wpe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:M7(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=_D;n&&(i=[r],s=Wv);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var _D={get(t,e){if(e===js)return t;const n=lf(t);if(!uP(n,e))return Gpe(t,n,e);const r=n[e];return t.finalized_||!Ol(r)?r:r===eA(t.base_,e)?(tA(t),t.copy_[e]=mP(r,t)):r},has(t,e){return e in lf(t)},ownKeys(t){return Reflect.ownKeys(lf(t))},set(t,e,n){const r=T7(lf(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=eA(lf(t),e),s=i==null?void 0:i[js];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Bpe(n,i)&&(n!==void 0||uP(t.base_,e)))return!0;tA(t),pP(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return eA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,tA(t),pP(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=lf(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ho(11)},getPrototypeOf(t){return Bp(t.base_)},setPrototypeOf(){Ho(12)}},Wv={};H_(_D,(t,e)=>{Wv[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wv.deleteProperty=function(t,e){return Wv.set.call(this,t,e,void 0)};Wv.set=function(t,e,n){return _D.set.call(this,t[0],e,n,t[0])};function eA(t,e){const n=t[js];return(n?lf(n):t)[e]}function Gpe(t,e,n){var i;const r=T7(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function T7(t,e){if(!(e in t))return;let n=Bp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Bp(n)}}function pP(t){t.modified_||(t.modified_=!0,t.parent_&&pP(t.parent_))}function tA(t){t.copy_||(t.copy_=fP(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $pe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Ho(6),r!==void 0&&typeof r!="function"&&Ho(7);let i;if(Ol(e)){const s=M4(this),o=mP(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?dP(s):hP(s)}return E4(s,r),T4(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===b7&&(i=void 0),this.autoFreeze_&&wD(i,!0),r){const s=[],o=[];ad("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Ho(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ol(t)||Ho(8),od(t)&&(t=Sl(t));const e=M4(this),n=mP(t,void 0);return n[js].isManual_=!0,hP(e),n}finishDraft(t,e){const n=t&&t[js];(!n||!n.isManual_)&&Ho(9);const{scope_:r}=n;return E4(r,e),T4(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ad("Patches").applyPatches_;return od(t)?r(t,e):this.produce(t,i=>r(i,e))}};function mP(t,e){const n=HS(t)?ad("MapSet").proxyMap_(t,e):WS(t)?ad("MapSet").proxySet_(t,e):Wpe(t,e);return(e?e.scope_:M7()).drafts_.push(n),n}function Sl(t){return od(t)||Ho(10,t),A7(t)}function A7(t){if(!Ol(t)||GS(t))return t;const e=t[js];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=fP(t,e.scope_.immer_.useStrictShallowCopy_)}else n=fP(t,!0);return H_(n,(r,i)=>{E7(n,r,A7(i))}),e&&(e.finalized_=!1),n}var Vs=new $pe,C7=Vs.produce;Vs.produceWithPatches.bind(Vs);Vs.setAutoFreeze.bind(Vs);Vs.setUseStrictShallowCopy.bind(Vs);Vs.applyPatches.bind(Vs);Vs.createDraft.bind(Vs);Vs.finishDraft.bind(Vs);function P7(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Xpe=P7(),Ype=P7,Kpe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?V_:V_.apply(null,arguments)};function xo(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Fs(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>_7(r)&&r.type===t,n}var R7=class Hg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hg.prototype)}static get[Symbol.species](){return Hg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hg(...e[0].concat(this)):new Hg(...e.concat(this))}};function C4(t){return Ol(t)?C7(t,()=>{}):t}function Xx(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function qpe(t){return typeof t=="boolean"}var Zpe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new R7;return n&&(qpe(n)?o.push(Xpe):o.push(Ype(n.extraArgument))),o},Qpe="RTK_autoBatch",P4=t=>e=>{setTimeout(e,t)},Jpe=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:P4(10):t.type==="callback"?t.queueNotification:P4(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),d=r.subscribe(f);return a.add(u),()=>{d(),a.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[Qpe]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},eme=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new R7(t);return r&&i.push(Jpe(typeof r=="object"?r:void 0)),i};function tme(t){const e=Zpe(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(xD(n))l=w7(n);else throw new Error(Fs(1));let c;typeof r=="function"?c=r(e):c=e();let u=V_;i&&(u=Kpe({trace:!1,...typeof i=="object"&&i}));const f=Upe(...c),d=eme(f);let h=typeof a=="function"?a(d):d();const p=u(...h);return x7(l,o,p)}function N7(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Fs(28));if(a in e)throw new Error(Fs(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function nme(t){return typeof t=="function"}function rme(t,e){let[n,r,i]=N7(e),s;if(nme(t))s=()=>C4(t());else{const a=C4(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(od(u)){const h=f(u,l);return h===void 0?u:h}else{if(Ol(u))return C7(u,d=>f(d,l));{const d=f(u,l);if(d===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return u},a)}return o.getInitialState=s,o}var ime="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sme=(t=21)=>{let e="",n=t;for(;n--;)e+=ime[Math.random()*64|0];return e},ome=Symbol.for("rtk-slice-createasyncthunk");function ame(t,e){return`${t}/${e}`}function lme({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[ome];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Fs(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(ume()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(b,M){const A=typeof b=="string"?b:b.type;if(!A)throw new Error(Fs(12));if(A in c.sliceCaseReducersByType)throw new Error(Fs(13));return c.sliceCaseReducersByType[A]=M,u},addMatcher(b,M){return c.sliceMatchers.push({matcher:b,reducer:M}),u},exposeAction(b,M){return c.actionCreators[b]=M,u},exposeCaseReducer(b,M){return c.sliceCaseReducersByName[b]=M,u}};l.forEach(b=>{const M=a[b],A={reducerName:b,type:ame(s,b),createNotation:typeof i.reducers=="function"};dme(M)?pme(A,M,u,e):fme(A,M,u)});function f(){const[b={},M=[],A=void 0]=typeof i.extraReducers=="function"?N7(i.extraReducers):[i.extraReducers],C={...b,...c.sliceCaseReducersByType};return rme(i.initialState,N=>{for(let R in C)N.addCase(R,C[R]);for(let R of c.sliceMatchers)N.addMatcher(R.matcher,R.reducer);for(let R of M)N.addMatcher(R.matcher,R.reducer);A&&N.addDefaultCase(A)})}const d=b=>b,h=new Map,p=new WeakMap;let v;function y(b,M){return v||(v=f()),v(b,M)}function g(){return v||(v=f()),v.getInitialState()}function _(b,M=!1){function A(N){let R=N[b];return typeof R>"u"&&M&&(R=Xx(p,A,g)),R}function C(N=d){const R=Xx(h,M,()=>new WeakMap);return Xx(R,N,()=>{const D={};for(const[F,U]of Object.entries(i.selectors??{}))D[F]=cme(U,N,()=>Xx(p,N,g),M);return D})}return{reducerPath:b,getSelectors:C,get selectors(){return C(A)},selectSlice:A}}const w={name:s,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,..._(o),injectInto(b,{reducerPath:M,...A}={}){const C=M??o;return b.inject({reducerPath:C,reducer:y},A),{...w,..._(C,!0)}}};return w}}function cme(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var So=lme();function ume(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function fme({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!hme(r))throw new Error(Fs(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?xo(t,o):xo(t))}function dme(t){return t._reducerDefinitionType==="asyncThunk"}function hme(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pme({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Fs(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,f=i(t,s,u);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Yx,pending:a||Yx,rejected:l||Yx,settled:c||Yx})}function Yx(){}var mme="task",I7="listener",D7="completed",bD="cancelled",gme=`task-${bD}`,vme=`task-${D7}`,gP=`${I7}-${bD}`,yme=`${I7}-${D7}`,$S=class{constructor(t){tg(this,"name","TaskAbortError");tg(this,"message");this.code=t,this.message=`${mme} ${bD} (reason: ${t})`}},SD=(t,e)=>{if(typeof t!="function")throw new TypeError(Fs(32))},$_=()=>{},L7=(t,e=$_)=>(t.catch(e),t),O7=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),kf=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Uf=t=>{if(t.aborted){const{reason:e}=t;throw new $S(e)}};function k7(t,e){let n=$_;return new Promise((r,i)=>{const s=()=>i(new $S(t.reason));if(t.aborted){s();return}n=O7(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=$_})}var xme=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof $S?"cancelled":"rejected",error:n}}finally{e==null||e()}},X_=t=>e=>L7(k7(t,e).then(n=>(Uf(t),n))),U7=t=>{const e=X_(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:hp}=Object,R4={},XS="listenerMiddleware",wme=(t,e)=>{const n=r=>O7(t,()=>kf(r,t.reason));return(r,i)=>{SD(r);const s=new AbortController;n(s);const o=xme(async()=>{Uf(t),Uf(s.signal);const a=await r({pause:X_(s.signal),delay:U7(s.signal),signal:s.signal});return Uf(s.signal),a},()=>kf(s,vme));return i!=null&&i.autoJoin&&e.push(o.catch($_)),{result:X_(t)(o),cancel(){kf(s,gme)}}}},_me=(t,e)=>{const n=async(r,i)=>{Uf(e);let s=()=>{};const a=[new Promise((l,c)=>{let u=t({predicate:r,effect:(f,d)=>{d.unsubscribe(),l([f,d.getState(),d.getOriginalState()])}});s=()=>{u(),c()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await k7(e,Promise.race(a));return Uf(e),l}finally{s()}};return(r,i)=>L7(n(r,i))},F7=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=xo(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Fs(21));return SD(s),{predicate:i,type:e,effect:s}},B7=hp(t=>{const{type:e,predicate:n,effect:r}=F7(t);return{id:sme(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fs(22))}}},{withTypes:()=>B7}),N4=(t,e)=>{const{type:n,effect:r,predicate:i}=F7(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},vP=t=>{t.pending.forEach(e=>{kf(e,gP)})},bme=t=>()=>{t.forEach(vP),t.clear()},I4=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},z7=hp(xo(`${XS}/add`),{withTypes:()=>z7}),Sme=xo(`${XS}/removeAll`),j7=hp(xo(`${XS}/remove`),{withTypes:()=>j7}),Eme=(...t)=>{console.error(`${XS}/error`,...t)},Y0=(t={})=>{const e=new Map,{extra:n,onError:r=Eme}=t;SD(r);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&vP(u)}),s=u=>{const f=N4(e,u)??B7(u);return i(f)};hp(s,{withTypes:()=>s});const o=u=>{const f=N4(e,u);return f&&(f.unsubscribe(),u.cancelActive&&vP(f)),!!f};hp(o,{withTypes:()=>o});const a=async(u,f,d,h)=>{const p=new AbortController,v=_me(s,p.signal),y=[];try{u.pending.add(p),await Promise.resolve(u.effect(f,hp({},d,{getOriginalState:h,condition:(g,_)=>v(g,_).then(Boolean),take:v,delay:U7(p.signal),pause:X_(p.signal),extra:n,signal:p.signal,fork:wme(p.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((g,_,w)=>{g!==p&&(kf(g,gP),w.delete(g))})},cancel:()=>{kf(p,gP),u.pending.delete(p)},throwIfCancelled:()=>{Uf(p.signal)}})))}catch(g){g instanceof $S||I4(r,g,{raisedBy:"effect"})}finally{await Promise.all(y),kf(p,yme),u.pending.delete(p)}},l=bme(e);return{middleware:u=>f=>d=>{if(!_7(d))return f(d);if(z7.match(d))return s(d.payload);if(Sme.match(d)){l();return}if(j7.match(d))return o(d.payload);let h=u.getState();const p=()=>{if(h===R4)throw new Error(Fs(23));return h};let v;try{if(v=f(d),e.size>0){const y=u.getState(),g=Array.from(e.values());for(const _ of g){let w=!1;try{w=_.predicate(d,y,h)}catch(b){w=!1,I4(r,b,{raisedBy:"predicate"})}w&&a(_,d,u,p)}}}finally{h=R4}return v},startListening:s,stopListening:o,clearListeners:l}};function Fs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mme={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},V7=So({name:"chartLayout",initialState:Mme,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:Tme,setLayout:Ame,setChartSize:Cme,setScale:Pme}=V7.actions,Rme=V7.reducer;function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){Nme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nme(t,e,n){return(e=Ime(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ime(t){var e=Dme(t,"string");return typeof e=="symbol"?e:e+""}function Dme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y_=Math.PI/180,Lme=t=>t*180/Math.PI,Ti=(t,e,n,r)=>({x:t+Math.cos(-Y_*r)*n,y:e+Math.sin(-Y_*r)*n}),H7=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ome=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},kme=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,o=Ome({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var a=(n-i)/o,l=Math.acos(a);return r>s&&(l=2*Math.PI-l),{radius:o,angle:Lme(l),angleInRadian:l}},Ume=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Fme=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return t+o*360},Bme=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=kme({x:n,y:r},e),{innerRadius:o,outerRadius:a}=e;if(i<o||i>a||i===0)return null;var{startAngle:l,endAngle:c}=Ume(e),u=s,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?L4(L4({},e),{},{radius:i,angle:Fme(u,e)}):null};function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){zme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zme(t,e,n){return(e=jme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jme(t){var e=Vme(t,"string");return typeof e=="symbol"?e:e+""}function Vme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wr(t,e,n){return sd(t)||sd(e)?n:Ll(e)?Op(t,e,n):typeof e=="function"?e(t):n}var Hme=(t,e,n,r,i)=>{var s,o=-1,a=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c=l>0?n[l-1].coordinate:n[a-1].coordinate,u=n[l].coordinate,f=l>=a-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(Os(u-c)!==Os(f-u)){var h=[];if(Os(f-u)===Os(i[1]-i[0])){d=f;var p=u+i[1]-i[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{d=c;var v=f+i[1]-i[0];h[0]=Math.min(u,(v+u)/2),h[1]=Math.max(u,(v+u)/2)}var y=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(t>y[0]&&t<=y[1]||t>=h[0]&&t<=h[1]){({index:o}=n[l]);break}}else{var g=Math.min(c,f),_=Math.max(c,f);if(t>(g+u)/2&&t<=(_+u)/2){({index:o}=n[l]);break}}}else if(e){for(var w=0;w<a;w++)if(w===0&&t<=(e[w].coordinate+e[w+1].coordinate)/2||w>0&&w<a-1&&t>(e[w].coordinate+e[w-1].coordinate)/2&&t<=(e[w].coordinate+e[w+1].coordinate)/2||w===a-1&&t>(e[w].coordinate+e[w-1].coordinate)/2){({index:o}=e[w]);break}}return o},Wme=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:a}=e;if((a==="vertical"||a==="horizontal"&&o==="middle")&&s!=="center"&&Xt(t[s]))return fo(fo({},t),{},{[s]:t[s]+(r||0)});if((a==="horizontal"||a==="vertical"&&s==="center")&&o!=="middle"&&Xt(t[o]))return fo(fo({},t),{},{[o]:t[o]+(i||0)})}return t},Ed=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",k4=1e-4,Gme=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-k4,s=Math.max(r[0],r[1])+k4,o=t(e[0]),a=t(e[n-1]);(o<i||o>s||a<i||a>s)&&t.domain([e[0],e[n-1]])}},$me=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,o=0;o<e;++o){var a=ta(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+a,s=t[o][n][1])}},Xme=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var o=ta(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Yme={sign:$me,expand:Dhe,none:Up,silhouette:Lhe,wiggle:Ohe,positive:Xme},Kme=(t,e,n)=>{var r=Yme[n],i=Ihe().keys(e).value((s,o)=>+Wr(s,o,0)).order(aP).offset(r);return i(t)},qme=t=>{var e=t.flat(2).filter(Xt);return[Math.min(...e),Math.max(...e)]},Zme=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Qme=(t,e,n)=>{if(t!=null)return Zme(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:o}=s,a=o.reduce((l,c)=>{var u=qme(c.slice(e,n+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},U4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jme=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=jS(e,u=>u.coordinate),s=1/0,o=1,a=i.length;o<a;o++){var l=i[o],c=i[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return 0};function B4(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return fo(fo({},e),{},{dataKey:n,payload:r,value:i,name:s})}function W7(t,e){if(t)return String(t);if(typeof e=="string")return e}function ege(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?Bme({x:t,y:e},r):null}var tge=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:o}=r;return fo(fo(fo({},r),Ti(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var a=i.coordinate,{angle:l}=r;return fo(fo(fo({},r),Ti(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},nge=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Xl=t=>t.layout.width,Yl=t=>t.layout.height,rge=t=>t.layout.scale,G7=t=>t.layout.margin,ED=Le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),MD=Le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),$7="data-recharts-item-index",X7="data-recharts-item-data-key",YS=60;function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){ige(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ige(t,e,n){return(e=sge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sge(t){var e=oge(t,"string");return typeof e=="symbol"?e:e+""}function oge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var age=t=>t.brush.height,Ni=Le([Xl,Yl,G7,age,ED,MD,v7,Rpe],(t,e,n,r,i,s,o,a)=>{var l=s.reduce((p,v)=>{var{orientation:y}=v;if(!v.mirror&&!v.hide){var g=typeof v.width=="number"?v.width:YS;return mc(mc({},p),{},{[y]:p[y]+g})}return p},{left:n.left||0,right:n.right||0}),c=i.reduce((p,v)=>{var{orientation:y}=v;return!v.mirror&&!v.hide?mc(mc({},p),{},{[y]:Op(p,"".concat(y))+v.height}):p},{top:n.top||0,bottom:n.bottom||0}),u=mc(mc({},c),l),f=u.bottom;u.bottom+=r,u=Wme(u,o,a);var d=t-u.left-u.right,h=e-u.top-u.bottom;return mc(mc({brushBottom:f},u),{},{width:Math.max(d,0),height:Math.max(h,0)})}),lge=Le(Ni,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));Le(Xl,Yl,(t,e)=>({x:0,y:0,width:t,height:e}));var cge=T.createContext(null),hm=()=>T.useContext(cge)!=null,KS=t=>t.brush,qS=Le([KS,Ni,G7],(t,e,n)=>({height:t.height,x:Xt(t.x)?t.x:e.left,y:Xt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Xt(t.width)?t.width:e.width})),Y7=()=>{var t,e=hm(),n=Gt(lge),r=Gt(qS),i=(t=Gt(KS))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},uge={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fge=()=>{var t;return(t=Gt(Ni))!==null&&t!==void 0?t:uge},K7=()=>Gt(Xl),q7=()=>Gt(Yl),dge={top:0,right:0,bottom:0,left:0},hge=()=>{var t;return(t=Gt(e=>e.layout.margin))!==null&&t!==void 0?t:dge},Hn=t=>t.layout.layoutType,Z7=()=>Gt(Hn),pge={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Q7=So({name:"legend",initialState:pge,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Sl(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:j4,setLegendSettings:mge,addLegendPayload:gge,removeLegendPayload:vge}=Q7.actions,yge=Q7.reducer,xge=["contextPayload"];function yP(){return yP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yP.apply(null,arguments)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){TD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TD(t,e,n){return(e=wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wge(t){var e=_ge(t,"string");return typeof e=="symbol"?e:e+""}function _ge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bge(t,e){if(t==null)return{};var n,r,i=Sge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ege(t){return t.value}function Mge(t){var{contextPayload:e}=t,n=bge(t,xge),r=s7(e,t.payloadUniqBy,Ege),i=zp(zp({},n),{},{payload:r});return T.isValidElement(t.content)?T.cloneElement(t.content,i):typeof t.content=="function"?T.createElement(t.content,i):T.createElement(aD,i)}function Tge(t,e,n,r,i,s){var{layout:o,align:a,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(a==="center"&&o==="vertical"?c={left:((r||0)-s.width)/2}:c=a==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-s.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),zp(zp({},c),u)}function Age(t){var e=Xr();return T.useEffect(()=>{e(mge(t))},[e,t]),null}function Cge(t){var e=Xr();return T.useEffect(()=>(e(j4(t)),()=>{e(j4({width:0,height:0}))}),[e,t]),null}function Pge(t){var e=Dpe(),n=nhe(),r=hge(),{width:i,height:s,wrapperStyle:o,portal:a}=t,[l,c]=y7([e]),u=K7(),f=q7(),d=u-(r.left||0)-(r.right||0),h=ZS.getWidthOrHeight(t.layout,s,i,d),p=a?o:zp(zp({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||s||"auto"},Tge(o,t,r,u,f,l)),o),v=a??n;if(v==null)return null;var y=T.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:c},T.createElement(Age,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),T.createElement(Cge,{width:l.width,height:l.height}),T.createElement(Mge,yP({},t,h,{margin:r,chartWidth:u,chartHeight:f,contextPayload:e})));return $l.createPortal(y,v)}class ZS extends T.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Xt(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return T.createElement(Pge,this.props)}}TD(ZS,"displayName","Legend");TD(ZS,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function xP(){return xP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xP.apply(null,arguments)}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){Rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rge(t,e,n){return(e=Nge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nge(t){var e=Ige(t,"string");return typeof e=="symbol"?e:e+""}function Ige(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dge(t){return Array.isArray(t)&&Ll(t[0])&&Ll(t[1])?t.join(" ~ "):t}var Lge=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:a,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:d=!1}=t,h=()=>{if(s&&s.length){var M={padding:0,margin:0},A=(a?jS(s,a):s).map((C,N)=>{if(C.type==="none")return null;var R=C.formatter||o||Dge,{value:D,name:F}=C,U=D,$=F;if(R){var I=R(D,F,C,N,s);if(Array.isArray(I))[U,$]=I;else if(I!=null)U=I;else return null}var V=nA({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:V},Ll($)?T.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Ll($)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},U),T.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:M},A)}return null},p=nA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=nA({margin:0},i),y=!sd(u),g=y?u:"",_=dr("recharts-default-tooltip",l),w=dr("recharts-tooltip-label",c);y&&f&&s!==void 0&&s!==null&&(g=f(u,s));var b=d?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",xP({className:_,style:p},b),T.createElement("p",{className:w,style:v},T.isValidElement(g)?g:"".concat(g)),h())},dg="recharts-tooltip-wrapper",Oge={visibility:"hidden"};function kge(t){var{coordinate:e,translateX:n,translateY:r}=t;return dr(dg,{["".concat(dg,"-right")]:Xt(n)&&e&&Xt(e.x)&&n>=e.x,["".concat(dg,"-left")]:Xt(n)&&e&&Xt(e.x)&&n<e.x,["".concat(dg,"-bottom")]:Xt(r)&&e&&Xt(e.y)&&r>=e.y,["".concat(dg,"-top")]:Xt(r)&&e&&Xt(e.y)&&r<e.y})}function W4(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:a,viewBox:l,viewBoxDimension:c}=t;if(s&&Xt(s[r]))return s[r];var u=n[r]-a-(i>0?i:0),f=n[r]+i;if(e[r])return o[r]?u:f;var d=l[r];if(d==null)return 0;if(o[r]){var h=u,p=d;return h<p?Math.max(f,d):Math.max(u,d)}if(c==null)return 0;var v=f+a,y=d+c;return v>y?Math.max(u,d):Math.max(f,d)}function Uge(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Fge(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:a,viewBox:l}=t,c,u,f;return o.height>0&&o.width>0&&n?(u=W4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=W4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Uge({translateX:u,translateY:f,useTranslate3d:a})):c=Oge,{cssProperties:c,cssClasses:kge({translateX:u,translateY:f,coordinate:n})}}function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){wP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wP(t,e,n){return(e=Bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t){var e=zge(t,"string");return typeof e=="symbol"?e:e+""}function zge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jge extends T.PureComponent{constructor(){super(...arguments),wP(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wP(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:a,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:d,viewBox:h,wrapperStyle:p,lastBoundingBox:v,innerRef:y,hasPortalFromProps:g}=this.props,{cssClasses:_,cssProperties:w}=Fge({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:d,viewBox:h}),b=g?{}:Kx(Kx({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),M=Kx(Kx({},b),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},p);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:M,ref:y},s)}}var Vge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),QS={isSsr:Vge()},J7=()=>Gt(t=>t.rootProps.accessibilityLayer);function na(t){return Number.isFinite(t)}function K_(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function _P(){return _P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_P.apply(null,arguments)}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){Hge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hge(t,e,n){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Gge(t,"string");return typeof e=="symbol"?e:e+""}function Gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y4={curveBasisClosed:_he,curveBasisOpen:bhe,curveBasis:whe,curveBumpX:ohe,curveBumpY:ahe,curveLinearClosed:She,curveLinear:OS,curveMonotoneX:Ehe,curveMonotoneY:Mhe,curveNatural:The,curveStep:Ahe,curveStepAfter:Phe,curveStepBefore:Che},qx=t=>na(t.x)&&na(t.y),hg=t=>t.x,pg=t=>t.y,$ge=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(X0(t));return(n==="curveMonotone"||n==="curveBump")&&e?Y4["".concat(n).concat(e==="vertical"?"Y":"X")]:Y4[n]||OS},Xge=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,o=$ge(e,i),a=s?n.filter(qx):n,l;if(Array.isArray(r)){var c=s?r.filter(f=>qx(f)):r,u=a.map((f,d)=>X4(X4({},f),{},{base:c[d]}));return i==="vertical"?l=Wx().y(pg).x1(hg).x0(f=>f.base.x):l=Wx().x(hg).y1(pg).y0(f=>f.base.y),l.defined(qx).curve(o),l(u)}return i==="vertical"&&Xt(r)?l=Wx().y(pg).x1(hg).x0(r):Xt(r)?l=Wx().x(hg).y1(pg).y0(r):l=I$().x(hg).y(pg),l.defined(qx).curve(o),l(a)},eX=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Xge(t):r;return T.createElement("path",_P({},$r(t,!1),Xde(t),{className:dr("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Yge=["x","y","top","left","width","height","className"];function bP(){return bP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bP.apply(null,arguments)}function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qge(t,e,n){return(e=Zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zge(t){var e=Qge(t,"string");return typeof e=="symbol"?e:e+""}function Qge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jge(t,e){if(t==null)return{};var n,r,i=eve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tve=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),nve=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:a}=t,l=Jge(t,Yge),c=Kge({x:e,y:n,top:r,left:i,width:s,height:o},l);return!Xt(e)||!Xt(n)||!Xt(s)||!Xt(o)||!Xt(r)||!Xt(i)?null:T.createElement("path",bP({},$r(c,!0),{className:dr("recharts-cross",a),d:tve(e,n,s,o,r,i)}))};function rve(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ive(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q4(Object(n),!0).forEach(function(r){sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sve(t,e,n){return(e=ove(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ove(t){var e=ave(t,"string");return typeof e=="symbol"?e:e+""}function ave(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Md(t,e){var n=ive({},t),r=e,i=Object.keys(e),s=i.reduce((o,a)=>(o[a]===void 0&&r[a]!==void 0&&(o[a]=r[a]),o),n);return s}var tX={},nX={},rX={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(rX);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rX,n=pD,r=FS,i=BS,s=US;function o(c,u,f){return a(c,u,void 0,void 0,void 0,void 0,f)}function a(c,u,f,d,h,p,v){const y=v(c,u,f,d,h,p);if(y!==void 0)return y;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,p,v)}return l(c,u,p,v)}function l(c,u,f,d){if(Object.is(c,u))return!0;let h=r.getTag(c),p=r.getTag(u);if(h===i.argumentsTag&&(h=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),h!==p)return!1;switch(h){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const g=c.valueOf(),_=u.valueOf();return s.eq(g,_)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}f=f??new Map;const v=f.get(c),y=f.get(u);if(v!=null&&y!=null)return v===u;f.set(c,u),f.set(u,c);try{switch(h){case i.mapTag:{if(c.size!==u.size)return!1;for(const[g,_]of c.entries())if(!u.has(g)||!a(_,u.get(g),g,c,u,f,d))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const g=Array.from(c.values()),_=Array.from(u.values());for(let w=0;w<g.length;w++){const b=g[w],M=_.findIndex(A=>a(b,A,void 0,c,u,f,d));if(M===-1)return!1;_.splice(M,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let g=0;g<c.length;g++)if(!a(c[g],u[g],g,c,u,f,d))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),f,d);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),f,d);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,f,d)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const _=[...Object.keys(c),...n.getSymbols(c)],w=[...Object.keys(u),...n.getSymbols(u)];if(_.length!==w.length)return!1;for(let b=0;b<_.length;b++){const M=_[b],A=c[M];if(!Object.hasOwn(u,M))return!1;const C=u[M];if(!a(A,C,M,c,u,f,d))return!1}return!0}default:return!1}}finally{f.delete(c),f.delete(u)}}t.isEqualWith=o})(nX);var iX={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(iX);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nX,n=iX;function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r})(tX);var lve=tX.isEqual;const cve=_o(lve);function uve(t){var e={},n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,[l,...c]=a;if(typeof l=="number"){i=t.setTimeout(s.bind(null,c),l);return}s(l),i=t.setTimeout(s.bind(null,c));return}typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}var q_=1e-4,sX=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],oX=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Z4=(t,e)=>n=>{var r=sX(t,e);return oX(r,n)},fve=(t,e)=>n=>{var r=sX(t,e),i=[...r.map((s,o)=>s*o).slice(1),0];return oX(i,n)},Q4=function(){for(var e,n,r,i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([e,r,n,i]=o);var c=Z4(e,n),u=Z4(r,i),f=fve(e,n),d=p=>p>1?1:p<0?0:p,h=p=>{for(var v=p>1?1:p,y=v,g=0;g<8;++g){var _=c(y)-v,w=f(y);if(Math.abs(_-v)<q_||w<q_)return u(y);y=d(y-_/w)}return u(y)};return h.isStepper=!1,h},dve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(o,a,l)=>{var c=-(o-a)*n,u=l*r,f=l+(c-u)*i/1e3,d=l*i/1e3+o;return Math.abs(d-a)<q_&&Math.abs(f)<q_?[a,0]:[d,f]};return s.isStepper=!0,s.dt=i,s},hve=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Q4(t);case"spring":return dve();default:if(t.split("(")[0]==="cubic-bezier")return Q4(t)}return typeof t=="function"?t:null};function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){pve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pve(t,e,n){return(e=mve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mve(t){var e=gve(t,"string");return typeof e=="symbol"?e:e+""}function gve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vve=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),yve=(t,e,n)=>t.map(r=>"".concat(vve(r)," ").concat(e,"ms ").concat(n)).join(","),xve=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Gv=(t,e)=>Object.keys(e).reduce((n,r)=>eB(eB({},n),{},{[r]:t(r,e[r])}),{});function tB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(n),!0).forEach(function(r){wve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wve(t,e,n){return(e=_ve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ve(t){var e=bve(t,"string");return typeof e=="symbol"?e:e+""}function bve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z_=(t,e,n)=>t+(e-t)*n,SP=t=>{var{from:e,to:n}=t;return e!==n},aX=(t,e,n)=>{var r=Gv((i,s)=>{if(SP(s)){var[o,a]=t(s.from,s.to,s.velocity);return ii(ii({},s),{},{from:o,velocity:a})}return s},e);return n<1?Gv((i,s)=>SP(s)?ii(ii({},s),{},{velocity:Z_(s.velocity,r[i].velocity,n),from:Z_(s.from,r[i].from,n)}):s,e):aX(t,r,n-1)};function Sve(t,e,n,r,i,s){var o,a=r.reduce((d,h)=>ii(ii({},d),{},{[h]:{from:t[h],velocity:0,to:e[h]}}),{}),l=()=>Gv((d,h)=>h.from,a),c=()=>!Object.values(a).filter(SP).length,u=null,f=d=>{o||(o=d);var h=d-o,p=h/n.dt;a=aX(n,a,p),i(ii(ii(ii({},t),e),l())),o=d,c()||(u=s.setTimeout(f))};return()=>(u=s.setTimeout(f),()=>{u()})}function Eve(t,e,n,r,i,s,o){var a=null,l=i.reduce((f,d)=>ii(ii({},f),{},{[d]:[t[d],e[d]]}),{}),c,u=f=>{c||(c=f);var d=(f-c)/r,h=Gv((v,y)=>Z_(...y,n(d)),l);if(s(ii(ii(ii({},t),e),h)),d<1)a=o.setTimeout(u);else{var p=Gv((v,y)=>Z_(...y,n(1)),l);s(ii(ii(ii({},t),e),p))}};return()=>(a=o.setTimeout(u),()=>{a()})}const Mve=(t,e,n,r,i,s)=>{var o=xve(t,e);return n.isStepper===!0?Sve(t,e,n,o,i,s):Eve(t,e,n,r,o,i,s)};class Tve{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var Ave=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EP.apply(null,arguments)}function Cve(t,e){if(t==null)return{};var n,r,i=Pve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){wf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wf(t,e,n){return(e=Rve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rve(t){var e=Nve(t,"string");return typeof e=="symbol"?e:e+""}function Nve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ive(){return uve(new Tve)}class AD extends T.PureComponent{constructor(e,n){super(e,n),wf(this,"mounted",!1),wf(this,"manager",null),wf(this,"stopJSAnimation",null),wf(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:o,children:a,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:o});return}if(s){if(typeof a=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:o,from:a}=this.props,{style:l}=this.state;if(r){if(!n){var c={style:i?{[i]:o}:o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(c);return}if(!(cve(e.to,o)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||s?a:e.to;if(this.state&&l){var d={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(d)}this.runAnimation(gc(gc({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:o,onAnimationEnd:a,onAnimationStart:l}=e,c=Mve(n,r,hve(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,o,u,i,a])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:o,onAnimationStart:a,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof c=="function"||o==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,f=yve(Object.keys(u),r,o);this.manager.start([a,n,gc(gc({},u),{},{transition:f}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:o,isActive:a,from:l,to:c,canBegin:u,onAnimationEnd:f,shouldReAnimate:d,onAnimationReStart:h,animationManager:p}=e,v=Cve(e,Ave),y=T.Children.count(n),g=this.state.style;if(typeof n=="function")return n(g);if(!a||y===0||i<=0)return n;var _=w=>{var{style:b={},className:M}=w.props,A=T.cloneElement(w,gc(gc({},v),{},{style:gc(gc({},b),g),className:M}));return A};return y===1?_(T.Children.only(n)):T.createElement("div",null,T.Children.map(n,w=>_(w)))}}wf(AD,"displayName","Animate");wf(AD,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Dve=T.createContext(null);function $v(t){var e,n,r=T.useContext(Dve);return T.createElement(AD,EP({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:Ive()}))}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(null,arguments)}var rB=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,d=4;f<d;f++)u[f]=i[f]>s?s:i[f];c="M".concat(t,",").concat(e+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+a*u[0],",").concat(e)),c+="L ".concat(t+n-a*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+o*u[1])),c+="L ".concat(t+n,",").concat(e+r-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+n-a*u[2],",").concat(e+r)),c+="L ".concat(t+a*u[3],",").concat(e+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-o*u[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);c="M ".concat(t,",").concat(e+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+a*h,",").concat(e,`
            L `).concat(t+n-a*h,",").concat(e,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+n,",").concat(e+o*h,`
            L `).concat(t+n,",").concat(e+r-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+n-a*h,",").concat(e+r,`
            L `).concat(t+a*h,",").concat(e+r,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t,",").concat(e+r-o*h," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},Lve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lX=t=>{var e=Md(t,Lve),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var g=n.current.getTotalLength();g&&i(g)}catch{}},[]);var{x:s,y:o,width:a,height:l,radius:c,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:v}=e;if(s!==+s||o!==+o||a!==+a||l!==+l||a===0||l===0)return null;var y=dr("recharts-rectangle",u);return v?T.createElement($v,{canBegin:r>0,from:{width:a,height:l,x:s,y:o},to:{width:a,height:l,x:s,y:o},duration:d,animationEasing:f,isActive:v},g=>{var{width:_,height:w,x:b,y:M}=g;return T.createElement($v,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:d,isActive:p,easing:f},T.createElement("path",Q_({},$r(e,!0),{className:y,d:rB(b,M,_,w,c),ref:n})))}):T.createElement("path",Q_({},$r(e,!0),{className:y,d:rB(s,o,a,l,c)}))};function cX(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,o=Ti(e,n,r,i),a=Ti(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function MP(){return MP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MP.apply(null,arguments)}var Ove=(t,e)=>{var n=Os(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Zx=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:a,cornerIsExternal:l}=t,c=a*(o?1:-1)+r,u=Math.asin(a/c)/Y_,f=l?i:i+s*u,d=Ti(e,n,c,f),h=Ti(e,n,r,f),p=l?i-s*u:i,v=Ti(e,n,c*Math.cos(u*Y_),p);return{center:d,circleTangency:h,lineTangency:v,theta:u}},uX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=t,a=Ove(s,o),l=s+a,c=Ti(e,n,i,s),u=Ti(e,n,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var d=Ti(e,n,r,s),h=Ti(e,n,r,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(s<=l),`,
            `).concat(d.x,",").concat(d.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},kve=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:a,startAngle:l,endAngle:c}=t,u=Os(c-l),{circleTangency:f,lineTangency:d,theta:h}=Zx({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:a}),{circleTangency:p,lineTangency:v,theta:y}=Zx({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:a}),g=a?Math.abs(l-c):Math.abs(l-c)-h-y;if(g<0)return o?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):uX({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var _="M ".concat(d.x,",").concat(d.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(g>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:b,theta:M}=Zx({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),{circleTangency:A,lineTangency:C,theta:N}=Zx({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),R=a?Math.abs(l-c):Math.abs(l-c)-M-N;if(R<0&&s===0)return"".concat(_,"L").concat(e,",").concat(n,"Z");_+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else _+="L".concat(e,",").concat(n,"Z");return _},Uve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fX=t=>{var e=Md(t,Uve),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=e;if(s<i||c===u)return null;var d=dr("recharts-sector",f),h=s-i,p=Pa(o,h,0,!0),v;return p>0&&Math.abs(c-u)<360?v=kve({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,h/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}):v=uX({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u}),T.createElement("path",MP({},$r(e,!0),{className:d,d:v}))};function Fve(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:a,cy:l,innerRadius:c,outerRadius:u,angle:f}=e,d=Ti(a,l,c,f),h=Ti(a,l,u,f);r=d.x,i=d.y,s=h.x,o=h.y}else return cX(e);return[{x:r,y:i},{x:s,y:o}]}var dX={},hX={},pX={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vD;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(pX);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pX;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(hX);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yD,n=hX;function r(i,s,o){o&&typeof o!="number"&&e.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const a=Math.max(Math.ceil((s-i)/(o||1)),0),l=new Array(a);for(let c=0;c<a;c++)l[c]=i,i+=o;return l}t.range=r})(dX);var Bve=dX.range;const mX=_o(Bve);function tu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CD(t){let e,n,r;t.length!==2?(e=tu,n=(a,l)=>tu(t(a),l),r=(a,l)=>t(a)-l):(e=t===tu||t===zve?t:jve,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function jve(){return 0}function gX(t){return t===null?NaN:+t}function*Vve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Hve=CD(tu),K0=Hve.right;CD(gX).center;class iB extends Map{constructor(e,n=$ve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sB(this,e))}has(e){return super.has(sB(this,e))}set(e,n){return super.set(Wve(this,e),n)}delete(e){return super.delete(Gve(this,e))}}function sB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Gve({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $ve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xve(t=tu){if(t===tu)return vX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function vX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Yve=Math.sqrt(50),Kve=Math.sqrt(10),qve=Math.sqrt(2);function J_(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Yve?10:s>=Kve?5:s>=qve?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?J_(t,e,n*2):[a,l,c]}function TP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?J_(e,t,n):J_(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function AP(t,e,n){return e=+e,t=+t,n=+n,J_(t,e,n)[2]}function CP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?AP(e,t,n):AP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function oB(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aB(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yX(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?vX:Xve(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*f/l+d)),p=Math.min(r,Math.floor(e+(l-c)*f/l+d));yX(t,e,h,p,i)}const s=t[e];let o=n,a=r;for(mg(t,n,e),i(t[r],s)>0&&mg(t,n,r);o<a;){for(mg(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?mg(t,n,a):(++a,mg(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function mg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Zve(t,e,n){if(t=Float64Array.from(Vve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return aB(t);if(e>=1)return oB(t);var r,i=(r-1)*e,s=Math.floor(i),o=oB(yX(t,s).subarray(0,s+1)),a=aB(t.subarray(s+1));return o+(a-o)*(i-s)}}function Qve(t,e,n=gX){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function Jve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Eo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Kl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const PP=Symbol("implicit");function PD(){var t=new iB,e=[],n=[],r=PP;function i(s){let o=t.get(s);if(o===void 0){if(r!==PP)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new iB;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return PD(e,n).unknown(r)},Eo.apply(i,arguments),i}function RD(){var t=PD().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<r,p=h?i:r,v=h?r:i;s=(v-p)/Math.max(1,d-l+c*2),a&&(s=Math.floor(s)),p+=(v-p-s*(d-l))*u,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var y=Jve(d).map(function(g){return p+s*g});return n(h?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return RD(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Eo.apply(f(),arguments)}function xX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xX(e())},t}function e0e(){return xX(RD.apply(null,arguments).paddingInner(1))}function ND(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function q0(){}var Xv=.7,eb=1/Xv,pp="\\s*([+-]?\\d+)\\s*",Yv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t0e=/^#([0-9a-f]{3,8})$/,n0e=new RegExp(`^rgb\\(${pp},${pp},${pp}\\)$`),r0e=new RegExp(`^rgb\\(${Ra},${Ra},${Ra}\\)$`),i0e=new RegExp(`^rgba\\(${pp},${pp},${pp},${Yv}\\)$`),s0e=new RegExp(`^rgba\\(${Ra},${Ra},${Ra},${Yv}\\)$`),o0e=new RegExp(`^hsl\\(${Yv},${Ra},${Ra}\\)$`),a0e=new RegExp(`^hsla\\(${Yv},${Ra},${Ra},${Yv}\\)$`),lB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ND(q0,ld,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cB,formatHex:cB,formatHex8:l0e,formatHsl:c0e,formatRgb:uB,toString:uB});function cB(){return this.rgb().formatHex()}function l0e(){return this.rgb().formatHex8()}function c0e(){return _X(this).formatHsl()}function uB(){return this.rgb().formatRgb()}function ld(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=t0e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fB(e):n===3?new us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=n0e.exec(t))?new us(e[1],e[2],e[3],1):(e=r0e.exec(t))?new us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=i0e.exec(t))?Qx(e[1],e[2],e[3],e[4]):(e=s0e.exec(t))?Qx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=o0e.exec(t))?pB(e[1],e[2]/100,e[3]/100,1):(e=a0e.exec(t))?pB(e[1],e[2]/100,e[3]/100,e[4]):lB.hasOwnProperty(t)?fB(lB[t]):t==="transparent"?new us(NaN,NaN,NaN,0):null}function fB(t){return new us(t>>16&255,t>>8&255,t&255,1)}function Qx(t,e,n,r){return r<=0&&(t=e=n=NaN),new us(t,e,n,r)}function u0e(t){return t instanceof q0||(t=ld(t)),t?(t=t.rgb(),new us(t.r,t.g,t.b,t.opacity)):new us}function RP(t,e,n,r){return arguments.length===1?u0e(t):new us(t,e,n,r??1)}function us(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ND(us,RP,wX(q0,{brighter(t){return t=t==null?eb:Math.pow(eb,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xv:Math.pow(Xv,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new us(Ff(this.r),Ff(this.g),Ff(this.b),tb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dB,formatHex:dB,formatHex8:f0e,formatRgb:hB,toString:hB}));function dB(){return`#${_f(this.r)}${_f(this.g)}${_f(this.b)}`}function f0e(){return`#${_f(this.r)}${_f(this.g)}${_f(this.b)}${_f((isNaN(this.opacity)?1:this.opacity)*255)}`}function hB(){const t=tb(this.opacity);return`${t===1?"rgb(":"rgba("}${Ff(this.r)}, ${Ff(this.g)}, ${Ff(this.b)}${t===1?")":`, ${t})`}`}function tb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ff(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _f(t){return t=Ff(t),(t<16?"0":"")+t.toString(16)}function pB(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wo(t,e,n,r)}function _X(t){if(t instanceof Wo)return new Wo(t.h,t.s,t.l,t.opacity);if(t instanceof q0||(t=ld(t)),!t)return new Wo;if(t instanceof Wo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Wo(o,a,l,t.opacity)}function d0e(t,e,n,r){return arguments.length===1?_X(t):new Wo(t,e,n,r??1)}function Wo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ND(Wo,d0e,wX(q0,{brighter(t){return t=t==null?eb:Math.pow(eb,t),new Wo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xv:Math.pow(Xv,t),new Wo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new us(rA(t>=240?t-240:t+120,i,r),rA(t,i,r),rA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wo(mB(this.h),Jx(this.s),Jx(this.l),tb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tb(this.opacity);return`${t===1?"hsl(":"hsla("}${mB(this.h)}, ${Jx(this.s)*100}%, ${Jx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mB(t){return t=(t||0)%360,t<0?t+360:t}function Jx(t){return Math.max(0,Math.min(1,t||0))}function rA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ID=t=>()=>t;function h0e(t,e){return function(n){return t+n*e}}function p0e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function m0e(t){return(t=+t)==1?bX:function(e,n){return n-e?p0e(e,n,t):ID(isNaN(e)?n:e)}}function bX(t,e){var n=e-t;return n?h0e(t,n):ID(isNaN(t)?e:t)}const nb=function t(e){var n=m0e(e);function r(i,s){var o=n((i=RP(i)).r,(s=RP(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=bX(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function g0e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function v0e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function y0e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=El(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function x0e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function w0e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=El(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var NP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iA=new RegExp(NP.source,"g");function _0e(t){return function(){return t}}function b0e(t){return function(e){return t(e)+""}}function SX(t,e){var n=NP.lastIndex=iA.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=NP.exec(t))&&(i=iA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:jo(r,i)})),n=iA.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?b0e(l[0].x):_0e(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function El(t,e){var n=typeof e,r;return e==null||n==="boolean"?ID(e):(n==="number"?jo:n==="string"?(r=ld(e))?(e=r,nb):SX:e instanceof ld?nb:e instanceof Date?x0e:v0e(e)?g0e:Array.isArray(e)?y0e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?w0e:jo)(t,e)}function DD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var gB=180/Math.PI,IP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function EX(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*gB,skewX:Math.atan(l)*gB,scaleX:o,scaleY:a}}var e1;function S0e(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?IP:EX(e.a,e.b,e.c,e.d,e.e,e.f)}function E0e(t){return t==null||(e1||(e1=document.createElementNS("http://www.w3.org/2000/svg","g")),e1.setAttribute("transform",t),!(t=e1.transform.baseVal.consolidate()))?IP:(t=t.matrix,EX(t.a,t.b,t.c,t.d,t.e,t.f))}function MX(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,f,d,h,p){if(c!==f||u!==d){var v=h.push("translate(",null,e,null,n);p.push({i:v-4,x:jo(c,f)},{i:v-2,x:jo(u,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}function o(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:jo(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:jo(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,p){if(c!==f||u!==d){var v=h.push(i(h)+"scale(",null,",",null,")");p.push({i:v-4,x:jo(c,f)},{i:v-2,x:jo(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,f,d),o(c.rotate,u.rotate,f,d),a(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var p=-1,v=d.length,y;++p<v;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var M0e=MX(S0e,"px, ","px)","deg)"),T0e=MX(E0e,", ",")",")"),A0e=1e-12;function vB(t){return((t=Math.exp(t))+1/t)/2}function C0e(t){return((t=Math.exp(t))-1/t)/2}function P0e(t){return((t=Math.exp(2*t))-1)/(t+1)}const Nw=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],f=o[1],d=o[2],h=u-a,p=f-l,v=h*h+p*p,y,g;if(v<A0e)g=Math.log(d/c)/e,y=function(C){return[a+C*h,l+C*p,c*Math.exp(e*C*g)]};else{var _=Math.sqrt(v),w=(d*d-c*c+r*v)/(2*c*n*_),b=(d*d-c*c-r*v)/(2*d*n*_),M=Math.log(Math.sqrt(w*w+1)-w),A=Math.log(Math.sqrt(b*b+1)-b);g=(A-M)/e,y=function(C){var N=C*g,R=vB(M),D=c/(n*_)*(R*P0e(e*N+M)-C0e(M));return[a+D*h,l+D*p,c*R/vB(e*N+M)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);function R0e(t,e){e===void 0&&(e=t,t=El);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function N0e(t){return function(){return t}}function rb(t){return+t}var yB=[0,1];function $i(t){return t}function DP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:N0e(isNaN(e)?NaN:.5)}function I0e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function D0e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=DP(i,r),s=n(o,s)):(r=DP(r,i),s=n(s,o)),function(a){return s(r(a))}}function L0e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=DP(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=K0(t,a,1,r)-1;return s[l](i[l](a))}}function Z0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function JS(){var t=yB,e=yB,n=El,r,i,s,o=$i,a,l,c;function u(){var d=Math.min(t.length,e.length);return o!==$i&&(o=I0e(t[0],t[d-1])),a=d>2?L0e:D0e,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?s:(l||(l=a(t.map(r),e,n)))(r(o(d)))}return f.invert=function(d){return o(i((c||(c=a(e,t.map(r),jo)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,rb),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=DD,u()},f.clamp=function(d){return arguments.length?(o=d?!0:$i,u()):o!==$i},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,u()}}function LD(){return JS()($i,$i)}function O0e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ib(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jp(t){return t=ib(Math.abs(t)),t?t[1]:NaN}function k0e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function U0e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var F0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kv(t){if(!(e=F0e.exec(t)))throw new Error("invalid format: "+t);var e;return new OD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kv.prototype=OD.prototype;function OD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}OD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function B0e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var TX;function z0e(t,e){var n=ib(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(TX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ib(t,Math.max(0,e+s-1))[0]}function xB(t,e){var n=ib(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:O0e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xB(t*100,e),r:xB,s:z0e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _B(t){return t}var bB=Array.prototype.map,SB=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function j0e(t){var e=t.grouping===void 0||t.thousands===void 0?_B:k0e(bB.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?_B:U0e(bB.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Kv(f);var d=f.fill,h=f.align,p=f.sign,v=f.symbol,y=f.zero,g=f.width,_=f.comma,w=f.precision,b=f.trim,M=f.type;M==="n"?(_=!0,M="g"):wB[M]||(w===void 0&&(w=12),b=!0,M="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",C=v==="$"?r:/[%p]/.test(M)?o:"",N=wB[M],R=/[defgprs%]/.test(M);w=w===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(F){var U=A,$=C,I,V,j;if(M==="c")$=N(F)+$,F="";else{F=+F;var X=F<0||1/F<0;if(F=isNaN(F)?l:N(Math.abs(F),w),b&&(F=B0e(F)),X&&+F==0&&p!=="+"&&(X=!1),U=(X?p==="("?p:a:p==="-"||p==="("?"":p)+U,$=(M==="s"?SB[8+TX/3]:"")+$+(X&&p==="("?")":""),R){for(I=-1,V=F.length;++I<V;)if(j=F.charCodeAt(I),48>j||j>57){$=(j===46?i+F.slice(I+1):F.slice(I))+$,F=F.slice(0,I);break}}}_&&!y&&(F=e(F,1/0));var L=U.length+F.length+$.length,k=L<g?new Array(g-L+1).join(d):"";switch(_&&y&&(F=e(k+F,k.length?g-$.length:1/0),k=""),h){case"<":F=U+F+$+k;break;case"=":F=U+k+F+$;break;case"^":F=k.slice(0,L=k.length>>1)+U+F+$+k.slice(L);break;default:F=k+U+F+$;break}return s(F)}return D.toString=function(){return f+""},D}function u(f,d){var h=c((f=Kv(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(jp(d)/3)))*3,v=Math.pow(10,-p),y=SB[8+p/3];return function(g){return h(v*g)+y}}return{format:c,formatPrefix:u}}var t1,kD,AX;V0e({thousands:",",grouping:[3],currency:["$",""]});function V0e(t){return t1=j0e(t),kD=t1.format,AX=t1.formatPrefix,t1}function H0e(t){return Math.max(0,-jp(Math.abs(t)))}function W0e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jp(e)/3)))*3-jp(Math.abs(t)))}function G0e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jp(e)-jp(t))+1}function CX(t,e,n,r){var i=CP(t,e,n),s;switch(r=Kv(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=W0e(i,o))&&(r.precision=s),AX(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=G0e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=H0e(i))&&(r.precision=s-(r.type==="%")*2);break}}return kD(r)}function Eu(t){var e=t.domain;return t.ticks=function(n){var r=e();return TP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return CX(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=AP(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function PX(){var t=LD();return t.copy=function(){return Z0(t,PX())},Eo.apply(t,arguments),Eu(t)}function RX(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return RX(t).unknown(e)},t=arguments.length?Array.from(t,rb):[0,1],Eu(n)}function NX(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function EB(t){return Math.log(t)}function MB(t){return Math.exp(t)}function $0e(t){return-Math.log(-t)}function X0e(t){return-Math.exp(-t)}function Y0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function K0e(t){return t===10?Y0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function q0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TB(t){return(e,n)=>-t(-e,n)}function UD(t){const e=t(EB,MB),n=e.domain;let r=10,i,s;function o(){return i=q0e(r),s=K0e(r),n()[0]<0?(i=TB(i),s=TB(s),t($0e,X0e)):t(EB,MB),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),p,v;const y=a==null?10:+a;let g=[];if(!(r%1)&&h-d<y){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(p=1;p<r;++p)if(v=d<0?p/s(-d):p*s(d),!(v<c)){if(v>u)break;g.push(v)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(v=d>0?p/s(-d):p*s(d),!(v<c)){if(v>u)break;g.push(v)}g.length*2<y&&(g=TP(c,u,y))}else g=TP(d,h,Math.min(h-d,y)).map(s);return f?g.reverse():g},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Kv(l)).precision==null&&(l.trim=!0),l=kD(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(NX(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function IX(){const t=UD(JS()).domain([1,10]);return t.copy=()=>Z0(t,IX()).base(t.base()),Eo.apply(t,arguments),t}function AB(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function CB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function FD(t){var e=1,n=t(AB(e),CB(e));return n.constant=function(r){return arguments.length?t(AB(e=+r),CB(e)):e},Eu(n)}function DX(){var t=FD(JS());return t.copy=function(){return Z0(t,DX()).constant(t.constant())},Eo.apply(t,arguments)}function PB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Z0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Q0e(t){return t<0?-t*t:t*t}function BD(t){var e=t($i,$i),n=1;function r(){return n===1?t($i,$i):n===.5?t(Z0e,Q0e):t(PB(n),PB(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Eu(e)}function zD(){var t=BD(JS());return t.copy=function(){return Z0(t,zD()).exponent(t.exponent())},Eo.apply(t,arguments),t}function J0e(){return zD.apply(null,arguments).exponent(.5)}function RB(t){return Math.sign(t)*t*t}function eye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LX(){var t=LD(),e=[0,1],n=!1,r;function i(s){var o=eye(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(RB(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,rb)).map(RB)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return LX(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Eo.apply(i,arguments),Eu(i)}function OX(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=Qve(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[K0(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(tu),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return OX().domain(t).range(e).unknown(r)},Eo.apply(s,arguments)}function kX(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[K0(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return kX().domain([t,e]).range(i).unknown(s)},Eo.apply(Eu(o),arguments)}function UX(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[K0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return UX().domain(t).range(e).unknown(n)},Eo.apply(i,arguments)}const sA=new Date,oA=new Date;function Dr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>Dr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(sA.setTime(+s),oA.setTime(+o),t(sA),t(oA),Math.floor(n(sA,oA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const sb=Dr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);sb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):sb);sb.range;const vl=1e3,po=vl*60,yl=po*60,kl=yl*24,jD=kl*7,NB=kl*30,aA=kl*365,bf=Dr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vl)},(t,e)=>(e-t)/vl,t=>t.getUTCSeconds());bf.range;const VD=Dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vl)},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getMinutes());VD.range;const HD=Dr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getUTCMinutes());HD.range;const WD=Dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vl-t.getMinutes()*po)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getHours());WD.range;const GD=Dr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getUTCHours());GD.range;const Q0=Dr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*po)/kl,t=>t.getDate()-1);Q0.range;const eE=Dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kl,t=>t.getUTCDate()-1);eE.range;const FX=Dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kl,t=>Math.floor(t/kl));FX.range;function Td(t){return Dr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*po)/jD)}const tE=Td(0),ob=Td(1),tye=Td(2),nye=Td(3),Vp=Td(4),rye=Td(5),iye=Td(6);tE.range;ob.range;tye.range;nye.range;Vp.range;rye.range;iye.range;function Ad(t){return Dr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/jD)}const nE=Ad(0),ab=Ad(1),sye=Ad(2),oye=Ad(3),Hp=Ad(4),aye=Ad(5),lye=Ad(6);nE.range;ab.range;sye.range;oye.range;Hp.range;aye.range;lye.range;const $D=Dr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$D.range;const XD=Dr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XD.range;const Ul=Dr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ul.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ul.range;const Fl=Dr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fl.range;function BX(t,e,n,r,i,s){const o=[[bf,1,vl],[bf,5,5*vl],[bf,15,15*vl],[bf,30,30*vl],[s,1,po],[s,5,5*po],[s,15,15*po],[s,30,30*po],[i,1,yl],[i,3,3*yl],[i,6,6*yl],[i,12,12*yl],[r,1,kl],[r,2,2*kl],[n,1,jD],[e,1,NB],[e,3,3*NB],[t,1,aA]];function a(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),p=h?h.range(c,+u+1):[];return d?p.reverse():p}function l(c,u,f){const d=Math.abs(u-c)/f,h=CD(([,,y])=>y).right(o,d);if(h===o.length)return t.every(CP(c/aA,u/aA,f));if(h===0)return sb.every(Math.max(CP(c,u,f),1));const[p,v]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(v)}return[a,l]}const[cye,uye]=BX(Fl,XD,nE,FX,GD,HD),[fye,dye]=BX(Ul,$D,tE,Q0,WD,VD);function lA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function cA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function hye(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=vg(i),u=yg(i),f=vg(s),d=yg(s),h=vg(o),p=yg(o),v=vg(a),y=yg(a),g=vg(l),_=yg(l),w={a:X,A:L,b:k,B:z,c:null,d:UB,e:UB,f:kye,g:$ye,G:Yye,H:Dye,I:Lye,j:Oye,L:zX,m:Uye,M:Fye,p:B,q:G,Q:zB,s:jB,S:Bye,u:zye,U:jye,V:Vye,w:Hye,W:Wye,x:null,X:null,y:Gye,Y:Xye,Z:Kye,"%":BB},b={a:Y,A:Z,b:Q,B:re,c:null,d:FB,e:FB,f:Jye,g:cxe,G:fxe,H:qye,I:Zye,j:Qye,L:VX,m:exe,M:txe,p:J,q:ae,Q:zB,s:jB,S:nxe,u:rxe,U:ixe,V:sxe,w:oxe,W:axe,x:null,X:null,y:lxe,Y:uxe,Z:dxe,"%":BB},M={a:D,A:F,b:U,B:$,c:I,d:OB,e:OB,f:Pye,g:LB,G:DB,H:kB,I:kB,j:Mye,L:Cye,m:Eye,M:Tye,p:R,q:Sye,Q:Nye,s:Iye,S:Aye,u:yye,U:xye,V:wye,w:vye,W:_ye,x:V,X:j,y:LB,Y:DB,Z:bye,"%":Rye};w.x=A(n,w),w.X=A(r,w),w.c=A(e,w),b.x=A(n,b),b.X=A(r,b),b.c=A(e,b);function A(se,fe){return function(ue){var H=[],he=-1,le=0,me=se.length,de,ke,_e;for(ue instanceof Date||(ue=new Date(+ue));++he<me;)se.charCodeAt(he)===37&&(H.push(se.slice(le,he)),(ke=IB[de=se.charAt(++he)])!=null?de=se.charAt(++he):ke=de==="e"?" ":"0",(_e=fe[de])&&(de=_e(ue,ke)),H.push(de),le=he+1);return H.push(se.slice(le,he)),H.join("")}}function C(se,fe){return function(ue){var H=gg(1900,void 0,1),he=N(H,se,ue+="",0),le,me;if(he!=ue.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(fe&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(le=cA(gg(H.y,0,1)),me=le.getUTCDay(),le=me>4||me===0?ab.ceil(le):ab(le),le=eE.offset(le,(H.V-1)*7),H.y=le.getUTCFullYear(),H.m=le.getUTCMonth(),H.d=le.getUTCDate()+(H.w+6)%7):(le=lA(gg(H.y,0,1)),me=le.getDay(),le=me>4||me===0?ob.ceil(le):ob(le),le=Q0.offset(le,(H.V-1)*7),H.y=le.getFullYear(),H.m=le.getMonth(),H.d=le.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),me="Z"in H?cA(gg(H.y,0,1)).getUTCDay():lA(gg(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(me+5)%7:H.w+H.U*7-(me+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,cA(H)):lA(H)}}function N(se,fe,ue,H){for(var he=0,le=fe.length,me=ue.length,de,ke;he<le;){if(H>=me)return-1;if(de=fe.charCodeAt(he++),de===37){if(de=fe.charAt(he++),ke=M[de in IB?fe.charAt(he++):de],!ke||(H=ke(se,ue,H))<0)return-1}else if(de!=ue.charCodeAt(H++))return-1}return H}function R(se,fe,ue){var H=c.exec(fe.slice(ue));return H?(se.p=u.get(H[0].toLowerCase()),ue+H[0].length):-1}function D(se,fe,ue){var H=h.exec(fe.slice(ue));return H?(se.w=p.get(H[0].toLowerCase()),ue+H[0].length):-1}function F(se,fe,ue){var H=f.exec(fe.slice(ue));return H?(se.w=d.get(H[0].toLowerCase()),ue+H[0].length):-1}function U(se,fe,ue){var H=g.exec(fe.slice(ue));return H?(se.m=_.get(H[0].toLowerCase()),ue+H[0].length):-1}function $(se,fe,ue){var H=v.exec(fe.slice(ue));return H?(se.m=y.get(H[0].toLowerCase()),ue+H[0].length):-1}function I(se,fe,ue){return N(se,e,fe,ue)}function V(se,fe,ue){return N(se,n,fe,ue)}function j(se,fe,ue){return N(se,r,fe,ue)}function X(se){return o[se.getDay()]}function L(se){return s[se.getDay()]}function k(se){return l[se.getMonth()]}function z(se){return a[se.getMonth()]}function B(se){return i[+(se.getHours()>=12)]}function G(se){return 1+~~(se.getMonth()/3)}function Y(se){return o[se.getUTCDay()]}function Z(se){return s[se.getUTCDay()]}function Q(se){return l[se.getUTCMonth()]}function re(se){return a[se.getUTCMonth()]}function J(se){return i[+(se.getUTCHours()>=12)]}function ae(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var fe=A(se+="",w);return fe.toString=function(){return se},fe},parse:function(se){var fe=C(se+="",!1);return fe.toString=function(){return se},fe},utcFormat:function(se){var fe=A(se+="",b);return fe.toString=function(){return se},fe},utcParse:function(se){var fe=C(se+="",!0);return fe.toString=function(){return se},fe}}}var IB={"-":"",_:" ",0:"0"},Yr=/^\s*\d+/,pye=/^%/,mye=/[\\^$*+?|[\]().{}]/g;function rn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function gye(t){return t.replace(mye,"\\$&")}function vg(t){return new RegExp("^(?:"+t.map(gye).join("|")+")","i")}function yg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function vye(t,e,n){var r=Yr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yye(t,e,n){var r=Yr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function xye(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wye(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _ye(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function DB(t,e,n){var r=Yr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function LB(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bye(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sye(t,e,n){var r=Yr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Eye(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OB(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Mye(t,e,n){var r=Yr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kB(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tye(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Aye(t,e,n){var r=Yr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Cye(t,e,n){var r=Yr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pye(t,e,n){var r=Yr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Rye(t,e,n){var r=pye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Nye(t,e,n){var r=Yr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Iye(t,e,n){var r=Yr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function UB(t,e){return rn(t.getDate(),e,2)}function Dye(t,e){return rn(t.getHours(),e,2)}function Lye(t,e){return rn(t.getHours()%12||12,e,2)}function Oye(t,e){return rn(1+Q0.count(Ul(t),t),e,3)}function zX(t,e){return rn(t.getMilliseconds(),e,3)}function kye(t,e){return zX(t,e)+"000"}function Uye(t,e){return rn(t.getMonth()+1,e,2)}function Fye(t,e){return rn(t.getMinutes(),e,2)}function Bye(t,e){return rn(t.getSeconds(),e,2)}function zye(t){var e=t.getDay();return e===0?7:e}function jye(t,e){return rn(tE.count(Ul(t)-1,t),e,2)}function jX(t){var e=t.getDay();return e>=4||e===0?Vp(t):Vp.ceil(t)}function Vye(t,e){return t=jX(t),rn(Vp.count(Ul(t),t)+(Ul(t).getDay()===4),e,2)}function Hye(t){return t.getDay()}function Wye(t,e){return rn(ob.count(Ul(t)-1,t),e,2)}function Gye(t,e){return rn(t.getFullYear()%100,e,2)}function $ye(t,e){return t=jX(t),rn(t.getFullYear()%100,e,2)}function Xye(t,e){return rn(t.getFullYear()%1e4,e,4)}function Yye(t,e){var n=t.getDay();return t=n>=4||n===0?Vp(t):Vp.ceil(t),rn(t.getFullYear()%1e4,e,4)}function Kye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rn(e/60|0,"0",2)+rn(e%60,"0",2)}function FB(t,e){return rn(t.getUTCDate(),e,2)}function qye(t,e){return rn(t.getUTCHours(),e,2)}function Zye(t,e){return rn(t.getUTCHours()%12||12,e,2)}function Qye(t,e){return rn(1+eE.count(Fl(t),t),e,3)}function VX(t,e){return rn(t.getUTCMilliseconds(),e,3)}function Jye(t,e){return VX(t,e)+"000"}function exe(t,e){return rn(t.getUTCMonth()+1,e,2)}function txe(t,e){return rn(t.getUTCMinutes(),e,2)}function nxe(t,e){return rn(t.getUTCSeconds(),e,2)}function rxe(t){var e=t.getUTCDay();return e===0?7:e}function ixe(t,e){return rn(nE.count(Fl(t)-1,t),e,2)}function HX(t){var e=t.getUTCDay();return e>=4||e===0?Hp(t):Hp.ceil(t)}function sxe(t,e){return t=HX(t),rn(Hp.count(Fl(t),t)+(Fl(t).getUTCDay()===4),e,2)}function oxe(t){return t.getUTCDay()}function axe(t,e){return rn(ab.count(Fl(t)-1,t),e,2)}function lxe(t,e){return rn(t.getUTCFullYear()%100,e,2)}function cxe(t,e){return t=HX(t),rn(t.getUTCFullYear()%100,e,2)}function uxe(t,e){return rn(t.getUTCFullYear()%1e4,e,4)}function fxe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hp(t):Hp.ceil(t),rn(t.getUTCFullYear()%1e4,e,4)}function dxe(){return"+0000"}function BB(){return"%"}function zB(t){return+t}function jB(t){return Math.floor(+t/1e3)}var eh,WX,GX;hxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hxe(t){return eh=hye(t),WX=eh.format,eh.parse,GX=eh.utcFormat,eh.utcParse,eh}function pxe(t){return new Date(t)}function mxe(t){return t instanceof Date?+t:+new Date(+t)}function YD(t,e,n,r,i,s,o,a,l,c){var u=LD(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),v=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),_=c("%b %d"),w=c("%B"),b=c("%Y");function M(A){return(l(A)<A?h:a(A)<A?p:o(A)<A?v:s(A)<A?y:r(A)<A?i(A)<A?g:_:n(A)<A?w:b)(A)}return u.invert=function(A){return new Date(f(A))},u.domain=function(A){return arguments.length?d(Array.from(A,mxe)):d().map(pxe)},u.ticks=function(A){var C=d();return t(C[0],C[C.length-1],A??10)},u.tickFormat=function(A,C){return C==null?M:c(C)},u.nice=function(A){var C=d();return(!A||typeof A.range!="function")&&(A=e(C[0],C[C.length-1],A??10)),A?d(NX(C,A)):u},u.copy=function(){return Z0(u,YD(t,e,n,r,i,s,o,a,l,c))},u}function gxe(){return Eo.apply(YD(fye,dye,Ul,$D,tE,Q0,WD,VD,bf,WX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vxe(){return Eo.apply(YD(cye,uye,Fl,XD,nE,eE,GD,HD,bf,GX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rE(){var t=0,e=1,n,r,i,s,o=$i,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(d){var h,p;return arguments.length?([h,p]=d,o=f(h,p),c):[o(0),o(1)]}}return c.range=u(El),c.rangeRound=u(DD),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Mu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $X(){var t=Eu(rE()($i));return t.copy=function(){return Mu(t,$X())},Kl.apply(t,arguments)}function XX(){var t=UD(rE()).domain([1,10]);return t.copy=function(){return Mu(t,XX()).base(t.base())},Kl.apply(t,arguments)}function YX(){var t=FD(rE());return t.copy=function(){return Mu(t,YX()).constant(t.constant())},Kl.apply(t,arguments)}function KD(){var t=BD(rE());return t.copy=function(){return Mu(t,KD()).exponent(t.exponent())},Kl.apply(t,arguments)}function yxe(){return KD.apply(null,arguments).exponent(.5)}function KX(){var t=[],e=$i;function n(r){if(r!=null&&!isNaN(r=+r))return e((K0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Zve(t,s/r))},n.copy=function(){return KX(e).domain(t)},Kl.apply(n,arguments)}function iE(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=$i,u,f=!1,d;function h(v){return isNaN(v=+v)?d:(v=.5+((v=+u(v))-s)*(r*v<r*s?a:l),c(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e,n]=v,i=u(t=+t),s=u(e=+e),o=u(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h):[t,e,n]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(c=v,h):c};function p(v){return function(y){var g,_,w;return arguments.length?([g,_,w]=y,c=R0e(v,[g,_,w]),h):[c(0),c(.5),c(1)]}}return h.range=p(El),h.rangeRound=p(DD),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return u=v,i=v(t),s=v(e),o=v(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h}}function qX(){var t=Eu(iE()($i));return t.copy=function(){return Mu(t,qX())},Kl.apply(t,arguments)}function ZX(){var t=UD(iE()).domain([.1,1,10]);return t.copy=function(){return Mu(t,ZX()).base(t.base())},Kl.apply(t,arguments)}function QX(){var t=FD(iE());return t.copy=function(){return Mu(t,QX()).constant(t.constant())},Kl.apply(t,arguments)}function qD(){var t=BD(iE());return t.copy=function(){return Mu(t,qD()).exponent(t.exponent())},Kl.apply(t,arguments)}function xxe(){return qD.apply(null,arguments).exponent(.5)}const Wg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:RD,scaleDiverging:qX,scaleDivergingLog:ZX,scaleDivergingPow:qD,scaleDivergingSqrt:xxe,scaleDivergingSymlog:QX,scaleIdentity:RX,scaleImplicit:PP,scaleLinear:PX,scaleLog:IX,scaleOrdinal:PD,scalePoint:e0e,scalePow:zD,scaleQuantile:OX,scaleQuantize:kX,scaleRadial:LX,scaleSequential:$X,scaleSequentialLog:XX,scaleSequentialPow:KD,scaleSequentialQuantile:KX,scaleSequentialSqrt:yxe,scaleSequentialSymlog:YX,scaleSqrt:J0e,scaleSymlog:DX,scaleThreshold:UX,scaleTime:gxe,scaleUtc:vxe,tickFormat:CX},Symbol.toStringTag,{value:"Module"}));var Cd=t=>t.chartData,ZD=Le([Cd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),wxe=(t,e,n,r)=>r?ZD(t):Cd(t);function Wp(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(na(e)&&na(n))return!0}return!1}function VB(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function _xe(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(na(n))i=n;else if(typeof n=="function")return;if(na(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(Wp(o))return o}}function bxe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Wp(r))return VB(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,o,a;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Xt(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&U4.test(i)){var l=U4.exec(i);if(l==null||e==null)o=void 0;else{var c=+l[1];o=e[0]-c}}else o=e==null?void 0:e[0];if(s==="auto")e!=null&&(a=Math.max(...e));else if(Xt(s))a=s;else if(typeof s=="function")try{e!=null&&(a=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&F4.test(s)){var u=F4.exec(s);if(u==null||e==null)a=void 0;else{var f=+u[1];a=e[1]+f}}else a=e==null?void 0:e[1];var d=[o,a];if(Wp(d))return e==null?d:VB(d,e,n)}}}var pm=1e9,Sxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JD,Rn=!0,wo="[DecimalError] ",Bf=wo+"Invalid argument: ",QD=wo+"Exponent out of range: ",mm=Math.floor,cf=Math.pow,Exe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ns,jr=1e7,Mn=7,JX=9007199254740991,lb=mm(JX/Mn),ct={};ct.absoluteValue=ct.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ct.comparedTo=ct.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ct.dividedBy=ct.div=function(t){return Ml(this,new this.constructor(t))};ct.dividedToIntegerBy=ct.idiv=function(t){var e=this,n=e.constructor;return mn(Ml(e,new n(t),0,1),n.precision)};ct.equals=ct.eq=function(t){return!this.cmp(t)};ct.exponent=function(){return Er(this)};ct.greaterThan=ct.gt=function(t){return this.cmp(t)>0};ct.greaterThanOrEqualTo=ct.gte=function(t){return this.cmp(t)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(t){return this.cmp(t)<0};ct.lessThanOrEqualTo=ct.lte=function(t){return this.cmp(t)<1};ct.logarithm=ct.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ns))throw Error(wo+"NaN");if(n.s<1)throw Error(wo+(n.s?"NaN":"-Infinity"));return n.eq(Ns)?new r(0):(Rn=!1,e=Ml(qv(n,s),qv(t,s),s),Rn=!0,mn(e,i))};ct.minus=ct.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nY(e,t):eY(e,(t.s=-t.s,t))};ct.modulo=ct.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(wo+"NaN");return n.s?(Rn=!1,e=Ml(n,t,0,1).times(t),Rn=!0,n.minus(e)):mn(new r(n),i)};ct.naturalExponential=ct.exp=function(){return tY(this)};ct.naturalLogarithm=ct.ln=function(){return qv(this)};ct.negated=ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ct.plus=ct.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eY(e,t):nY(e,(t.s=-t.s,t))};ct.precision=ct.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bf+t);if(e=Er(i)+1,r=i.d.length-1,n=r*Mn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ct.squareRoot=ct.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(wo+"NaN")}for(t=Er(a),Rn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Ma(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=mm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Ml(a,s,o+2)).times(.5),Ma(s.d).slice(0,o)===(e=Ma(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(mn(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return Rn=!0,mn(r,n)};ct.times=ct.mul=function(t){var e,n,r,i,s,o,a,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=h.length,l<c&&(s=d,d=h,h=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+h[r]*d[i-r-1]+e,s[i--]=a%jr|0,e=a/jr|0;s[i]=(s[i]+e)%jr|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Rn?mn(t,f.precision):t};ct.toDecimalPlaces=ct.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fa(t,0,pm),e===void 0?e=r.rounding:Fa(e,0,8),mn(n,t+Er(n)+1,e))};ct.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=cd(r,!0):(Fa(t,0,pm),e===void 0?e=i.rounding:Fa(e,0,8),r=mn(new i(r),t+1,e),n=cd(r,!0,t+1)),n};ct.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?cd(i):(Fa(t,0,pm),e===void 0?e=s.rounding:Fa(e,0,8),r=mn(new s(i),t+Er(i)+1,e),n=cd(r.abs(),!1,t+Er(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ct.toInteger=ct.toint=function(){var t=this,e=t.constructor;return mn(new e(t),Er(t)+1,e.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Ns);if(a=new l(a),!a.s){if(t.s<1)throw Error(wo+"Infinity");return a}if(a.eq(Ns))return a;if(r=l.precision,t.eq(Ns))return mn(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=u<0?-u:u)<=JX){for(i=new l(Ns),e=Math.ceil(r/Mn+4),Rn=!1;n%2&&(i=i.times(a),WB(i.d,e)),n=mm(n/2),n!==0;)a=a.times(a),WB(a.d,e);return Rn=!0,t.s<0?new l(Ns).div(i):mn(i,r)}}else if(s<0)throw Error(wo+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Rn=!1,i=t.times(qv(a,r+c)),Rn=!0,i=tY(i),i.s=s,i};ct.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Er(i),r=cd(i,n<=s.toExpNeg||n>=s.toExpPos)):(Fa(t,1,pm),e===void 0?e=s.rounding:Fa(e,0,8),i=mn(new s(i),t,e),n=Er(i),r=cd(i,t<=n||n<=s.toExpNeg,t)),r};ct.toSignificantDigits=ct.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fa(t,1,pm),e===void 0?e=r.rounding:Fa(e,0,8)),mn(new r(n),t,e)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Er(t),n=t.constructor;return cd(t,e<=n.toExpNeg||e>=n.toExpPos)};function eY(t,e){var n,r,i,s,o,a,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Rn?mn(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(f/Mn),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/jr|0,l[s]%=jr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Rn?mn(e,f):e}function Fa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bf+t)}function Ma(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Mn-r.length,n&&(s+=Nc(n)),s+=r;o=t[e],r=o+"",n=Mn-r.length,n&&(s+=Nc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ml=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%jr|0,o=s/jr|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*jr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,u,f,d,h,p,v,y,g,_,w,b,M,A,C,N,R=r.constructor,D=r.s==i.s?1:-1,F=r.d,U=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(wo+"Division by zero");for(l=r.e-i.e,C=U.length,M=F.length,h=new R(D),p=h.d=[],c=0;U[c]==(F[c]||0);)++c;if(U[c]>(F[c]||0)&&--l,s==null?_=s=R.precision:o?_=s+(Er(r)-Er(i))+1:_=s,_<0)return new R(0);if(_=_/Mn+2|0,c=0,C==1)for(u=0,U=U[0],_++;(c<M||u)&&_--;c++)w=u*jr+(F[c]||0),p[c]=w/U|0,u=w%U|0;else{for(u=jr/(U[0]+1)|0,u>1&&(U=t(U,u),F=t(F,u),C=U.length,M=F.length),b=C,v=F.slice(0,C),y=v.length;y<C;)v[y++]=0;N=U.slice(),N.unshift(0),A=U[0],U[1]>=jr/2&&++A;do u=0,a=e(U,v,C,y),a<0?(g=v[0],C!=y&&(g=g*jr+(v[1]||0)),u=g/A|0,u>1?(u>=jr&&(u=jr-1),f=t(U,u),d=f.length,y=v.length,a=e(f,v,d,y),a==1&&(u--,n(f,C<d?N:U,d))):(u==0&&(a=u=1),f=U.slice()),d=f.length,d<y&&f.unshift(0),n(v,f,y),a==-1&&(y=v.length,a=e(U,v,C,y),a<1&&(u++,n(v,C<y?N:U,y))),y=v.length):a===0&&(u++,v=[0]),p[c++]=u,a&&v[0]?v[y++]=F[b]||0:(v=[F[b]],y=1);while((b++<M||v[0]!==void 0)&&_--)}return p[0]||p.shift(),h.e=l,mn(h,o?s+Er(h)+1:s)}}();function tY(t,e){var n,r,i,s,o,a,l=0,c=0,u=t.constructor,f=u.precision;if(Er(t)>16)throw Error(QD+Er(t));if(!t.s)return new u(Ns);for(e==null?(Rn=!1,a=f):a=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(cf(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new u(Ns),u.precision=a;;){if(i=mn(i.times(t),a),n=n.times(++l),o=s.plus(Ml(i,n,a)),Ma(o.d).slice(0,a)===Ma(s.d).slice(0,a)){for(;c--;)s=mn(s.times(s),a);return u.precision=f,e==null?(Rn=!0,mn(s,f)):s}s=o}}function Er(t){for(var e=t.e*Mn,n=t.d[0];n>=10;n/=10)e++;return e}function uA(t,e,n){if(e>t.LN10.sd())throw Rn=!0,n&&(t.precision=n),Error(wo+"LN10 precision limit exceeded");return mn(new t(t.LN10),e)}function Nc(t){for(var e="";t--;)e+="0";return e}function qv(t,e){var n,r,i,s,o,a,l,c,u,f=1,d=10,h=t,p=h.d,v=h.constructor,y=v.precision;if(h.s<1)throw Error(wo+(h.s?"NaN":"-Infinity"));if(h.eq(Ns))return new v(0);if(e==null?(Rn=!1,c=y):c=e,h.eq(10))return e==null&&(Rn=!0),uA(v,c);if(c+=d,v.precision=c,n=Ma(p),r=n.charAt(0),s=Er(h),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Ma(h.d),r=n.charAt(0),f++;s=Er(h),r>1?(h=new v("0."+n),s++):h=new v(r+"."+n.slice(1))}else return l=uA(v,c+2,y).times(s+""),h=qv(new v(r+"."+n.slice(1)),c-d).plus(l),v.precision=y,e==null?(Rn=!0,mn(h,y)):h;for(a=o=h=Ml(h.minus(Ns),h.plus(Ns),c),u=mn(h.times(h),c),i=3;;){if(o=mn(o.times(u),c),l=a.plus(Ml(o,new v(i),c)),Ma(l.d).slice(0,c)===Ma(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(uA(v,c+2,y).times(s+""))),a=Ml(a,new v(f),c),v.precision=y,e==null?(Rn=!0,mn(a,y)):a;a=l,i+=2}}function HB(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=mm(n/Mn),t.d=[],r=(n+1)%Mn,n<0&&(r+=Mn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mn;r<i;)t.d.push(+e.slice(r,r+=Mn));e=e.slice(r),r=Mn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Rn&&(t.e>lb||t.e<-lb))throw Error(QD+n)}else t.s=0,t.e=0,t.d=[0];return t}function mn(t,e,n){var r,i,s,o,a,l,c,u,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Mn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Mn),s=f.length,u>=s)return t;for(c=s=f[u],o=1;s>=10;s/=10)o++;r%=Mn,i=r-Mn+o}if(n!==void 0&&(s=cf(10,o-i-1),a=c/s%10|0,l=e<0||f[u+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/cf(10,o-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=Er(t),f.length=1,e=e-s-1,f[0]=cf(10,(Mn-e%Mn)%Mn),t.e=mm(-e/Mn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,s=1,u--):(f.length=u+1,s=cf(10,Mn-r),f[u]=i>0?(c/cf(10,o-i)%cf(10,i)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==jr&&(f[0]=1,++t.e);break}else{if(f[u]+=s,f[u]!=jr)break;f[u--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Rn&&(t.e>lb||t.e<-lb))throw Error(QD+Er(t));return t}function nY(t,e){var n,r,i,s,o,a,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Rn?mn(e,h):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(h/Mn),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=jr-1;--l[s],l[i]+=jr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Rn?mn(e,h):e):new d(0)}function cd(t,e,n){var r,i=Er(t),s=Ma(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Nc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Nc(-i-1)+s,n&&(r=n-o)>0&&(s+=Nc(r))):i>=o?(s+=Nc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Nc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Nc(r))),t.s<0?"-"+s:s}function WB(t,e){if(t.length>e)return t.length=e,!0}function rY(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return HB(o,s.toString())}else if(typeof s!="string")throw Error(Bf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Exe.test(s))HB(o,s);else throw Error(Bf+s)}if(i.prototype=ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=rY,i.config=i.set=Mxe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Mxe(t){if(!t||typeof t!="object")throw Error(wo+"Object expected");var e,n,r,i=["precision",1,pm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(mm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bf+n+": "+r);return this}var JD=rY(Sxe);Ns=new JD(1);const un=JD;var Txe=t=>t,iY={"@@functional/placeholder":!0},sY=t=>t===iY,GB=t=>function e(){return arguments.length===0||arguments.length===1&&sY(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},oY=(t,e)=>t===1?e:GB(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==iY).length;return s>=t?e(...r):oY(t-s,GB(function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=r.map(u=>sY(u)?a.shift():u);return e(...c,...a)}))}),sE=t=>oY(t.length,t),LP=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Axe=sE((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Cxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Txe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((a,l)=>l(a),s(...arguments))}},OP=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),aY=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((o,a)=>{var l;return o===((l=e)===null||l===void 0?void 0:l[a])})||(e=i,n=t(...i)),n}};function lY(t){var e;return t===0?e=1:e=Math.floor(new un(t).abs().log(10).toNumber())+1,e}function cY(t,e,n){for(var r=new un(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}sE((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});sE((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});sE((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var uY=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},fY=(t,e,n)=>{if(t.lte(0))return new un(0);var r=lY(t.toNumber()),i=new un(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new un(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?new un(l.toNumber()):new un(Math.ceil(l.toNumber()))},Pxe=(t,e,n)=>{var r=new un(1),i=new un(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new un(10).pow(lY(t)-1),i=new un(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new un(Math.floor(t)))}else t===0?i=new un(Math.floor((e-1)/2)):n||(i=new un(Math.floor(t)));var o=Math.floor((e-1)/2),a=Cxe(Axe(l=>i.add(new un(l-o).mul(r)).toNumber()),LP);return a(0,e)},dY=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new un(0),tickMin:new un(0),tickMax:new un(0)};var o=fY(new un(n).sub(e).div(r-1),i,s),a;e<=0&&n>=0?a=new un(0):(a=new un(e).add(n).div(2),a=a.sub(new un(a).mod(o)));var l=Math.ceil(a.sub(e).div(o).toNumber()),c=Math.ceil(new un(n).sub(a).div(o).toNumber()),u=l+c+1;return u>r?dY(e,n,r,i,s+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:o,tickMin:a.sub(new un(l).mul(o)),tickMax:a.add(new un(c).mul(o))})};function Rxe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[o,a]=uY([e,n]);if(o===-1/0||a===1/0){var l=a===1/0?[o,...LP(0,r-1).map(()=>1/0)]:[...LP(0,r-1).map(()=>-1/0),a];return e>n?OP(l):l}if(o===a)return Pxe(o,r,i);var{step:c,tickMin:u,tickMax:f}=dY(o,a,s,i,0),d=cY(u,f.add(new un(.1).mul(c)),c);return e>n?OP(d):d}function Nxe(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=uY([n,r]);if(s===-1/0||o===1/0)return[n,r];if(s===o)return[s];var a=Math.max(e,2),l=fY(new un(o).sub(s).div(a-1),i,0),c=[...cY(new un(s),new un(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?OP(c):c}var Ixe=aY(Rxe),Dxe=aY(Nxe),Lxe=t=>t.rootProps.barCategoryGap,J0=t=>t.rootProps.stackOffset,eL=t=>t.options.chartName,tL=t=>t.rootProps.syncId,hY=t=>t.rootProps.syncMethod,nL=t=>t.options.eventEmitter,hl={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Ps={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},oE=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Oxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hl.angleAxisId,includeHidden:!1,name:void 0,reversed:hl.reversed,scale:hl.scale,tick:hl.tick,tickCount:void 0,ticks:void 0,type:hl.type,unit:void 0},kxe={allowDataOverflow:Ps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ps.scale,tick:Ps.tick,tickCount:Ps.tickCount,ticks:void 0,type:Ps.type,unit:void 0},Uxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:hl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hl.scale,tick:hl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Fxe={allowDataOverflow:Ps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ps.scale,tick:Ps.tick,tickCount:Ps.tickCount,ticks:void 0,type:"category",unit:void 0},rL=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Uxe:Oxe,iL=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Fxe:kxe,aE=t=>t.polarOptions,sL=Le([Xl,Yl,Ni],H7),pY=Le([aE,sL],(t,e)=>{if(t!=null)return Pa(t.innerRadius,e,0)}),mY=Le([aE,sL],(t,e)=>{if(t!=null)return Pa(t.outerRadius,e,e*.8)}),Bxe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},gY=Le([aE],Bxe);Le([rL,gY],oE);var vY=Le([sL,pY,mY],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Le([iL,vY],oE);var zxe=Le([Hn,aE,pY,mY,Xl,Yl],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:a,startAngle:l,endAngle:c}=e;return{cx:Pa(o,i,i/2),cy:Pa(a,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),hr=(t,e)=>e,ey=(t,e,n)=>n;function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){jxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jxe(t,e,n){return(e=Vxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vxe(t){var e=Hxe(t,"string");return typeof e=="symbol"?e:e+""}function Hxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kP=[0,"auto"],Wxe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gm=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Wxe},Gxe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kP,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:YS},vm=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Gxe},$xe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oL=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??$xe},pr=(t,e,n)=>{switch(e){case"xAxis":return gm(t,n);case"yAxis":return vm(t,n);case"zAxis":return oL(t,n);case"angleAxis":return rL(t,n);case"radiusAxis":return iL(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xxe=(t,e,n)=>{switch(e){case"xAxis":return gm(t,n);case"yAxis":return vm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ty=(t,e,n)=>{switch(e){case"xAxis":return gm(t,n);case"yAxis":return vm(t,n);case"angleAxis":return rL(t,n);case"radiusAxis":return iL(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yY=t=>t.graphicalItems.countOfBars>0;function aL(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Yxe=t=>t.graphicalItems.cartesianItems,Kxe=Le([hr,ey],aL),lL=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ny=Le([Yxe,pr,Kxe],lL),xY=t=>t.filter(e=>e.stackId===void 0),qxe=Le([ny],xY),cL=t=>t.map(e=>e.data).filter(Boolean).flat(1),Zxe=Le([ny],cL),uL=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},lE=Le([Zxe,wxe],uL),fL=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Wr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Wr(i,r)}))):t.map(r=>({value:r})),cE=Le([lE,pr,ny],fL);function wY(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Pd(t){return t.filter(e=>Ll(e)||e instanceof Date).map(Number).filter(e=>ta(e)===!1)}function Qxe(t,e,n){return!n||typeof e!="number"||ta(e)?[]:n.length?Pd(n.flatMap(r=>{var i=Wr(t,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!na(s)||!na(o)))return[e-s,e+o]})):[]}var _Y=(t,e,n)=>{var r={},i=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[o,a]=s,l=a.map(c=>c.dataKey);return[o,{stackedData:Kme(t,l,n),graphicalItems:a}]}))},Jxe=Le([lE,ny,J0],_Y),bY=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=Qme(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},e1e=Le([Jxe,Cd,hr],bY),SY=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(s=>{var o,a,l=(o=s.errorBars)===null||o===void 0?void 0:o.filter(u=>wY(r,u)),c=Wr(i,(a=e.dataKey)!==null&&a!==void 0?a:s.dataKey);return{value:c,errorDomain:Qxe(i,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:Wr(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),t1e=Le(lE,pr,qxe,hr,SY);function n1e(t){var{value:e}=t;if(Ll(e)||e instanceof Date)return e}var r1e=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Pd(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},i1e=(t,e,n)=>{var r=t.map(n1e).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&b$(r))?mX(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},dL=t=>{var e;if(t==null||!("domain"in t))return kP;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Pd(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:kP},hL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),a=Math.max(...s);return[o,a]}},EY=t=>t.referenceElements.dots,ym=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),s1e=Le([EY,hr,ey],ym),MY=t=>t.referenceElements.areas,o1e=Le([MY,hr,ey],ym),TY=t=>t.referenceElements.lines,a1e=Le([TY,hr,ey],ym),AY=(t,e)=>{var n=Pd(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},l1e=Le(s1e,hr,AY),CY=(t,e)=>{var n=Pd(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},c1e=Le([o1e,hr],CY),PY=(t,e)=>{var n=Pd(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},u1e=Le(a1e,hr,PY),f1e=Le(l1e,u1e,c1e,(t,e,n)=>hL(t,n,e)),RY=Le([pr],dL),pL=(t,e,n,r,i)=>{var s=_xe(e,t.allowDataOverflow);return s??bxe(e,hL(n,i,r1e(r)),t.allowDataOverflow)},d1e=Le([pr,RY,e1e,t1e,f1e],pL),h1e=[0,1],mL=(t,e,n,r,i,s,o)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:a,type:l}=t,c=Ed(e,s);return c&&a==null?mX(0,n.length):l==="category"?i1e(r,t,c):i==="expand"?h1e:o}},gL=Le([pr,Hn,lE,cE,J0,hr,d1e],mL),NY=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:o}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var a="scale".concat(X0(s));return a in Wg?a:"point"}}},xm=Le([pr,Hn,yY,eL,hr],NY);function p1e(t){if(t!=null){if(t in Wg)return Wg[t]();var e="scale".concat(X0(t));if(e in Wg)return Wg[e]()}}function vL(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=p1e(e);if(i!=null){var s=i.domain(n).range(r);return Gme(s),s}}}var yL=(t,e,n)=>{var r=dL(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Wp(t))return Ixe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Wp(t))return Dxe(t,e.tickCount,e.allowDecimals)}},xL=Le([gL,ty,xm],yL),wL=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Wp(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],o=e[1],a=n[n.length-1];return[Math.min(i,s),Math.max(o,a)]}return e},m1e=Le([pr,gL,xL,hr],wL),g1e=Le(cE,pr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Pd(t.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/i}}),IY=Le(g1e,Hn,Lxe,Ni,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!na(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var o=Pa(n,t*s),a=t*s/2;return a-o-(a-o)/s*o}return 0}),v1e=(t,e)=>{var n=gm(t,e);return n==null||typeof n.padding!="string"?0:IY(t,"xAxis",e,n.padding)},y1e=(t,e)=>{var n=vm(t,e);return n==null||typeof n.padding!="string"?0:IY(t,"yAxis",e,n.padding)},x1e=Le(gm,v1e,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),w1e=Le(vm,y1e,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),_1e=Le([Ni,x1e,qS,KS,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),b1e=Le([Ni,Hn,w1e,qS,KS,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ry=(t,e,n,r)=>{var i;switch(e){case"xAxis":return _1e(t,n,r);case"yAxis":return b1e(t,n,r);case"zAxis":return(i=oL(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return gY(t);case"radiusAxis":return vY(t,n);default:return}},DY=Le([pr,ry],oE),uE=Le([pr,xm,m1e,DY],vL);Le(ny,hr,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>wY(e,n)));function LY(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var fE=(t,e)=>e,dE=(t,e,n)=>n,S1e=Le(ED,fE,dE,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LY)),E1e=Le(MD,fE,dE,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LY)),OY=(t,e)=>({width:t.width,height:e.height}),M1e=(t,e)=>{var n=typeof e.width=="number"?e.width:YS;return{width:n,height:t.height}};Le(Ni,gm,OY);var T1e=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},A1e=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}};Le(Yl,Ni,S1e,fE,dE,(t,e,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=OY(e,a);o==null&&(o=T1e(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;s[a.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),s});Le(Xl,Ni,E1e,fE,dE,(t,e,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=M1e(e,a);o==null&&(o=A1e(e,r,t));var c=r==="left"&&!i||r==="right"&&i;s[a.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),s});Le(Ni,vm,(t,e)=>{var n=typeof e.width=="number"?e.width:YS;return{width:n,height:t.height}});var kY=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,a=Ed(t,r),l=e.map(c=>c.value);if(o&&a&&s==="category"&&i&&b$(l))return l}},_L=Le([Hn,cE,pr,hr],kY),UY=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=Ed(t,r);if(o&&(i==="number"||s!=="auto"))return e.map(a=>a.value)}},bL=Le([Hn,cE,ty,hr],UY);Le([Hn,Xxe,xm,uE,_L,bL,ry,xL,hr],(t,e,n,r,i,s,o,a,l)=>{if(e==null)return null;var c=Ed(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:a,range:o,realScaleType:n,scale:r}});var C1e=(t,e,n,r,i,s,o,a,l)=>{if(!(e==null||r==null)){var c=Ed(t,l),{type:u,ticks:f,tickCount:d}=e,h=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;p=l==="angleAxis"&&s!=null&&s.length>=2?Os(s[0]-s[1])*2*p:p;var v=f||i;if(v){var y=v.map((g,_)=>{var w=o?o.indexOf(g):g;return{index:_,coordinate:r(w)+p,value:g,offset:p}});return y.filter(g=>!ta(g.coordinate))}return c&&a?a.map((g,_)=>({coordinate:r(g)+p,value:g,index:_,offset:p})):r.ticks?r.ticks(d).map(g=>({coordinate:r(g)+p,value:g,offset:p})):r.domain().map((g,_)=>({coordinate:r(g)+p,value:o?o[g]:g,index:_,offset:p}))}};Le([Hn,ty,xm,uE,xL,ry,_L,bL,hr],C1e);var P1e=(t,e,n,r,i,s,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=Ed(t,o),{tickCount:l}=e,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Os(r[0]-r[1])*2*c:c,a&&s?s.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}};Le([Hn,ty,uE,ry,_L,bL,hr],P1e);Le(pr,uE,(t,e)=>{if(!(t==null||e==null))return cb(cb({},t),{},{scale:e})});var R1e=Le([pr,xm,gL,DY],vL);Le((t,e,n)=>oL(t,n),R1e,(t,e)=>{if(!(t==null||e==null))return cb(cb({},t),{},{scale:e})});var N1e=Le([Hn,ED,MD],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FY=t=>t.options.defaultTooltipEventType,BY=t=>t.options.validateTooltipEventTypes;function zY(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function SL(t,e){var n=FY(t),r=BY(t);return zY(e,n,r)}function I1e(t){return Gt(e=>SL(e,t))}var jY=(t,e)=>{var n,r=Number(e);if(!(ta(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},D1e=t=>t.tooltip.settings,Lc={active:!1,index:null,dataKey:void 0,coordinate:void 0},L1e={itemInteraction:{click:Lc,hover:Lc},axisInteraction:{click:Lc,hover:Lc},keyboardInteraction:Lc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VY=So({name:"tooltip",initialState:L1e,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Sl(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:O1e,removeTooltipEntrySettings:k1e,setTooltipSettingsState:U1e,setActiveMouseOverItemIndex:HY,mouseLeaveItem:F1e,mouseLeaveChart:WY,setActiveClickItemIndex:B1e,setMouseOverAxisIndex:GY,setMouseClickAxisIndex:z1e,setSyncInteraction:UP,setKeyboardInteraction:FP}=VY.actions,j1e=VY.reducer;function XB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(n),!0).forEach(function(r){V1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1e(t,e,n){return(e=H1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H1e(t){var e=W1e(t,"string");return typeof e=="symbol"?e:e+""}function W1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G1e(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function $1e(t){return t.index!=null}var $Y=(t,e,n,r)=>{if(e==null)return Lc;var i=G1e(t,e,n);if(i==null)return Lc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if($1e(i)){if(s)return n1(n1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return n1(n1({},Lc),{},{coordinate:i.coordinate})},EL=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!na(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},XY=(t,e,n,r,i,s,o,a)=>{if(!(s==null||a==null)){var l=o[0],c=l==null?void 0:a(l.positions,s);if(c!=null)return c;var u=i==null?void 0:i[Number(s)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},YY=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},iy=t=>t.options.tooltipPayloadSearcher,wm=t=>t.tooltip;function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){X1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X1e(t,e,n){return(e=Y1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1e(t){var e=K1e(t,"string");return typeof e=="symbol"?e:e+""}function K1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1e(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Z1e(t,e){return t??e}var KY=(t,e,n,r,i,s,o)=>{if(!(e==null||s==null)){var{chartData:a,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return t.reduce((d,h)=>{var p,{dataDefinedOnItem:v,settings:y}=h,g=Z1e(v,a),_=q1e(g,c,u),w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r==null?void 0:r.dataKey,b=y==null?void 0:y.nameKey,M;if(r!=null&&r.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&o==="axis"?M=Wde(_,r.dataKey,i):M=s(_,e,l,b),Array.isArray(M))M.forEach(C=>{var N=KB(KB({},y),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});d.push(B4({tooltipEntrySettings:N,dataKey:C.dataKey,payload:C.payload,value:Wr(C.payload,C.dataKey),name:C.name}))});else{var A;d.push(B4({tooltipEntrySettings:y,dataKey:w,payload:M,value:Wr(M,w),name:(A=Wr(M,b))!==null&&A!==void 0?A:y==null?void 0:y.name}))}return d},f)}},Kr=t=>{var e=Hn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},_m=t=>t.tooltip.settings.axisId,ci=t=>{var e=Kr(t),n=_m(t);return ty(t,e,n)},ML=Le([ci,Hn,yY,eL,Kr],NY),Q1e=Le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),J1e=Le([Kr,_m],aL),hE=Le([Q1e,ci,J1e],lL),ewe=Le([hE],cL),Rd=Le([ewe,Cd],uL),TL=Le([Rd,ci,hE],fL),twe=Le([ci],dL),nwe=Le([Rd,hE,J0],_Y),rwe=Le([nwe,Cd,Kr],bY),iwe=Le([hE],xY),swe=Le([Rd,ci,iwe,Kr],SY),owe=Le([EY,Kr,_m],ym),awe=Le([owe,Kr],AY),lwe=Le([MY,Kr,_m],ym),cwe=Le([lwe,Kr],CY),uwe=Le([TY,Kr,_m],ym),fwe=Le([uwe,Kr],PY),dwe=Le([awe,fwe,cwe],hL),hwe=Le([ci,twe,rwe,swe,dwe],pL),qY=Le([ci,Hn,Rd,TL,J0,Kr,hwe],mL),pwe=Le([qY,ci,ML],yL),mwe=Le([ci,qY,pwe,Kr],wL),ZY=t=>{var e=Kr(t),n=_m(t),r=!1;return ry(t,e,n,r)},QY=Le([ci,ZY],oE),JY=Le([ci,ML,mwe,QY],vL),gwe=Le([Hn,TL,ci,Kr],kY),vwe=Le([Hn,TL,ci,Kr],UY),ywe=(t,e,n,r,i,s,o,a)=>{if(e){var{type:l}=e,c=Ed(t,a);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Os(i[0]-i[1])*2*f:f,c&&o?o.map((d,h)=>({coordinate:r(d)+f,value:d,index:h,offset:f})):r.domain().map((d,h)=>({coordinate:r(d)+f,value:s?s[d]:d,index:h,offset:f}))}}},ql=Le([Hn,ci,ML,JY,ZY,gwe,vwe,Kr],ywe),AL=Le([FY,BY,D1e],(t,e,n)=>zY(n.shared,t,e)),eK=t=>t.tooltip.settings.trigger,CL=t=>t.tooltip.settings.defaultIndex,pE=Le([wm,AL,eK,CL],$Y),Zv=Le([pE,Rd],EL),tK=Le([ql,Zv],jY),xwe=Le([pE],t=>{if(t)return t.dataKey}),nK=Le([wm,AL,eK,CL],YY),wwe=Le([Xl,Yl,Hn,Ni,ql,CL,nK,iy],XY),_we=Le([pE,wwe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),bwe=Le([pE],t=>t.active),Swe=Le([nK,Zv,Cd,ci,tK,iy,AL],KY);Le([Swe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function qB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(n),!0).forEach(function(r){Ewe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ewe(t,e,n){return(e=Mwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mwe(t){var e=Twe(t,"string");return typeof e=="symbol"?e:e+""}function Twe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Awe=()=>Gt(ci),Cwe=()=>{var t=Awe(),e=Gt(ql),n=Gt(JY);return Jme(ZB(ZB({},t),{},{scale:n}),e)},Pwe=()=>Gt(eL),PL=(t,e)=>e,rK=(t,e,n)=>n,RL=(t,e,n,r)=>r,Rwe=Le(ql,t=>jS(t,e=>e.coordinate)),NL=Le([wm,PL,rK,RL],$Y),iK=Le([NL,Rd],EL),Nwe=(t,e,n)=>{if(e!=null){var r=wm(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},sK=Le([wm,PL,rK,RL],YY),ub=Le([Xl,Yl,Hn,Ni,ql,RL,sK,iy],XY),Iwe=Le([NL,ub],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),oK=Le(ql,iK,jY),Dwe=Le([sK,iK,Cd,ci,oK,iy,PL],KY),Lwe=Le([NL],t=>({isActive:t.active,activeIndex:t.index})),Owe=(t,e,n,r,i,s,o,a)=>{if(!(!t||!e||!r||!i||!s)){var l=ege(t.chartX,t.chartY,e,n,a);if(l){var c=nge(l,e),u=Hme(c,o,s,r,i),f=tge(e,s,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function BP(){return BP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BP.apply(null,arguments)}function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){kwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kwe(t,e,n){return(e=Uwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uwe(t){var e=Fwe(t,"string");return typeof e=="symbol"?e:e+""}function Fwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bwe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:o,cursor:a,tooltipEventType:l,chartName:c}=t,u=e,f=n,d=r;if(!a||!u||c!=="ScatterChart"&&l!=="axis")return null;var h,p;if(c==="ScatterChart")h=u,p=nve;else if(c==="BarChart")h=rve(o,u,i,s),p=lX;else if(o==="radial"){var{cx:v,cy:y,radius:g,startAngle:_,endAngle:w}=cX(u);h={cx:v,cy:y,startAngle:_,endAngle:w,innerRadius:g,outerRadius:g},p=fX}else h={points:Fve(o,u,i)},p=eX;var b=typeof a=="object"&&"className"in a?a.className:void 0,M=r1(r1(r1(r1({stroke:"#ccc",pointerEvents:"none"},i),h),$r(a,!1)),{},{payload:f,payloadIndex:d,className:dr("recharts-tooltip-cursor",b)});return T.isValidElement(a)?T.cloneElement(a,M):T.createElement(p,M)}function zwe(t){var e=Cwe(),n=fge(),r=Z7(),i=Pwe();return T.createElement(Bwe,BP({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var aK=T.createContext(null),jwe=()=>T.useContext(aK),lK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,d,h,p){var v=n?n+c:c;if(!this._events[v])return!1;var y=this._events[v],g=arguments.length,_,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,d),!0;case 5:return y.fn.call(y.context,u,f,d,h),!0;case 6:return y.fn.call(y.context,u,f,d,h,p),!0}for(w=1,_=new Array(g-1);w<g;w++)_[w-1]=arguments[w];y.fn.apply(y.context,_)}else{var b=y.length,M;for(w=0;w<b;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),g){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,f);break;case 4:y[w].fn.call(y[w].context,u,f,d);break;default:if(!_)for(M=1,_=new Array(g-1);M<g;M++)_[M-1]=arguments[M];y[w].fn.apply(y[w].context,_)}}return!0},a.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,d){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var v=0,y=[],g=p.length;v<g;v++)(p[v].fn!==u||d&&!p[v].once||f&&p[v].context!==f)&&y.push(p[v]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(lK);var Vwe=lK.exports;const Hwe=_o(Vwe);var Qv=new Hwe,zP="recharts.syncEvent.tooltip",JB="recharts.syncEvent.brush";function Wwe(t,e){if(e){var n=Number.parseInt(e,10);if(!ta(n))return t==null?void 0:t[n]}}var Gwe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cK=So({name:"options",initialState:Gwe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$we=cK.reducer,{createEventEmitter:Xwe}=cK.actions;function Ywe(t){return t.tooltip.syncInteraction}var Kwe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},uK=So({name:"chartData",initialState:Kwe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:e5,setDataStartEndIndexes:qwe,setComputedData:bVe}=uK.actions,Zwe=uK.reducer,fK=()=>{};function Qwe(){var t=Gt(tL),e=Gt(nL),n=Xr(),r=Gt(hY),i=Gt(ql),s=Z7(),o=Y7(),a=Gt(l=>l.rootProps.className);T.useEffect(()=>{if(t==null)return fK;var l=(c,u,f)=>{if(e!==f&&t===c){if(r==="index"){n(u);return}if(i!=null){var d;if(typeof r=="function"){var h={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=r(i,h);d=i[p]}else r==="value"&&(d=i.find(A=>String(A.value)===u.payload.label));var{coordinate:v}=u.payload;if(d==null||u.payload.active===!1||v==null||o==null){n(UP({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:g}=v,_=Math.min(y,o.x+o.width),w=Math.min(g,o.y+o.height),b={x:s==="horizontal"?d.coordinate:_,y:s==="horizontal"?w:d.coordinate},M=UP({active:u.payload.active,coordinate:b,dataKey:u.payload.dataKey,index:String(d.index),label:u.payload.label});n(M)}}};return Qv.on(zP,l),()=>{Qv.off(zP,l)}},[a,n,e,t,r,i,s,o])}function Jwe(){var t=Gt(tL),e=Gt(nL),n=Xr();T.useEffect(()=>{if(t==null)return fK;var r=(i,s,o)=>{e!==o&&t===i&&n(qwe(s))};return Qv.on(JB,r),()=>{Qv.off(JB,r)}},[n,e,t])}function e_e(){var t=Xr();T.useEffect(()=>{t(Xwe())},[t]),Qwe(),Jwe()}function t_e(t,e,n,r,i,s){var o=Gt(d=>Nwe(d,t,e)),a=Gt(nL),l=Gt(tL),c=Gt(hY),u=Gt(Ywe),f=u==null?void 0:u.active;T.useEffect(()=>{if(!f&&l!=null&&a!=null){var d=UP({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});Qv.emit(zP,l,d,a)}},[f,n,o,i,r,a,l,c,s])}function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(r){n_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_e(t,e,n){return(e=r_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r_e(t){var e=i_e(t,"string");return typeof e=="symbol"?e:e+""}function i_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_e(t){return t.dataKey}function o_e(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(Lge,e)}var r5=[],a_e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!QS.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function l_e(t){var e=Md(t,a_e),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:o,filterNull:a,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:d,useTranslate3d:h,wrapperStyle:p,cursor:v,shared:y,trigger:g,defaultIndex:_,portal:w,axisId:b}=e,M=Xr(),A=typeof _=="number"?String(_):_;T.useEffect(()=>{M(U1e({shared:y,trigger:g,axisId:b,active:n,defaultIndex:A}))},[M,y,g,b,n,A]);var C=Y7(),N=J7(),R=I1e(y),{activeIndex:D,isActive:F}=Gt(Q=>Lwe(Q,R,g,A)),U=Gt(Q=>Dwe(Q,R,g,A)),$=Gt(Q=>oK(Q,R,g,A)),I=Gt(Q=>Iwe(Q,R,g,A)),V=U,j=jwe(),X=n??F,[L,k]=y7([V,X]),z=R==="axis"?$:void 0;t_e(R,g,I,z,D,X);var B=w??j;if(B==null)return null;var G=V??r5;X||(G=r5),a&&G.length&&(G=s7(V.filter(Q=>Q.value!=null&&(Q.hide!==!0||e.includeHidden)),u,s_e));var Y=G.length>0,Z=T.createElement(jge,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:X,coordinate:I,hasPayload:Y,offset:c,position:f,reverseDirection:d,useTranslate3d:h,viewBox:C,wrapperStyle:p,lastBoundingBox:L,innerRef:k,hasPortalFromProps:!!w},o_e(o,n5(n5({},e),{},{payload:G,label:z,active:X,coordinate:I,accessibilityLayer:N})));return T.createElement(T.Fragment,null,$l.createPortal(Z,B),X&&T.createElement(zwe,{cursor:v,tooltipEventType:R,coordinate:I,payload:V,index:D}))}var dK={},hK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,i={}){typeof i!="object"&&(i={});let s=null,o=null,a=null,l=0,c=null,u;const{leading:f=!1,trailing:d=!0,maxWait:h}=i,p="maxWait"in i,v=p?Math.max(Number(h)||0,r):0,y=C=>(s!==null&&(u=n.apply(o,s)),s=o=null,l=C,u),g=C=>(l=C,c=setTimeout(M,r),f&&s!==null?y(C):u),_=C=>(c=null,d&&s!==null?y(C):u),w=C=>{if(a===null)return!0;const N=C-a,R=N>=r||N<0,D=p&&C-l>=v;return R||D},b=C=>{const N=a===null?0:C-a,R=r-N,D=v-(C-l);return p?Math.min(R,D):R},M=()=>{const C=Date.now();if(w(C))return _(C);c=setTimeout(M,b(C))},A=function(...C){const N=Date.now(),R=w(N);if(s=C,o=this,a=N,R){if(c===null)return g(N);if(p)return clearTimeout(c),c=setTimeout(M,r),y(N)}return c===null&&(c=setTimeout(M,r)),u};return A.cancel=()=>{c!==null&&clearTimeout(c),l=0,a=s=o=c=null},A.flush=()=>c===null?u:_(Date.now()),A}t.debounce=e})(hK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hK;function n(r,i=0,s={}){const{leading:o=!0,trailing:a=!0}=s;return e.debounce(r,i,{leading:o,maxWait:i,trailing:a})}t.throttle=n})(dK);var c_e=dK.throttle;const u_e=_o(c_e);var fA=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function i5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(n),!0).forEach(function(r){f_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f_e(t,e,n){return(e=d_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=h_e(t,"string");return typeof e=="symbol"?e:e+""}function h_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s5=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:o=0,minHeight:a,maxHeight:l,children:c,debounce:u=0,id:f,className:d,onResize:h,style:p={}}=t,v=T.useRef(null),y=T.useRef();y.current=h,T.useImperativeHandle(e,()=>v.current);var[g,_]=T.useState({containerWidth:r.width,containerHeight:r.height}),w=T.useCallback((M,A)=>{_(C=>{var N=Math.round(M),R=Math.round(A);return C.containerWidth===N&&C.containerHeight===R?C:{containerWidth:N,containerHeight:R}})},[]);T.useEffect(()=>{var M=R=>{var D,{width:F,height:U}=R[0].contentRect;w(F,U),(D=y.current)===null||D===void 0||D.call(y,F,U)};u>0&&(M=u_e(M,u,{trailing:!0,leading:!1}));var A=new ResizeObserver(M),{width:C,height:N}=v.current.getBoundingClientRect();return w(C,N),A.observe(v.current),()=>{A.disconnect()}},[w,u]);var b=T.useMemo(()=>{var{containerWidth:M,containerHeight:A}=g;if(M<0||A<0)return null;fA(Vg(i)||Vg(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),fA(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=Vg(i)?M:i,N=Vg(s)?A:s;return n&&n>0&&(C?N=C/n:N&&(C=N*n),l&&N>l&&(N=l)),fA(C>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,N,i,s,o,a,n),T.Children.map(c,R=>T.cloneElement(R,{width:C,height:N,style:dA({width:C,height:N},R.props.style)}))},[n,c,s,l,a,o,g,i]);return T.createElement("div",{id:f?"".concat(f):void 0,className:dr("recharts-responsive-container",d),style:dA(dA({},p),{},{width:i,height:s,minWidth:o,minHeight:a,maxHeight:l}),ref:v},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},b))}),Jv=t=>null;Jv.displayName="Cell";function o5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(n),!0).forEach(function(r){p_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_e(t,e,n){return(e=m_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m_e(t){var e=g_e(t,"string");return typeof e=="symbol"?e:e+""}function g_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var th={widthCache:{},cacheCount:0},v_e=2e3,y_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},a5="recharts_measurement_span";function x_e(t){var e=jP({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var l5=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||QS.isSsr)return{width:0,height:0};var r=x_e(n),i=JSON.stringify({text:e,copyStyle:r});if(th.widthCache[i])return th.widthCache[i];try{var s=document.getElementById(a5);s||(s=document.createElement("span"),s.setAttribute("id",a5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=jP(jP({},y_e),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return th.widthCache[i]=l,++th.cacheCount>v_e&&(th.cacheCount=0,th.widthCache={}),l}catch{return{width:0,height:0}}},c5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,__e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},b_e=Object.keys(pK),Hh="NaN";function S_e(t,e){return t*pK[e]}class ss{static parse(e){var n,[,r,i]=(n=__e.exec(e))!==null&&n!==void 0?n:[];return new ss(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ta(e)&&(this.unit=""),n!==""&&!w_e.test(n)&&(this.num=NaN,this.unit=""),b_e.includes(n)&&(this.num=S_e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ss(NaN,""):new ss(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ss(NaN,""):new ss(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ss(NaN,""):new ss(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ss(NaN,""):new ss(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ta(this.num)}}function mK(t){if(t.includes(Hh))return Hh;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=c5.exec(e))!==null&&n!==void 0?n:[],o=ss.parse(r??""),a=ss.parse(s??""),l=i==="*"?o.multiply(a):o.divide(a);if(l.isNaN())return Hh;e=e.replace(c5,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,f,d]=(c=u5.exec(e))!==null&&c!==void 0?c:[],h=ss.parse(u??""),p=ss.parse(d??""),v=f==="+"?h.add(p):h.subtract(p);if(v.isNaN())return Hh;e=e.replace(u5,v.toString())}return e}var f5=/\(([^()]*)\)/;function E_e(t){for(var e=t,n;(n=f5.exec(e))!=null;){var[,r]=n;e=e.replace(f5,mK(r))}return e}function M_e(t){var e=t.replace(/\s+/g,"");return e=E_e(e),e=mK(e),e}function T_e(t){try{return M_e(t)}catch{return Hh}}function hA(t){var e=T_e(t.slice(5,-1));return e===Hh?"":e}var A_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],C_e=["dx","dy","angle","className","breakAll"];function VP(){return VP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VP.apply(null,arguments)}function d5(t,e){if(t==null)return{};var n,r,i=P_e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function P_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gK=/[ \f\n\r\t\v\u2028\u2029]+/,vK=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];sd(e)||(n?i=e.toString().split(""):i=e.toString().split(gK));var s=i.map(a=>({word:a,width:l5(a,r).width})),o=n?0:l5(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},R_e=(t,e,n,r,i)=>{var{maxLines:s,children:o,style:a,breakAll:l}=t,c=Xt(s),u=o,f=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((U,$)=>{var{word:I,width:V}=$,j=U[U.length-1];if(j&&(r==null||i||j.width+V+n<Number(r)))j.words.push(I),j.width+=V+n;else{var X={words:[I],width:V};U.push(X)}return U},[])},d=f(e),h=D=>D.reduce((F,U)=>F.width>U.width?F:U);if(!c||i)return d;var p=d.length>s||h(d).width>Number(r);if(!p)return d;for(var v="…",y=D=>{var F=u.slice(0,D),U=vK({breakAll:l,style:a,children:F+v}).wordsWithComputedWidth,$=f(U),I=$.length>s||h($).width>Number(r);return[I,$]},g=0,_=u.length-1,w=0,b;g<=_&&w<=u.length-1;){var M=Math.floor((g+_)/2),A=M-1,[C,N]=y(A),[R]=y(M);if(!C&&!R&&(g=M+1),C&&R&&(_=M-1),!C&&R){b=N;break}w++}return b||d},h5=t=>{var e=sd(t)?[]:t.toString().split(gK);return[{words:e}]},N_e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=t;if((e||n)&&!QS.isSsr){var a,l,c=vK({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;a=u,l=f}else return h5(r);return R_e({breakAll:s,children:r,maxLines:o,style:i},a,l,e,n)}return h5(r)},p5="#808080",yK=T.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:a="start",verticalAnchor:l="end",fill:c=p5}=t,u=d5(t,A_e),f=T.useMemo(()=>N_e({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:d,dy:h,angle:p,className:v,breakAll:y}=u,g=d5(u,C_e);if(!Ll(n)||!Ll(r))return null;var _=n+(Xt(d)?d:0),w=r+(Xt(h)?h:0),b;switch(l){case"start":b=hA("calc(".concat(s,")"));break;case"middle":b=hA("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:b=hA("calc(".concat(f.length-1," * -").concat(i,")"));break}var M=[];if(o){var A=f[0].width,{width:C}=u;M.push("scale(".concat(Xt(C)?C/A:1,")"))}return p&&M.push("rotate(".concat(p,", ").concat(_,", ").concat(w,")")),M.length&&(g.transform=M.join(" ")),T.createElement("text",VP({},$r(g,!0),{ref:e,x:_,y:w,className:dr("recharts-text",v),textAnchor:a,fill:c.includes("url")?p5:c}),f.map((N,R)=>{var D=N.words.join(y?"":" ");return T.createElement("tspan",{x:_,dy:R===0?b:i,key:"".concat(D,"-").concat(R)},D)}))});yK.displayName="Text";var xK=t=>t.graphicalItems.polarItems,I_e=Le([hr,ey],aL),IL=Le([xK,pr,I_e],lL),D_e=Le([IL],cL),DL=Le([D_e,ZD],uL),L_e=Le([DL,pr,IL],fL),O_e=Le([DL,pr,IL],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,o=Wr(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Wr(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),m5=()=>{},k_e=Le([pr,RY,m5,O_e,m5],pL),wK=Le([pr,Hn,DL,L_e,J0,hr,k_e],mL),U_e=Le([wK,pr,xm],yL);Le([pr,wK,U_e,hr],wL);var F_e={radiusAxis:{},angleAxis:{}},B_e=So({name:"polarAxis",initialState:F_e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),z_e=B_e.reducer;function g5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(n),!0).forEach(function(r){j_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_e(t,e,n){return(e=V_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V_e(t){var e=H_e(t,"string");return typeof e=="symbol"?e:e+""}function H_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LL=(t,e)=>e,W_e=[],OL=(t,e,n)=>(n==null?void 0:n.length)===0?W_e:n,_K=Le([ZD,LL,OL],(t,e,n)=>{var{chartData:r}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>v5(v5({},e.presentationProps),s.props))),i!=null)return i}),G_e=Le([_K,LL,OL],(t,e,n)=>{if(t!=null)return t.map((r,i)=>{var s,o=Wr(r,e.nameKey,e.name),a;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=e.fill,{value:W7(o,e.dataKey),color:a,payload:r,type:e.legendType}})}),$_e=Le([xK,LL],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),X_e=Le([_K,$_e,OL,Ni],(t,e,n,r)=>{if(!(e==null||t==null))return Lbe({offset:r,pieSettings:e,displayedData:t,cells:n})}),Y_e={countOfBars:0,cartesianItems:[],polarItems:[]},bK=So({name:"graphicalItems",initialState:Y_e,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Sl(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Sl(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Sl(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:SVe,removeBar:EVe,addCartesianGraphicalItem:MVe,replaceCartesianGraphicalItem:TVe,removeCartesianGraphicalItem:AVe,addPolarGraphicalItem:K_e,removePolarGraphicalItem:q_e}=bK.actions,Z_e=bK.reducer;function Q_e(t){var e=Xr();return T.useEffect(()=>(e(K_e(t)),()=>{e(q_e(t))}),[e,t]),null}var SK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(SK);var J_e=SK.isPlainObject;const ebe=_o(J_e);function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(null,arguments)}var y5=(t,e,n,r,i)=>{var s=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-s/2,",").concat(e+i),o+="L ".concat(t+n-s/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},tbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nbe=t=>{var e=Md(t,tbe),n=T.useRef(),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:o,upperWidth:a,lowerWidth:l,height:c,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:p}=e;if(s!==+s||o!==+o||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var v=dr("recharts-trapezoid",u);return p?T.createElement($v,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:s,y:o},to:{upperWidth:a,lowerWidth:l,height:c,x:s,y:o},duration:d,animationEasing:f,isActive:p},y=>{var{upperWidth:g,lowerWidth:_,height:w,x:b,y:M}=y;return T.createElement($v,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:d,easing:f},T.createElement("path",fb({},$r(e,!0),{className:v,d:y5(b,M,g,_,w),ref:n})))}):T.createElement("g",null,T.createElement("path",fb({},$r(e,!0),{className:v,d:y5(s,o,a,l,c)})))},rbe=["option","shapeType","propTransformer","activeClassName","isActive"];function ibe(t,e){if(t==null)return{};var n,r,i=sbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function x5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function db(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(n),!0).forEach(function(r){obe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function obe(t,e,n){return(e=abe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function abe(t){var e=lbe(t,"string");return typeof e=="symbol"?e:e+""}function lbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cbe(t,e){return db(db({},e),t)}function ube(t,e){return t==="symbols"}function w5(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(lX,n);case"trapezoid":return T.createElement(nbe,n);case"sector":return T.createElement(fX,n);case"symbols":if(ube(e))return T.createElement(sD,n);break;default:return null}}function fbe(t){return T.isValidElement(t)?t.props:t}function dbe(t){var{option:e,shapeType:n,propTransformer:r=cbe,activeClassName:i="recharts-active-shape",isActive:s}=t,o=ibe(t,rbe),a;if(T.isValidElement(e))a=T.cloneElement(e,db(db({},o),fbe(e)));else if(typeof e=="function")a=e(o);else if(ebe(e)&&typeof e!="boolean"){var l=r(e,o);a=T.createElement(w5,{shapeType:n,elementProps:l})}else{var c=o;a=T.createElement(w5,{shapeType:n,elementProps:c})}return s?T.createElement(kp,{className:i},a):a}var hbe=(t,e)=>{var n=Xr();return(r,i)=>s=>{t==null||t(r,i,s),n(HY({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},pbe=t=>{var e=Xr();return(n,r)=>i=>{t==null||t(n,r,i),e(F1e())}},mbe=(t,e)=>{var n=Xr();return(r,i)=>s=>{t==null||t(r,i,s),n(B1e({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function gbe(t){var{fn:e,args:n}=t,r=Xr(),i=hm();return T.useEffect(()=>{if(!i){var s=e(n);return r(O1e(s)),()=>{r(k1e(s))}}},[e,n,r,i]),null}var vbe=()=>{};function ybe(t){var{legendPayload:e}=t,n=Xr(),r=Gt(Hn);return T.useEffect(()=>r!=="centric"&&r!=="radial"?vbe:(n(gge(e)),()=>{n(vge(e))}),[n,r,e]),null}function xbe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(O_(e)),r=T.useRef(t);return r.current!==t&&(n.current=O_(e),r.current=t),n.current}var wbe=["onMouseEnter","onClick","onMouseLeave"];function _be(t,e){if(t==null)return{};var n,r,i=bbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_5(Object(n),!0).forEach(function(r){mE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mE(t,e,n){return(e=Sbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sbe(t){var e=Ebe(t,"string");return typeof e=="symbol"?e:e+""}function Ebe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(null,arguments)}function Mbe(t){var e=T.useMemo(()=>$r(t,!1),[t]),n=T.useMemo(()=>M$(t.children,Jv),[t.children]),r=T.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=Gt(s=>G_e(s,r,n));return T.createElement(ybe,{legendPayload:i})}function Tbe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:o,name:a,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:r==null?void 0:r.map(u=>u.tooltipPayload),positions:r==null?void 0:r.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:o,dataKey:e,nameKey:n,name:W7(a,e),hide:l,type:c,color:o,unit:""}}}var Abe=(t,e)=>t>e?"start":t<e?"end":"middle",Cbe=(t,e,n)=>typeof e=="function"?e(t):Pa(e,n,n*.8),Pbe=(t,e,n)=>{var{top:r,left:i,width:s,height:o}=e,a=H7(s,o),l=i+Pa(t.cx,s,s/2),c=r+Pa(t.cy,o,o/2),u=Pa(t.innerRadius,a,0),f=Cbe(n,t.outerRadius,a),d=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}},Rbe=(t,e)=>{var n=Os(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Nbe=(t,e)=>{if(T.isValidElement(t))return T.cloneElement(t,e);if(typeof t=="function")return t(e);var n=dr("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return T.createElement(eX,ud({},e,{type:"linear",className:n}))},Ibe=(t,e,n)=>{if(T.isValidElement(t))return T.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),T.isValidElement(r)))return r;var i=dr("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return T.createElement(yK,ud({},e,{alignmentBaseline:"middle",className:i}),r)};function Dbe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:o}=n;if(!r||!i||!e)return null;var a=$r(n,!1),l=$r(i,!1),c=$r(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((d,h)=>{var p=(d.startAngle+d.endAngle)/2,v=Ti(d.cx,d.cy,d.outerRadius+u,p),y=Zn(Zn(Zn(Zn({},a),d),{},{stroke:"none"},l),{},{index:h,textAnchor:Abe(v.x,d.cx)},v),g=Zn(Zn(Zn(Zn({},a),d),{},{fill:"none",stroke:d.fill},c),{},{index:h,points:[Ti(d.cx,d.cy,d.outerRadius,p),v],key:"line"});return T.createElement(kp,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(h)},s&&Nbe(s,g),Ibe(i,y,Wr(d,o)))});return T.createElement(kp,{className:"recharts-pie-labels"},f)}function EK(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:s}=t,o=Gt(Zv),{onMouseEnter:a,onClick:l,onMouseLeave:c}=i,u=_be(i,wbe),f=hbe(a,i.dataKey),d=pbe(c),h=mbe(l,i.dataKey);return e==null?null:T.createElement(T.Fragment,null,e.map((p,v)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&e.length!==1)return null;var y=n&&String(v)===o,g=o?r:null,_=y?n:g,w=Zn(Zn({},p),{},{stroke:p.stroke,tabIndex:-1,[$7]:v,[X7]:i.dataKey});return T.createElement(kp,ud({tabIndex:-1,className:"recharts-pie-sector"},S$(u,p,v),{onMouseEnter:f(p,v),onMouseLeave:d(p,v),onClick:h(p,v),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(v)}),T.createElement(dbe,ud({option:_,isActive:y,shapeType:"sector"},w)))}),T.createElement(Dbe,{sectors:e,props:i,showLabels:s}))}function Lbe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:o,startAngle:a,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=n,d=Math.abs(n.minAngle),h=Rbe(a,l),p=Math.abs(h),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,y=r.filter(A=>Wr(A,c,0)!==0).length,g=(p>=360?y:y-1)*v,_=p-y*d-g,w=r.reduce((A,C)=>{var N=Wr(C,c,0);return A+(Xt(N)?N:0)},0),b;if(w>0){var M;b=r.map((A,C)=>{var N=Wr(A,c,0),R=Wr(A,u,C),D=Pbe(n,s,A),F=(Xt(N)?N:0)/w,U,$=Zn(Zn({},A),i&&i[C]&&i[C].props);C?U=M.endAngle+Os(h)*v*(N!==0?1:0):U=a;var I=U+Os(h)*((N!==0?d:0)+F*_),V=(U+I)/2,j=(D.innerRadius+D.outerRadius)/2,X=[{name:R,value:N,payload:$,dataKey:c,type:f}],L=Ti(D.cx,D.cy,j,V);return M=Zn(Zn(Zn(Zn({},n.presentationProps),{},{percent:F,cornerRadius:o,name:R,tooltipPayload:X,midAngle:V,middleRadius:j,tooltipPosition:L},$),D),{},{value:Wr(A,c),startAngle:U,endAngle:I,payload:$,paddingAngle:Os(h)*v}),M})}return b}function Obe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:a,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=e,d=xbe(e,"recharts-pie-"),h=n.current,[p,v]=T.useState(!0),y=T.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),g=T.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return T.createElement($v,{begin:s,duration:o,isActive:i,easing:a,from:{t:0},to:{t:1},onAnimationStart:g,onAnimationEnd:y,key:d},_=>{var{t:w}=_,b=[],M=r&&r[0],A=M.startAngle;return r.forEach((C,N)=>{var R=h&&h[N],D=N>0?Op(C,"paddingAngle",0):0;if(R){var F=o4(R.endAngle-R.startAngle,C.endAngle-C.startAngle),U=Zn(Zn({},C),{},{startAngle:A+D,endAngle:A+F(w)+D});b.push(U),A=U.endAngle}else{var{endAngle:$,startAngle:I}=C,V=o4(0,$-I),j=V(w),X=Zn(Zn({},C),{},{startAngle:A+D,endAngle:A+j+D});b.push(X),A=X.endAngle}}),n.current=b,T.createElement(kp,null,T.createElement(EK,{sectors:b,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!p}))})}function kbe(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,s=T.useRef(null),o=s.current;return n&&e&&e.length&&(!o||o!==e)?T.createElement(Obe,{props:t,previousSectorsRef:s}):T.createElement(EK,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Ube(t){var{hide:e,className:n,rootTabIndex:r}=t,i=dr("recharts-pie",n);return e?null:T.createElement(kp,{tabIndex:r,className:i},T.createElement(kbe,t))}var MK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!QS.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Fbe(t){var e=Md(t,MK),n=T.useMemo(()=>M$(t.children,Jv),[t.children]),r=$r(e,!1),i=T.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),s=Gt(o=>X_e(o,i,n));return T.createElement(T.Fragment,null,T.createElement(gbe,{fn:Tbe,args:Zn(Zn({},e),{},{sectors:s})}),T.createElement(Ube,ud({},e,{sectors:s})))}class hb extends T.PureComponent{constructor(){super(...arguments),mE(this,"id",O_("recharts-pie-"))}render(){return T.createElement(T.Fragment,null,T.createElement(Q_e,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),T.createElement(Mbe,this.props),T.createElement(Fbe,this.props),this.props.children)}}mE(hb,"displayName","Pie");mE(hb,"defaultProps",MK);var Bbe=Le([Ni],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),zbe=Le([Bbe,Xl,Yl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),jbe=()=>Gt(zbe),Vbe=t=>{var{chartData:e}=t,n=Xr(),r=hm();return T.useEffect(()=>r?()=>{}:(n(e5(e)),()=>{n(e5(void 0))}),[e,n,r]),null},b5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Hbe=So({name:"brush",initialState:b5,reducers:{setBrushSettings(t,e){return e.payload==null?b5:e.payload}}}),Wbe=Hbe.reducer,Gbe={dots:[],areas:[],lines:[]},$be=So({name:"referenceElements",initialState:Gbe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Sl(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Sl(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Sl(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),Xbe=$be.reducer,Ybe=T.createContext(void 0),Kbe=t=>{var{children:e}=t,[n]=T.useState("".concat(O_("recharts"),"-clip")),r=jbe();if(r==null)return null;var{x:i,y:s,width:o,height:a}=r;return T.createElement(Ybe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:a,width:o}))),e)};function S5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(n),!0).forEach(function(r){qbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qbe(t,e,n){return(e=Zbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zbe(t){var e=Qbe(t,"string");return typeof e=="symbol"?e:e+""}function Qbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jbe={xAxis:{},yAxis:{},zAxis:{}},eSe=So({name:"cartesianAxis",initialState:Jbe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=E5(E5({},t.yAxis[n]),{},{width:r}))}}}),tSe=eSe.reducer,nSe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy=T;function rSe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iSe=typeof Object.is=="function"?Object.is:rSe,sSe=sy.useSyncExternalStore,oSe=sy.useRef,aSe=sy.useEffect,lSe=sy.useMemo,cSe=sy.useDebugValue;nSe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=oSe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=lSe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,iSe(u,h))return p;var v=r(h);return i!==void 0&&i(p,v)?(u=h,p):(u=h,f=v)}var c=!1,u,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=sSe(t,s[0],s[1]);return aSe(function(){o.hasValue=!0,o.value=a},[a]),cSe(a),a};function uSe(t){t()}function fSe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){uSe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var M5={notify(){},get:()=>[]};function dSe(t,e){let n,r=M5,i=0,s=!1;function o(v){u();const y=r.subscribe(v);let g=!1;return()=>{g||(g=!0,y(),f())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){i++,n||(n=t.subscribe(l),r=fSe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=M5)}function d(){s||(s=!0,u())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}var hSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pSe=hSe(),mSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gSe=mSe(),vSe=()=>pSe||gSe?T.useLayoutEffect:T.useEffect,ySe=vSe(),pA=Symbol.for("react-redux-context"),mA=typeof globalThis<"u"?globalThis:{};function xSe(){if(!T.createContext)return{};const t=mA[pA]??(mA[pA]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var wSe=xSe();function _Se(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const l=dSe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);ySe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||wSe;return T.createElement(a.Provider,{value:s},e)}var bSe=_Se,SSe=(t,e)=>e,kL=Le([SSe,Hn,zxe,Kr,QY,ql,Rwe,Ni],Owe),UL=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},TK=xo("mouseClick"),AK=Y0();AK.startListening({actionCreator:TK,effect:(t,e)=>{var n=t.payload,r=kL(e.getState(),UL(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(z1e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var HP=xo("mouseMove"),CK=Y0();CK.startListening({actionCreator:HP,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=SL(r,r.tooltip.settings.shared),s=kL(r,UL(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(GY({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(WY()))}});function ESe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var T5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},PK=So({name:"rootProps",initialState:T5,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:T5.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),MSe=PK.reducer,{updateOptions:TSe}=PK.actions,RK=So({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:ASe}=RK.actions,CSe=RK.reducer,NK=xo("keyDown"),IK=xo("focus"),FL=Y0();FL.startListening({actionCreator:NK,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Number(EL(i,Rd(n))),a=ql(n);if(s==="Enter"){var l=ub(n,"axis","hover",String(i.index));e.dispatch(FP({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=N1e(n),u=c==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,d=o+f*u;if(!(a==null||d>=a.length||d<0)){var h=ub(n,"axis","hover",String(d));e.dispatch(FP({active:!0,activeIndex:d.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});FL.startListening({actionCreator:IK,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=ub(n,"axis","hover",String(s));e.dispatch(FP({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var oo=xo("externalEvent"),DK=Y0();DK.startListening({actionCreator:oo,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:_we(n),activeDataKey:xwe(n),activeIndex:Zv(n),activeLabel:tK(n),activeTooltipIndex:Zv(n),isTooltipActive:bwe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var PSe=Le([wm],t=>t.tooltipItemPayloads),RSe=Le([PSe,iy,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=e(s,n);return o}}}),LK=xo("touchMove"),OK=Y0();OK.startListening({actionCreator:LK,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=SL(r,r.tooltip.settings.shared);if(i==="axis"){var s=kL(r,UL({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(GY({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute($7),u=(o=l.getAttribute(X7))!==null&&o!==void 0?o:void 0,f=RSe(e.getState(),c,u);e.dispatch(HY({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var NSe=w7({brush:Wbe,cartesianAxis:tSe,chartData:Zwe,graphicalItems:Z_e,layout:Rme,legend:yge,options:$we,polarAxis:z_e,polarOptions:CSe,referenceElements:Xbe,rootProps:MSe,tooltip:j1e}),ISe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return tme({reducer:NSe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([AK.middleware,CK.middleware,FL.middleware,DK.middleware,OK.middleware]),devTools:{serialize:{replacer:ESe},name:"recharts-".concat(n)}})};function DSe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=hm(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=ISe(e,r));var o=gD;return T.createElement(bSe,{context:o,store:s.current},n)}function LSe(t){var{layout:e,width:n,height:r,margin:i}=t,s=Xr(),o=hm();return T.useEffect(()=>{o||(s(Ame(e)),s(Cme({width:n,height:r})),s(Tme(i)))},[s,o,e,n,r,i]),null}function OSe(t){var e=Xr();return T.useEffect(()=>{e(TSe(t))},[e,t]),null}var kSe=["children"];function USe(t,e){if(t==null)return{};var n,r,i=FSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(null,arguments)}var BSe={width:"100%",height:"100%"},zSe=T.forwardRef((t,e)=>{var n=K7(),r=q7(),i=J7();if(!K_(n)||!K_(r))return null;var{children:s,otherAttributes:o,title:a,desc:l}=t,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,T.createElement(tD,pb({},o,{title:a,desc:l,role:u,tabIndex:c,width:n,height:r,style:BSe,ref:e}),s)}),jSe=t=>{var{children:e}=t,n=Gt(qS);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return T.createElement(tD,{width:r,height:i,x:o,y:s},e)},A5=T.forwardRef((t,e)=>{var{children:n}=t,r=USe(t,kSe),i=hm();return i?T.createElement(jSe,null,n):T.createElement(zSe,pb({ref:e},r),n)});function VSe(){var t=Xr(),[e,n]=T.useState(null),r=Gt(rge);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;na(s)&&s!==r&&t(Pme(s))}},[e,t,r]),n}function C5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(n),!0).forEach(function(r){WSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WSe(t,e,n){return(e=GSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GSe(t){var e=$Se(t,"string");return typeof e=="symbol"?e:e+""}function $Se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XSe=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:a,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:d,onTouchEnd:h,onTouchMove:p,onTouchStart:v,style:y,width:g}=t,_=Xr(),[w,b]=T.useState(null),[M,A]=T.useState(null);e_e();var C=VSe(),N=T.useCallback(G=>{C(G),typeof e=="function"&&e(G),b(G),A(G)},[C,e,b,A]),R=T.useCallback(G=>{_(TK(G)),_(oo({handler:s,reactEvent:G}))},[_,s]),D=T.useCallback(G=>{_(HP(G)),_(oo({handler:c,reactEvent:G}))},[_,c]),F=T.useCallback(G=>{_(WY()),_(oo({handler:u,reactEvent:G}))},[_,u]),U=T.useCallback(G=>{_(HP(G)),_(oo({handler:f,reactEvent:G}))},[_,f]),$=T.useCallback(()=>{_(IK())},[_]),I=T.useCallback(G=>{_(NK(G.key))},[_]),V=T.useCallback(G=>{_(oo({handler:o,reactEvent:G}))},[_,o]),j=T.useCallback(G=>{_(oo({handler:a,reactEvent:G}))},[_,a]),X=T.useCallback(G=>{_(oo({handler:l,reactEvent:G}))},[_,l]),L=T.useCallback(G=>{_(oo({handler:d,reactEvent:G}))},[_,d]),k=T.useCallback(G=>{_(oo({handler:v,reactEvent:G}))},[_,v]),z=T.useCallback(G=>{_(LK(G)),_(oo({handler:p,reactEvent:G}))},[_,p]),B=T.useCallback(G=>{_(oo({handler:h,reactEvent:G}))},[_,h]);return T.createElement(aK.Provider,{value:w},T.createElement(T$.Provider,{value:M},T.createElement("div",{className:dr("recharts-wrapper",r),style:HSe({position:"relative",cursor:"default",width:g,height:i},y),onClick:R,onContextMenu:V,onDoubleClick:j,onFocus:$,onKeyDown:I,onMouseDown:X,onMouseEnter:D,onMouseLeave:F,onMouseMove:U,onMouseUp:L,onTouchEnd:B,onTouchMove:z,onTouchStart:k,ref:N},n)))}),YSe=["children","className","width","height","style","compact","title","desc"];function KSe(t,e){if(t==null)return{};var n,r,i=qSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZSe=T.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:o,compact:a,title:l,desc:c}=t,u=KSe(t,YSe),f=$r(u,!1);return a?T.createElement(A5,{otherAttributes:f,title:l,desc:c},n):T.createElement(XSe,{className:r,style:o,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(A5,{otherAttributes:f,title:l,desc:c,ref:e},T.createElement(Kbe,null,n)))});function QSe(t){var e=Xr();return T.useEffect(()=>{e(ASe(t))},[e,t]),null}var JSe=["width","height","layout"];function WP(){return WP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WP.apply(null,arguments)}function eEe(t,e){if(t==null)return{};var n,r,i=tEe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nEe={top:5,right:5,bottom:5,left:5},rEe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nEe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},iEe=T.forwardRef(function(e,n){var r,i=Md(e.categoricalChartProps,rEe),{width:s,height:o,layout:a}=i,l=eEe(i,JSe);if(!K_(s)||!K_(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d}=e,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(DSe,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},T.createElement(Vbe,{chartData:i.data}),T.createElement(LSe,{width:s,height:o,layout:a,margin:i.margin}),T.createElement(OSe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(QSe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(ZSe,WP({width:s,height:o},l,{ref:n})))}),sEe=["item"],oEe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},P5=T.forwardRef((t,e)=>{var n=Md(t,oEe);return T.createElement(iEe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:sEe,tooltipPayloadSearcher:Wwe,categoricalChartProps:n,ref:e})});const aEe=()=>{const t=[{name:"Stocks",value:65,color:"#10B981",amount:"HK$1,849,935"},{name:"Bonds",value:25,color:"#3B82F6",amount:"HK$711,898"},{name:"Cash",value:10,color:"#6B7280",amount:"HK$284,759"}];return S.jsxs("div",{className:"w-full max-w-6xl mx-auto p-4 sm:p-6 space-y-6 sm:space-y-8",children:[S.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-6 sm:mb-8",children:"Portfolio Dashboard"}),S.jsx("div",{className:"glass-panel p-4 sm:p-6 lg:p-8 rounded-2xl",children:S.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8",children:[S.jsxs("div",{className:"lg:col-span-2",children:[S.jsx("div",{className:"mb-6",children:S.jsxs("div",{className:"bg-gradient-to-r from-secondary/20 to-secondary/10 p-6 sm:p-8 rounded-xl border border-secondary/20 mb-6 text-center",children:[S.jsx("div",{className:"text-base sm:text-lg text-muted-foreground mb-3",children:"Total Portfolio Value"}),S.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3",children:"HK$2,847,592"}),S.jsx("div",{className:"flex items-center justify-center gap-4 text-base sm:text-lg",children:S.jsx("span",{className:"text-green-400 font-medium",children:"+12.5% this month"})})]})}),S.jsxs(XC,{children:[S.jsx(YC,{asChild:!0,children:S.jsx("div",{className:"h-48 sm:h-64 bg-gradient-to-br from-primary/10 via-secondary/10 to-accent/10 rounded-xl border border-glass-border cursor-pointer hover:shadow-lg transition-all group p-4",children:S.jsxs("div",{className:"flex items-center justify-between h-full",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"text-lg font-semibold mb-2",children:"Portfolio Allocation"}),S.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:"Click to view detailed breakdown"}),S.jsxs("div",{className:"space-y-2 text-sm",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Stocks (65%)"}),S.jsx("span",{className:"text-green-400",children:"HK$1,849,935"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Bonds (25%)"}),S.jsx("span",{className:"text-blue-400",children:"HK$711,898"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Cash (10%)"}),S.jsx("span",{className:"text-gray-400",children:"HK$284,759"})]})]})]}),S.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 flex items-center justify-center",children:S.jsx(s5,{width:"100%",height:"100%",children:S.jsx(P5,{children:S.jsx(hb,{data:t,cx:"50%",cy:"50%",innerRadius:20,outerRadius:40,dataKey:"value",children:t.map((e,n)=>S.jsx(Jv,{fill:e.color},`cell-${n}`))})})})})]})})}),S.jsxs(R_,{className:"max-w-4xl",children:[S.jsx(N_,{children:S.jsx(I_,{children:"Portfolio Allocation Details"})}),S.jsxs("div",{className:"space-y-6",children:[S.jsx("div",{className:"w-full h-80 mb-6",children:S.jsx(s5,{width:"100%",height:"100%",children:S.jsxs(P5,{children:[S.jsx(hb,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:n})=>`${e} ${(n*100).toFixed(0)}%`,outerRadius:120,innerRadius:60,fill:"#8884d8",dataKey:"value",children:t.map((e,n)=>S.jsx(Jv,{fill:e.color},`cell-${n}`))}),S.jsx(l_e,{formatter:(e,n,r)=>[`${e}% (${r.payload.amount})`,n]}),S.jsx(ZS,{})]})})}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"glass-panel p-4",children:[S.jsx("div",{className:"text-sm text-muted-foreground",children:"Stocks"}),S.jsx("div",{className:"text-2xl font-bold",children:"65%"}),S.jsx("div",{className:"text-sm text-green-400",children:"HK$1,849,935"})]}),S.jsxs("div",{className:"glass-panel p-4",children:[S.jsx("div",{className:"text-sm text-muted-foreground",children:"Bonds"}),S.jsx("div",{className:"text-2xl font-bold",children:"25%"}),S.jsx("div",{className:"text-sm text-blue-400",children:"HK$711,898"})]}),S.jsxs("div",{className:"glass-panel p-4",children:[S.jsx("div",{className:"text-sm text-muted-foreground",children:"Cash"}),S.jsx("div",{className:"text-2xl font-bold",children:"10%"}),S.jsx("div",{className:"text-sm text-gray-400",children:"HK$284,759"})]}),S.jsxs("div",{className:"glass-panel p-4",children:[S.jsx("div",{className:"text-sm text-muted-foreground",children:"Risk Score"}),S.jsx("div",{className:"text-2xl font-bold text-accent",children:"7.2/10"}),S.jsx("div",{className:"text-sm text-muted-foreground",children:"Moderate-High"})]})]})]})]})]})]}),S.jsx("div",{className:"lg:col-span-1",children:S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"glass-panel p-4 rounded-xl",children:[S.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[S.jsx(td,{className:"w-5 h-5 text-green-400"}),"Performance Overview"]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm text-muted-foreground",children:"YTD Return"}),S.jsx("span",{className:"text-green-400 font-medium",children:"+12.5%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm text-muted-foreground",children:"1Y Return"}),S.jsx("span",{className:"text-green-400 font-medium",children:"+18.2%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm text-muted-foreground",children:"3Y Avg Return"}),S.jsx("span",{className:"text-green-400 font-medium",children:"+9.7%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm text-muted-foreground",children:"Sharpe Ratio"}),S.jsx("span",{className:"text-accent font-medium",children:"1.24"})]})]})]}),S.jsxs("div",{className:"glass-panel p-4 rounded-xl",children:[S.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[S.jsx(aS,{className:"w-5 h-5 text-blue-400"}),"Top Holdings"]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm",children:"Apple Inc. (AAPL)"}),S.jsx("span",{className:"font-medium",children:"8.2%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm",children:"Microsoft Corp (MSFT)"}),S.jsx("span",{className:"font-medium",children:"6.8%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm",children:"Amazon.com Inc (AMZN)"}),S.jsx("span",{className:"font-medium",children:"5.4%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-sm",children:"US Treasury 10Y Bond"}),S.jsx("span",{className:"font-medium",children:"4.1%"})]})]})]}),S.jsxs("div",{className:"glass-panel p-4 rounded-xl",children:[S.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[S.jsx(w_,{className:"w-5 h-5 text-purple-400"}),"Monthly Insights"]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-start gap-2",children:[S.jsx(WW,{className:"w-4 h-4 text-green-400 mt-0.5"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-medium",children:"Dividend Income"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"HK$4,832 this month"})]})]}),S.jsxs("div",{className:"flex items-start gap-2",children:[S.jsx($W,{className:"w-4 h-4 text-blue-400 mt-0.5"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-medium",children:"Goal Progress"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"78% to retirement target"})]})]}),S.jsxs("div",{className:"flex items-start gap-2",children:[S.jsx(XW,{className:"w-4 h-4 text-orange-400 mt-0.5"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-medium",children:"Risk Alert"}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Consider rebalancing tech exposure"})]})]})]})]})]})})]})})]})},xi=[{id:"1",title:"Fed Rate Cut Signals",summary:"Federal Reserve hints at aggressive monetary easing affecting your tech holdings",impact:"high",thumbnail:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=600&fit=crop&crop=center",timestamp:"2m ago",likes:2847,comments:189,affectedStocks:["AAPL","NVDA","MSFT"],aiConfidence:94},{id:"2",title:"China Tech Breakthrough",summary:"Semiconductor advancement impacts global supply chains and your positions",impact:"high",thumbnail:"https://images.unsplash.com/photo-1518770660439-4636190af475?w=400&h=600&fit=crop&crop=center",timestamp:"15m ago",likes:1923,comments:234,affectedStocks:["TSM","NVDA","0700.HK"],aiConfidence:87},{id:"3",title:"ESG Investment Surge",summary:"Sustainable investing trends create new opportunities matching your profile",impact:"medium",thumbnail:"https://images.unsplash.com/photo-1487058792275-0ad4aaf24ca7?w=400&h=600&fit=crop&crop=center",timestamp:"1h ago",likes:1456,comments:98,affectedStocks:["TSLA","NEE"],aiConfidence:78}],lEe=t=>{const e={1:[{symbol:"AAPL",name:"Apple",price:"$175.84",change:"+2.4%",trend:"up"},{symbol:"NVDA",name:"NVIDIA",price:"$486.21",change:"+5.7%",trend:"up"},{symbol:"MSFT",name:"Microsoft",price:"$378.91",change:"+1.8%",trend:"up"},{symbol:"AMZN",name:"Amazon",price:"$142.32",change:"+3.1%",trend:"up"}],2:[{symbol:"TSM",name:"Taiwan Semi",price:"$97.45",change:"+4.2%",trend:"up"},{symbol:"NVDA",name:"NVIDIA",price:"$486.21",change:"+5.7%",trend:"up"},{symbol:"0700.HK",name:"Tencent",price:"HK$312.40",change:"+1.8%",trend:"up"},{symbol:"ASML",name:"ASML Holding",price:"$712.88",change:"+2.9%",trend:"up"}],3:[{symbol:"TSLA",name:"Tesla",price:"$248.50",change:"+3.2%",trend:"up"},{symbol:"NEE",name:"NextEra Energy",price:"$75.92",change:"+1.5%",trend:"up"},{symbol:"ENPH",name:"Enphase Energy",price:"$98.74",change:"+6.8%",trend:"up"},{symbol:"BEP",name:"Brookfield Renewable",price:"$28.34",change:"+2.1%",trend:"up"}]};return e[t]||e[1]},cEe=()=>{const[t,e]=T.useState(0),[n,r]=T.useState(!1),[i,s]=T.useState(!1),o=async()=>{r(!0),await new Promise(l=>setTimeout(l,2e3)),s(!0),r(!1)},a=l=>{switch(l){case"high":return"bg-red-500/20 text-red-400 border-red-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};return i?S.jsxs("div",{className:"flex flex-col lg:flex-row items-start justify-center w-full max-w-7xl mx-auto p-4 gap-6",children:[S.jsx("h2",{className:"text-2xl font-bold text-white w-full text-center lg:hidden mb-4",children:"Your AI News Feed"}),S.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center space-y-6",children:[S.jsx("h2",{className:"text-2xl font-bold text-white hidden lg:block",children:"Your AI News Feed"}),S.jsxs("div",{className:"relative",children:[S.jsxs("div",{className:"aspect-[9/16] max-h-[600px] bg-black rounded-2xl overflow-hidden relative group",children:[S.jsxs("div",{className:"absolute inset-0 z-20 flex",children:[S.jsx("button",{className:"w-1/3 h-full flex items-center justify-start pl-4 opacity-0 hover:opacity-100 transition-opacity",onClick:()=>e(t>0?t-1:xi.length-1),children:S.jsx("div",{className:"w-8 h-8 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center",children:S.jsx(xoe,{className:"w-5 h-5 text-white"})})}),S.jsx("div",{className:"w-1/3 h-full"}),S.jsx("button",{className:"w-1/3 h-full flex items-center justify-end pr-4 opacity-0 hover:opacity-100 transition-opacity",onClick:()=>e(t<xi.length-1?t+1:0),children:S.jsx("div",{className:"w-8 h-8 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center",children:S.jsx(woe,{className:"w-5 h-5 text-white"})})})]}),S.jsx("img",{src:xi[t].thumbnail,alt:xi[t].title,className:"w-full h-full object-cover",onError:l=>{l.currentTarget.src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=400&h=600&fit=crop&crop=center"},style:{minHeight:"100%",minWidth:"100%"}}),S.jsx("div",{className:"absolute top-4 right-4",children:S.jsxs(Of,{className:"bg-primary/20 text-primary border-primary/30 backdrop-blur-sm",children:["AI ",xi[t].aiConfidence,"%"]})}),S.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/90 to-transparent text-white",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(Of,{className:`text-xs ${a(xi[t].impact)}`,children:xi[t].impact.toUpperCase()}),S.jsx("span",{className:"text-xs opacity-75",children:xi[t].timestamp})]}),S.jsx("h3",{className:"text-lg font-bold mb-2",children:xi[t].title}),S.jsx("p",{className:"text-sm opacity-90 mb-3",children:xi[t].summary}),S.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[S.jsx("span",{className:"text-xs opacity-75",children:"Affects:"}),xi[t].affectedStocks.map(l=>S.jsx(Of,{variant:"outline",className:"text-xs text-white border-white/30",children:l},l))]}),S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsxs("button",{className:"flex items-center space-x-1",children:[S.jsx(Coe,{className:"w-5 h-5"}),S.jsx("span",{className:"text-sm",children:xi[t].likes})]}),S.jsxs("button",{className:"flex items-center space-x-1",children:[S.jsx(Roe,{className:"w-5 h-5"}),S.jsx("span",{className:"text-sm",children:xi[t].comments})]}),S.jsx("button",{children:S.jsx(koe,{className:"w-5 h-5"})})]})})]}),S.jsx("div",{className:"absolute top-4 left-4 right-16",children:S.jsx("div",{className:"flex space-x-1",children:xi.map((l,c)=>S.jsx("div",{className:`h-1 flex-1 rounded-full ${c===t?"bg-white":"bg-white/30"}`},c))})})]}),S.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:xi.map((l,c)=>S.jsx("button",{onClick:()=>e(c),className:`w-2 h-2 rounded-full transition-colors ${c===t?"bg-primary":"bg-muted-foreground/40"}`},c))})]})]}),S.jsx("div",{className:"w-full lg:w-1/2 flex flex-col space-y-4",children:S.jsxs("div",{className:"glass-panel p-4 rounded-2xl",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[S.jsx(td,{className:"w-5 h-5 text-primary"}),S.jsx("h3",{className:"font-semibold text-white",children:"Stocks related to news"})]}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:lEe(xi[t].id).map(l=>S.jsxs("div",{className:"glass-panel p-3 rounded-xl hover:shadow-lg transition-all cursor-pointer",children:[S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsx("div",{className:"font-bold text-sm",children:l.symbol}),S.jsx(td,{className:"w-3 h-3 text-green-500"})]}),S.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:l.name}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("div",{className:"font-semibold text-sm",children:l.price}),S.jsx("div",{className:"text-sm font-medium text-green-500",children:l.change})]})]},l.symbol))}),S.jsxs(Hr,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:o,children:[S.jsx(kx,{className:"w-4 h-4 mr-1"}),"Refresh Analysis"]})]})})]}):S.jsxs("div",{className:"flex flex-col items-center justify-center w-full max-w-md mx-auto p-6 space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsxs("div",{className:"relative mx-auto w-24 h-24",children:[S.jsx(kx,{className:"w-24 h-24 text-primary animate-pulse"}),S.jsx("div",{className:"absolute inset-0 animate-ping",children:S.jsx(kx,{className:"w-24 h-24 text-primary/30"})})]}),S.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"AI News Agent"}),S.jsx("p",{className:"text-muted-foreground",children:"Get personalized financial news curated for your portfolio"})]}),S.jsx(Hr,{onClick:o,disabled:n,size:"lg",className:"w-full bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground shadow-lg hover:shadow-xl transition-all duration-300",children:n?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"AI is analyzing..."]}):S.jsxs(S.Fragment,{children:[S.jsx(kx,{className:"w-5 h-5 mr-2"}),"Find me personalized news"]})})]})},Go={MAX_REQUESTS_PER_MINUTE:10,MAX_MESSAGE_LENGTH:2e3,MIN_MESSAGE_LENGTH:1,FORBIDDEN_PATTERNS:[/<script[^>]*>.*?<\/script>/gi,/javascript:/gi,/vbscript:/gi,/on\w+\s*=/gi,/<iframe[^>]*>.*?<\/iframe>/gi,/<object[^>]*>.*?<\/object>/gi,/<embed[^>]*>.*?<\/embed>/gi],SUSPICIOUS_PATTERNS:[/SELECT.*FROM/gi,/DROP\s+TABLE/gi,/INSERT\s+INTO/gi,/DELETE\s+FROM/gi,/UNION\s+SELECT/gi,/<svg[^>]*onload/gi],WEBHOOK_TIMEOUT:3e4,MAX_RETRIES:3},R5={NORMAL_MODE:"https://wonder3.app.n8n.cloud/webhook/b9ab99b4-ccf9-43ca-a406-3b14c47362ec",ADVANCED_MODE:"https://wonder3.app.n8n.cloud/webhook/ad30832c-1f6b-4293-8eec-85490817e62d"};class uEe{constructor(){tg(this,"requests",new Map)}isAllowed(e){const n=Date.now(),i=(this.requests.get(e)||[]).filter(s=>n-s<6e4);return i.length>=Go.MAX_REQUESTS_PER_MINUTE?!1:(i.push(n),this.requests.set(e,i),!0)}getRemainingRequests(e){const n=Date.now(),i=(this.requests.get(e)||[]).filter(s=>n-s<6e4);return Math.max(0,Go.MAX_REQUESTS_PER_MINUTE-i.length)}}const GP=new uEe;class fEe{constructor(){tg(this,"logs",[])}log(e,n,r,i){const s={timestamp:new Date,type:e,userId:n,message:r,data:i};this.logs.push(s),this.logs.length>1e3&&(this.logs=this.logs.slice(-1e3))}getLogs(){return[...this.logs]}getLogsByType(e){return this.logs.filter(n=>n.type===e)}}const Tl=new fEe;function dEe(t,e){const n=[];let r=t.trim();r.length<Go.MIN_MESSAGE_LENGTH&&n.push("Message too short"),r.length>Go.MAX_MESSAGE_LENGTH&&(n.push("Message too long"),r=r.substring(0,Go.MAX_MESSAGE_LENGTH));for(const s of Go.FORBIDDEN_PATTERNS)s.test(r)&&(n.push("Forbidden content detected"),Tl.log("security_violation",e,"Forbidden pattern detected",{pattern:s.source}),r=r.replace(s,"[REMOVED]"));for(const s of Go.SUSPICIOUS_PATTERNS)s.test(r)&&(n.push("Suspicious content detected"),Tl.log("suspicious_content",e,"Suspicious pattern detected",{pattern:s.source}));r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");const i=n.length===0;return i||Tl.log("validation_error",e,"Input validation failed",{violations:n,originalLength:t.length}),{isValid:i,sanitized:r,violations:n}}function hEe(t,e){const n=[];let r=t.trim();for(const s of Go.FORBIDDEN_PATTERNS)s.test(r)&&(n.push("Forbidden content detected in AI response"),Tl.log("security_violation",e,"Forbidden pattern in AI response",{pattern:s.source}),r=r.replace(s,"[REMOVED]"));const i=n.length===0;return i||Tl.log("validation_error",e,"AI response validation failed",{violations:n}),{isValid:i,sanitized:r,violations:n}}function pEe(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#39;/g,"'")}async function kK(t,e,n,r=0){if(!GP.isAllowed(n))throw Tl.log("rate_limit",n,"Rate limit exceeded"),new Error("Rate limit exceeded. Please wait before sending another message.");const i=new AbortController,s=setTimeout(()=>i.abort(),Go.WEBHOOK_TIMEOUT);try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Request-ID":`${n}-${Date.now()}`,"X-Client-Info":"BOCHK-AI-Client"},body:JSON.stringify({...e,security:{timestamp:new Date().toISOString(),requestId:`${n}-${Date.now()}`,clientVersion:"1.0.0"}}),signal:i.signal,mode:"cors"});if(clearTimeout(s),!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);return o}catch(o){if(clearTimeout(s),r<Go.MAX_RETRIES&&(o instanceof TypeError||o.message.includes("fetch"))){Tl.log("security_violation",n,`Webhook request failed, retrying (${r+1}/${Go.MAX_RETRIES})`,{error:o.message});const a=Math.pow(2,r)*1e3;return await new Promise(l=>setTimeout(l,a)),kK(t,e,n,r+1)}throw Tl.log("security_violation",n,"Webhook request failed after retries",{error:o.message}),o}}function mEe(){const t=Date.now(),e=Math.random().toString(36).substring(2);return`user_${t}_${e}`}function gEe(t){return t>=0&&t<=2&&Number.isInteger(t)}function vEe(t){return t instanceof Error?"An error occurred. Please try again.":"An unexpected error occurred."}const N5=[{id:"finance",title:"Finance Research",description:"Financial analysis and research",color:"bg-primary/20 border-primary/40"}],yEe=()=>{const[t,e]=T.useState("finance"),[n,r]=T.useState(!1),[i,s]=T.useState(0),[o]=T.useState(()=>mEe()),[a,l]=T.useState(10),[c,u]=T.useState([{id:"welcome",content:"Give me a NASDAQ stock and I'll find you the latest research",isUser:!1,timestamp:new Date}]),[f,d]=T.useState([{id:"welcome-advanced",content:"Advanced AI Agent activated! Click Question Suggestions to start asking.",isUser:!1,timestamp:new Date}]),h=n?f:c,p=n?d:u,[v,y]=T.useState(""),[g,_]=T.useState(!1),[w,b]=T.useState(""),M=I=>{switch(I){case 0:return"Client";case 1:return"Parents";case 2:return"Relation Manager";default:return"Client"}},A=()=>i===1?{primary:"bg-parent",primaryHover:"hover:bg-parent/80",text:"text-parent",bg:"bg-parent/5",border:"border-parent/20",foreground:"text-parent-foreground"}:i===2?{primary:"bg-rm",primaryHover:"hover:bg-rm/80",text:"text-rm",bg:"bg-rm/5",border:"border-rm/20",foreground:"text-rm-foreground"}:n?{primary:"bg-advanced",primaryHover:"hover:bg-advanced/80",text:"text-advanced",bg:"bg-advanced/5",border:"border-advanced/20",foreground:"text-advanced-foreground"}:{primary:"bg-primary",primaryHover:"hover:bg-primary/80",text:"text-primary",bg:"bg-primary/5",border:"border-primary/20",foreground:"text-primary-foreground"},C=["Nvidia (NVDA)","Microsoft (MSFT)","Apple (AAPL)","Amazon (AMZN)","Meta (META)","Netflix (NFLX)","Palantir (PLTR)","ASML (ASML)","Paypal (PYPL)","JD.com (JD)","Trip.com (TCOM)","Duolingo (DUOL)","Bilibili (BILI)","Tesla (TSLA)"],N=["What's been the main driver behind my 12.5% year‑to‑date return?","Am I too concentrated in tech?","How much income could I generate if I shifted 20% of my equity holdings into dividend‑paying stocks?","How does my Sharpe Ratio of 1.24 compare to top‑performing portfolios?","What would happen to my portfolio if we had a 2008‑style market crash?","What does it mean that I'm 78% to my retirement target?","Should I consider tax‑loss harvesting this quarter?","What would a rebalance look like today?","Is my cash working hard enough in this rate environment?","What's my international exposure and is it sufficient?","What's my diversification score of 85 % telling me?","What does a portfolio beta of 1.05 imply?","What is my 95 % one‑day Value‑at‑Risk?","How does my downside deviation compare with peers?","What was my worst drawdown since 2020?",'Does my 65 / 25 / 10 split suit a "Moderate" risk profile?',"If I lift tech exposure to 30 % of equities, what changes?","What's the impact of moving 5 % of assets into physical gold?","How would a 7‑year green bond sleeve affect my duration?","What extra fees come from a 3 % private‑equity allocation?","If I raise monthly deposits 10 % to HK$16,720, how soon do I hit my goal?","Is my 2 % dividend yield competitive?","Would a covered‑call strategy on Apple and Microsoft raise income meaningfully?","What are my turnover and tax‑drag figures?","Would swapping half my bonds into a municipal ladder help?","How much loss carry‑forward do I still have?","What does a 50 bp Fed rate cut mean for my bonds?","How sensitive am I to USD/HKD moves?","How did I perform versus the Hang Seng Index last year?","Is dollar‑cost averaging my HK$15,200 deposits still wise?","When do 3‑month T‑Bills beat my 4.6 % sweep yield?","Would allocating 3 % to green bonds boost my ESG score?"],R=()=>{const I=C[Math.floor(Math.random()*C.length)];b(I)},D=()=>{const I=N[Math.floor(Math.random()*N.length)];y(I)};T.useEffect(()=>{w||R()},[]);const F=async()=>{var X;if(!v.trim()||g)return;const I=dEe(v,o);if(!I.isValid){Tw({title:"Invalid Input",description:`Your message contains prohibited content: ${I.violations.join(", ")}`,variant:"destructive"});return}if(!gEe(i)){Tw({title:"Security Error",description:"Invalid user role detected",variant:"destructive"});return}const V={id:Date.now().toString(),content:I.sanitized,isUser:!0,timestamp:new Date};p(L=>[...L,V]);const j=I.sanitized;y(""),_(!0);try{const L=n?R5.ADVANCED_MODE:R5.NORMAL_MODE,k={message:j,mode:n?"advanced_finance":t,user_type:M(i),timestamp:new Date().toISOString(),user_id:o};console.log("Sending to secure webhook:",{url:L,userId:o});const z=await kK(L,k,o);l(GP.getRemainingRequests(o));const B=await z.json();console.log("Received secure response:",{userId:o,hasData:!!B});let G="";B.data?G=B.data:B.body?G=B.body:B.output?G=B.output:B.response?G=B.response:B.ai_response?G=B.ai_response:B.result?G=B.result:B.message&&B.message!=="Workflow was started"?G=B.message:B.text?G=B.text:G=`I understand you're asking about "${j}". As your BOCHK AI Agent in ${n?"Advanced Finance":(X=N5.find(Q=>Q.id===t))==null?void 0:X.title} mode for ${M(i)}, I'm here to help you with that.`;const Y=hEe(G,o),Z={id:(Date.now()+1).toString(),content:Y.sanitized,isUser:!1,timestamp:new Date};p(Q=>[...Q,Z])}catch(L){console.error("Secure webhook error:",{userId:o,error:L instanceof Error?L.message:"Unknown error"}),Tl.log("security_violation",o,"Webhook request failed",{error:L instanceof Error?L.message:"Unknown error"});const k=vEe(L);Tw({title:"Connection Error",description:k,variant:"destructive"});const z={id:(Date.now()+1).toString(),content:"I'm experiencing connectivity issues. Please try again in a moment.",isUser:!1,timestamp:new Date};p(B=>[...B,z])}finally{_(!1),l(GP.getRemainingRequests(o))}},U=I=>{let j=pEe(I);try{if(I.trim().startsWith("http")&&I.includes(".json")){const Y=I.trim();return S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{children:"Generated image data:"}),S.jsx("a",{href:Y,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline break-all",children:Y})]})}}catch{}const X=/!\[(.*?)\]\((.*?)\)/g,L=/(https?:\/\/[^\s]+\.(?:png|jpg|jpeg|gif|webp|svg))/gi,k=[];let z;for(;(z=X.exec(I))!==null;){const Y=`__IMAGE_${k.length}__`,Z=S.jsxs(XC,{children:[S.jsx(YC,{asChild:!0,children:S.jsxs("div",{className:"relative group cursor-pointer",children:[S.jsx("img",{src:z[2],alt:z[1],className:"max-w-full h-auto rounded-lg mt-2 mb-2 block hover:opacity-80 transition-opacity",style:{maxWidth:"100%",height:"auto"},onError:Q=>{Q.currentTarget.style.display="none"}}),S.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors rounded-lg flex items-center justify-center",children:S.jsx(vF,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})}),S.jsxs(R_,{className:"max-w-4xl w-full",children:[S.jsx(N_,{children:S.jsx(I_,{children:z[1]||"Chart View"})}),S.jsx("div",{className:"flex justify-center",children:S.jsx("img",{src:z[2],alt:z[1],className:"max-w-full max-h-[70vh] h-auto rounded-lg",onError:Q=>{Q.currentTarget.style.display="none"}})})]})]},`md-${z.index}`);k.push({element:Z,placeholder:Y}),j=j.replace(z[0],Y)}j=j.replace(L,Y=>{const Z=`__IMAGE_${k.length}__`,Q=S.jsxs(XC,{children:[S.jsx(YC,{asChild:!0,children:S.jsxs("div",{className:"relative group cursor-pointer",children:[S.jsx("img",{src:Y,alt:"Chart",className:"max-w-full h-auto rounded-lg mt-2 mb-2 block hover:opacity-80 transition-opacity",style:{maxWidth:"100%",height:"auto"},onError:re=>{re.currentTarget.style.display="none"}}),S.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors rounded-lg flex items-center justify-center",children:S.jsx(vF,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})}),S.jsxs(R_,{className:"max-w-4xl w-full",children:[S.jsx(N_,{children:S.jsx(I_,{children:"Chart View"})}),S.jsx("div",{className:"flex justify-center",children:S.jsx("img",{src:Y,alt:"Chart",className:"max-w-full max-h-[70vh] h-auto rounded-lg",onError:re=>{re.currentTarget.style.display="none"}})})]})]},`url-${k.length}`);return k.push({element:Q,placeholder:Z}),Z});const B=Y=>{const Z=Y.split("\\n");return Z.map((Q,re)=>{const ae=Q.split(/(\*[^*]+\*)/g).map((se,fe)=>se.startsWith("*")&&se.endsWith("*")&&se.length>2?S.jsx("strong",{children:se.slice(1,-1)},`${re}-${fe}`):se);return S.jsxs("span",{children:[ae,re<Z.length-1&&S.jsx("br",{})]},re)})};return j.split(/(__IMAGE_\d+__)/).map((Y,Z)=>{var re;const Q=Y.match(/^__IMAGE_(\d+)__$/);if(Q){const J=parseInt(Q[1]);return((re=k[J])==null?void 0:re.element)||Y}return Y?S.jsx("span",{children:B(Y)},Z):null}).filter(Boolean)},$=A();return i===1?S.jsxs(S.Fragment,{children:[S.jsx(y$,{}),S.jsx(gA,{userType:i,setUserType:s})]}):i===2?S.jsxs(S.Fragment,{children:[S.jsx(x$,{}),S.jsx(gA,{userType:i,setUserType:s})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"w-full max-w-6xl mx-auto p-4 sm:p-6",children:[S.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 mb-4 sm:mb-6",children:N5.map(I=>S.jsxs("button",{onClick:()=>e(I.id),className:`
                p-4 rounded-xl border backdrop-blur-md transition-all duration-300
                ${t===I.id?`${$.bg} ${$.border} shadow-glow scale-105`:"bg-glass border-glass-border hover:scale-102"}
              `,children:[S.jsx("div",{className:"font-medium",children:I.title}),S.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:I.description})]},I.id))}),S.jsx("div",{className:"w-full relative",children:S.jsxs("div",{className:`glass-panel p-3 sm:p-6 transition-all duration-500 relative bg-glass/90 backdrop-blur-xl ${n?"premium-glow premium-shine":""}`,children:[S.jsx("div",{className:"h-96 sm:h-96 overflow-y-auto mb-4 space-y-4 relative z-20",children:h.length===0?S.jsxs("div",{className:"text-center text-muted-foreground py-8 sm:py-16",children:[S.jsx("div",{className:"text-base sm:text-lg font-medium mb-2",children:"Ready to assist you"}),S.jsx("div",{className:"text-xs sm:text-sm",children:"Ask me anything about banking, finance, or investments"})]}):S.jsxs(S.Fragment,{children:[h.map(I=>S.jsx("div",{className:`flex ${I.isUser?"justify-end":"justify-start"}`,children:S.jsxs("div",{className:`flex items-start gap-2 ${I.isUser?"flex-row-reverse":"flex-row"}`,children:[S.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${$.primary}`,children:I.isUser?S.jsx(Uoe,{className:`w-4 h-4 ${$.foreground}`}):S.jsx(DC,{className:`w-4 h-4 ${$.foreground} ${n?"text-golden animate-pulse":""}`})}),S.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[S.jsx("div",{className:`text-xs font-medium ${I.isUser?"text-right":"text-left"}`,children:I.isUser?"You":S.jsx("span",{className:"animate-float-gentle",children:"Xin AI"})}),S.jsx("div",{className:`
                              w-full max-w-[85vw] sm:max-w-xs lg:max-w-md px-3 sm:px-4 py-2 rounded-xl
                               ${I.isUser?n?`${$.primary} text-black ml-auto`:`${$.primary} ${$.foreground} ml-auto`:n?`${$.bg} ${$.border} backdrop-blur-md border`:"glass-panel"}
                            `,children:U(I.content)})]})]})},I.id)),g&&S.jsx("div",{className:"flex justify-start",children:S.jsxs("div",{className:"flex items-start gap-2 flex-row w-full",children:[S.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${$.primary}`,children:S.jsx(DC,{className:`w-4 h-4 ${$.foreground}`})}),S.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[S.jsx("div",{className:"text-xs font-medium text-left",children:S.jsx("span",{className:"animate-float-gentle",children:"Xin AI"})}),S.jsx("div",{className:`w-full max-w-[85vw] sm:max-w-xs lg:max-w-md ${n?`${$.bg} ${$.border} backdrop-blur-md px-3 sm:px-4 py-2 rounded-xl border`:"glass-panel px-3 sm:px-4 py-2 rounded-xl"}`,children:S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-b-2 ${$.text.replace("text-","border-")}`}),S.jsx("span",{children:"AI is thinking..."})]})})]})]})})]})}),S.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:S.jsxs("button",{onClick:()=>{n?D():(R(),y(`Research ${C[Math.floor(Math.random()*C.length)]}`))},className:"flex items-center gap-2 p-3 rounded-lg bg-sky-500/10 border border-sky-500/30 hover:bg-sky-500/20 hover:border-sky-500/40 transition-all duration-200 cursor-pointer",disabled:g,title:n?"Get question suggestions":"Get stock suggestions",children:[S.jsx(Soe,{className:"w-4 h-4 text-sky-400"}),S.jsx("span",{className:"text-sm font-medium text-sky-400",children:n?"Question Suggestions":"Stock Suggestions"})]})}),S.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:S.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-glass border border-glass-border",children:[S.jsx(Foe,{className:`w-4 h-4 ${n?"text-golden":"text-muted-foreground"}`}),S.jsx("span",{className:"text-sm font-medium",children:"Advanced Mode"}),S.jsx(VI,{checked:n,onCheckedChange:r,className:"data-[state=checked]:bg-green-500"})]})}),S.jsx("div",{className:"flex items-center justify-end mb-2 px-2",children:S.jsxs("div",{className:"text-xs text-muted-foreground",children:["Requests remaining: ",a]})}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"flex-1 relative",children:[n&&S.jsx("div",{className:"input-particles absolute -inset-2 pointer-events-none overflow-visible",children:[...Array(36)].map((I,V)=>{const j=Math.floor(Math.random()*4);let X,L,k,z;switch(j){case 0:X=Math.random()*100,L=5,k=(Math.random()-.5)*2,z=-1;break;case 1:X=95,L=Math.random()*100,k=1,z=(Math.random()-.5)*2;break;case 2:X=Math.random()*100,L=95,k=(Math.random()-.5)*2,z=1;break;default:X=5,L=Math.random()*100,k=-1,z=(Math.random()-.5)*2}return S.jsx("div",{className:"input-particle",style:{left:`${X}%`,top:`${L}%`,"--particle-dx":k,"--particle-dy":z,animationDelay:`${Math.random()*2}s`,animationDuration:`${1.5+Math.random()*1}s`}},`input-${V}`)})}),S.jsx(Vv,{value:v,onChange:I=>y(I.target.value),onKeyPress:I=>I.key==="Enter"&&F(),placeholder:n?"Ask portfolio AI Agent...":"Type your message...",className:`relative z-10 ${n?`${$.bg} ${$.border} border`:"bg-glass border-glass-border"}`,disabled:g})]}),S.jsx(Hr,{size:"icon",onClick:F,className:`${$.primary} ${$.primaryHover} ${$.foreground}`,disabled:g||!v.trim(),children:S.jsx(Loe,{className:"w-4 h-4"})})]})]})})]}),S.jsx("div",{className:"animate-fade-in",style:{animationDelay:"600ms"},children:S.jsx(aEe,{})}),S.jsx("div",{className:"animate-fade-in",style:{animationDelay:"900ms"},children:S.jsx(cEe,{})}),S.jsx(gA,{userType:i,setUserType:s})]})},gA=({userType:t,setUserType:e})=>{const n=[{id:0,label:"BOCHK Client",icon:goe,color:"hsl(343, 75%, 43%)",bgColor:"bg-primary",shortLabel:["BOCHK","Client"]},{id:1,label:"Parents",icon:boe,color:"hsl(45, 95%, 55%)",bgColor:"bg-parent",shortLabel:["Parents"]},{id:2,label:"Relation Manager",icon:SI,color:"hsl(220, 90%, 55%)",bgColor:"bg-rm",shortLabel:["Relation","Manager"]}];return S.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:S.jsxs("div",{className:"relative flex items-center h-16 rounded-xl",style:{width:"360px"},children:[S.jsx("div",{className:"absolute h-14 rounded-lg transition-all duration-500 ease-out",style:{left:"4px",width:"116px",transform:`translateX(${t*116}px)`,background:`linear-gradient(135deg, ${n[t].color}dd, ${n[t].color}aa)`,boxShadow:`0 4px 20px ${n[t].color}60, 0 0 0 1px ${n[t].color}40`,border:`1px solid ${n[t].color}80`}}),n.map(r=>{const i=r.icon,s=t===r.id;return S.jsxs("button",{onClick:()=>e(r.id),className:`
                  relative z-10 flex flex-col items-center justify-center w-[116px] h-14 rounded-lg
                  transition-all duration-300 ease-out
                  ${s?"text-white font-semibold transform scale-105":"text-white/70 hover:text-white/90 hover:scale-102"}
                `,style:{textShadow:s?`0 1px 3px ${r.color}80`:"none"},children:[S.jsx(i,{className:`w-4 h-4 mb-1 transition-all duration-300 ${s?"drop-shadow-lg":""}`,style:{filter:s?`drop-shadow(0 0 4px ${r.color}80)`:"none"}}),S.jsx("div",{className:"text-xs text-center leading-tight font-medium",children:r.shortLabel.map((o,a)=>S.jsx("div",{children:o},a))})]},r.id)})]})})},UK=T.createContext({});function xEe(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const BL=typeof window<"u",wEe=BL?T.useLayoutEffect:T.useEffect,zL=T.createContext(null);function jL(t,e){t.indexOf(e)===-1&&t.push(e)}function VL(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Bl=(t,e,n)=>n>e?e:n<t?t:n;let mb=()=>{};const zl={},FK=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function BK(t){return typeof t=="object"&&t!==null}const zK=t=>/^0[^.\s]+$/u.test(t);function HL(t){let e;return()=>(e===void 0&&(e=t()),e)}const go=t=>t,_Ee=(t,e)=>n=>e(t(n)),oy=(...t)=>t.reduce(_Ee),e0=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class WL{constructor(){this.subscriptions=[]}add(e){return jL(this.subscriptions,e),()=>VL(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Na=t=>t*1e3,Ia=t=>t/1e3;function jK(t,e){return e?t*(1e3/e):0}const VK=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bEe=1e-7,SEe=12;function EEe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=VK(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>bEe&&++a<SEe);return o}function ay(t,e,n,r){if(t===e&&n===r)return go;const i=s=>EEe(s,0,1,t,n);return s=>s===0||s===1?s:VK(i(s),e,r)}const HK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WK=t=>e=>1-t(1-e),GK=ay(.33,1.53,.69,.99),GL=WK(GK),$K=HK(GL),XK=t=>(t*=2)<1?.5*GL(t):.5*(2-Math.pow(2,-10*(t-1))),$L=t=>1-Math.sin(Math.acos(t)),YK=WK($L),KK=HK($L),MEe=ay(.42,0,1,1),TEe=ay(0,0,.58,1),qK=ay(.42,0,.58,1),AEe=t=>Array.isArray(t)&&typeof t[0]!="number",ZK=t=>Array.isArray(t)&&typeof t[0]=="number",I5={linear:go,easeIn:MEe,easeInOut:qK,easeOut:TEe,circIn:$L,circInOut:KK,circOut:YK,backIn:GL,backInOut:$K,backOut:GK,anticipate:XK},CEe=t=>typeof t=="string",D5=t=>{if(ZK(t)){mb(t.length===4);const[e,n,r,i]=t;return ay(e,n,r,i)}else if(CEe(t))return mb(I5[t]!==void 0),I5[t];return t},i1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],L5={value:null,addProjectionMetrics:null};function PEe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(u.schedule(f),t()),l++,f(a)}const u={schedule:(f,d=!1,h=!1)=>{const v=h&&i?n:r;return d&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&L5.value&&L5.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const REe=40;function QK(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=i1.reduce((w,b)=>(w[b]=PEe(s,e?b:void 0),w),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:d,render:h,postRender:p}=o,v=()=>{const w=zl.useManualTiming?i.timestamp:performance.now();n=!1,zl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,REe),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},y=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:i1.reduce((w,b)=>{const M=o[b];return w[b]=(A,C=!1,N=!1)=>(n||y(),M.schedule(A,C,N)),w},{}),cancel:w=>{for(let b=0;b<i1.length;b++)o[i1[b]].cancel(w)},state:i,steps:o}}const{schedule:Nn,cancel:pu,state:ri,steps:vA}=QK(typeof requestAnimationFrame<"u"?requestAnimationFrame:go,!0);let Iw;function NEe(){Iw=void 0}const fs={now:()=>(Iw===void 0&&fs.set(ri.isProcessing||zl.useManualTiming?ri.timestamp:performance.now()),Iw),set:t=>{Iw=t,queueMicrotask(NEe)}},JK=t=>e=>typeof e=="string"&&e.startsWith(t),XL=JK("--"),IEe=JK("var(--"),YL=t=>IEe(t)?DEe.test(t.split("/*")[0].trim()):!1,DEe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},t0={...bm,transform:t=>Bl(0,1,t)},s1={...bm,default:1},sv=t=>Math.round(t*1e5)/1e5,KL=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LEe(t){return t==null}const OEe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qL=(t,e)=>n=>!!(typeof n=="string"&&OEe.test(n)&&n.startsWith(t)||e&&!LEe(n)&&Object.prototype.hasOwnProperty.call(n,e)),eq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(KL);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},kEe=t=>Bl(0,255,t),yA={...bm,transform:t=>Math.round(kEe(t))},Sf={test:qL("rgb","red"),parse:eq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+yA.transform(t)+", "+yA.transform(e)+", "+yA.transform(n)+", "+sv(t0.transform(r))+")"};function UEe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const $P={test:qL("#"),parse:UEe,transform:Sf.transform},ly=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cc=ly("deg"),Da=ly("%"),At=ly("px"),FEe=ly("vh"),BEe=ly("vw"),O5={...Da,parse:t=>Da.parse(t)/100,transform:t=>Da.transform(t*100)},Wh={test:qL("hsl","hue"),parse:eq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Da.transform(sv(e))+", "+Da.transform(sv(n))+", "+sv(t0.transform(r))+")"},xr={test:t=>Sf.test(t)||$P.test(t)||Wh.test(t),parse:t=>Sf.test(t)?Sf.parse(t):Wh.test(t)?Wh.parse(t):$P.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Sf.transform(t):Wh.transform(t),getAnimatableNone:t=>{const e=xr.parse(t);return e.alpha=0,xr.transform(e)}},zEe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jEe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(KL))==null?void 0:e.length)||0)+(((n=t.match(zEe))==null?void 0:n.length)||0)>0}const tq="number",nq="color",VEe="var",HEe="var(",k5="${}",WEe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function n0(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(WEe,l=>(xr.test(l)?(r.color.push(s),i.push(nq),n.push(xr.parse(l))):l.startsWith(HEe)?(r.var.push(s),i.push(VEe),n.push(l)):(r.number.push(s),i.push(tq),n.push(parseFloat(l))),++s,k5)).split(k5);return{values:n,split:a,indexes:r,types:i}}function rq(t){return n0(t).values}function iq(t){const{split:e,types:n}=n0(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===tq?s+=sv(i[o]):a===nq?s+=xr.transform(i[o]):s+=i[o]}return s}}const GEe=t=>typeof t=="number"?0:xr.test(t)?xr.getAnimatableNone(t):t;function $Ee(t){const e=rq(t);return iq(t)(e.map(GEe))}const mu={test:jEe,parse:rq,createTransformer:iq,getAnimatableNone:$Ee};function xA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function XEe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=xA(l,a,t+1/3),s=xA(l,a,t),o=xA(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function gb(t,e){return n=>n>0?e:t}const Fn=(t,e,n)=>t+(e-t)*n,wA=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},YEe=[$P,Sf,Wh],KEe=t=>YEe.find(e=>e.test(t));function U5(t){const e=KEe(t);if(!e)return!1;let n=e.parse(t);return e===Wh&&(n=XEe(n)),n}const F5=(t,e)=>{const n=U5(t),r=U5(e);if(!n||!r)return gb(t,e);const i={...n};return s=>(i.red=wA(n.red,r.red,s),i.green=wA(n.green,r.green,s),i.blue=wA(n.blue,r.blue,s),i.alpha=Fn(n.alpha,r.alpha,s),Sf.transform(i))},XP=new Set(["none","hidden"]);function qEe(t,e){return XP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ZEe(t,e){return n=>Fn(t,e,n)}function ZL(t){return typeof t=="number"?ZEe:typeof t=="string"?YL(t)?gb:xr.test(t)?F5:eMe:Array.isArray(t)?sq:typeof t=="object"?xr.test(t)?F5:QEe:gb}function sq(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>ZL(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function QEe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ZL(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function JEe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const eMe=(t,e)=>{const n=mu.createTransformer(e),r=n0(t),i=n0(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?XP.has(t)&&!i.values.length||XP.has(e)&&!r.values.length?qEe(t,e):oy(sq(JEe(r,i),i.values),n):gb(t,e)};function oq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fn(t,e,n):ZL(t)(t,e)}const tMe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Nn.update(e,n),stop:()=>pu(e),now:()=>ri.isProcessing?ri.timestamp:fs.now()}},aq=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},vb=2e4;function QL(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<vb;)e+=n,r=t.next(e);return e>=vb?1/0:e}function nMe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(QL(r),vb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ia(i)}}const rMe=5;function lq(t,e,n){const r=Math.max(e-rMe,0);return jK(n-t(r),e-r)}const Kn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_A=.001;function iMe({duration:t=Kn.duration,bounce:e=Kn.bounce,velocity:n=Kn.velocity,mass:r=Kn.mass}){let i,s,o=1-e;o=Bl(Kn.minDamping,Kn.maxDamping,o),t=Bl(Kn.minDuration,Kn.maxDuration,Ia(t)),o<1?(i=c=>{const u=c*o,f=u*t,d=u-n,h=YP(c,o),p=Math.exp(-f);return _A-d/h*p},s=c=>{const f=c*o*t,d=f*n+n,h=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-f),v=YP(Math.pow(c,2),o);return(-i(c)+_A>0?-1:1)*((d-h)*p)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-_A+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=oMe(i,s,a);if(t=Na(t),isNaN(l))return{stiffness:Kn.stiffness,damping:Kn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const sMe=12;function oMe(t,e,n){let r=n;for(let i=1;i<sMe;i++)r=r-t(r)/e(r);return r}function YP(t,e){return t*Math.sqrt(1-e*e)}const aMe=["duration","bounce"],lMe=["stiffness","damping","mass"];function B5(t,e){return e.some(n=>t[n]!==void 0)}function cMe(t){let e={velocity:Kn.velocity,stiffness:Kn.stiffness,damping:Kn.damping,mass:Kn.mass,isResolvedFromDuration:!1,...t};if(!B5(t,lMe)&&B5(t,aMe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Bl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Kn.mass,stiffness:i,damping:s}}else{const n=iMe(t);e={...e,...n,mass:Kn.mass},e.isResolvedFromDuration=!0}return e}function yb(t=Kn.visualDuration,e=Kn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:h}=cMe({...n,velocity:-Ia(n.velocity||0)}),p=d||0,v=c/(2*Math.sqrt(l*u)),y=o-s,g=Ia(Math.sqrt(l/u)),_=Math.abs(y)<5;r||(r=_?Kn.restSpeed.granular:Kn.restSpeed.default),i||(i=_?Kn.restDelta.granular:Kn.restDelta.default);let w;if(v<1){const M=YP(g,v);w=A=>{const C=Math.exp(-v*g*A);return o-C*((p+v*g*y)/M*Math.sin(M*A)+y*Math.cos(M*A))}}else if(v===1)w=M=>o-Math.exp(-g*M)*(y+(p+g*y)*M);else{const M=g*Math.sqrt(v*v-1);w=A=>{const C=Math.exp(-v*g*A),N=Math.min(M*A,300);return o-C*((p+v*g*y)*Math.sinh(N)+M*y*Math.cosh(N))/M}}const b={calculatedDuration:h&&f||null,next:M=>{const A=w(M);if(h)a.done=M>=f;else{let C=M===0?p:0;v<1&&(C=M===0?Na(p):lq(w,M,A));const N=Math.abs(C)<=r,R=Math.abs(o-A)<=i;a.done=N&&R}return a.value=a.done?o:A,a},toString:()=>{const M=Math.min(QL(b),vb),A=aq(C=>b.next(M*C).value,M,30);return M+"ms "+A},toTransition:()=>{}};return b}yb.applyToOptions=t=>{const e=nMe(t,100,yb);return t.ease=e.ease,t.duration=Na(e.duration),t.type="keyframes",t};function KP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],d={done:!1,value:f},h=N=>a!==void 0&&N<a||l!==void 0&&N>l,p=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let v=n*e;const y=f+v,g=o===void 0?y:o(y);g!==y&&(v=g-f);const _=N=>-v*Math.exp(-N/r),w=N=>g+_(N),b=N=>{const R=_(N),D=w(N);d.done=Math.abs(R)<=c,d.value=d.done?g:D};let M,A;const C=N=>{h(d.value)&&(M=N,A=yb({keyframes:[d.value,p(d.value)],velocity:lq(w,N,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:N=>{let R=!1;return!A&&M===void 0&&(R=!0,b(N),C(N)),M!==void 0&&N>=M?A.next(N-M):(!R&&b(N),d)}}}function uMe(t,e,n){const r=[],i=n||zl.mix||oq,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||go:e;a=oy(l,a)}r.push(a)}return r}function fMe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(mb(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=uMe(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const d=e0(t[f],t[f+1],u);return a[f](d)};return n?u=>c(Bl(t[0],t[s-1],u)):c}function dMe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=e0(0,e,r);t.push(Fn(n,1,i))}}function hMe(t){const e=[0];return dMe(e,t.length-1),e}function pMe(t,e){return t.map(n=>n*e)}function mMe(t,e){return t.map(()=>e||qK).splice(0,t.length-1)}function ov({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=AEe(r)?r.map(D5):D5(r),s={done:!1,value:e[0]},o=pMe(n&&n.length===e.length?n:hMe(e),t),a=fMe(o,e,{ease:Array.isArray(i)?i:mMe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const gMe=t=>t!==null;function JL(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(gMe),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const vMe={decay:KP,inertia:KP,tween:ov,keyframes:ov,spring:yb};function cq(t){typeof t.type=="string"&&(t.type=vMe[t.type])}class eO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yMe=t=>t/100;class tO extends eO{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==fs.now()&&this.tick(fs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cq(e);const{type:n=ov,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||ov;l!==ov&&typeof a[0]!="number"&&(this.mixKeyframes=oy(yMe,oq(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=QL(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:d,repeatDelay:h,type:p,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,b=r;if(f){const N=Math.min(this.currentTime,i)/a;let R=Math.floor(N),D=N%1;!D&&N>=1&&(D=1),D===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(d==="reverse"?(D=1-D,h&&(D-=h/a)):d==="mirror"&&(b=o)),w=Bl(0,1,D)*a}const M=_?{done:!1,value:u[0]}:b.next(w);s&&(M.value=s(M.value));let{done:A}=M;!_&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return C&&p!==KP&&(M.value=JL(u,this.options,y,this.speed)),v&&v(M.value),C&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return Ia(this.calculatedDuration)}get time(){return Ia(this.currentTime)}set time(e){var n;e=Na(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ia(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=tMe,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function xMe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ef=t=>t*180/Math.PI,qP=t=>{const e=Ef(Math.atan2(t[1],t[0]));return ZP(e)},wMe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qP,rotateZ:qP,skewX:t=>Ef(Math.atan(t[1])),skewY:t=>Ef(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ZP=t=>(t=t%360,t<0&&(t+=360),t),z5=qP,j5=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),V5=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_Me={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:j5,scaleY:V5,scale:t=>(j5(t)+V5(t))/2,rotateX:t=>ZP(Ef(Math.atan2(t[6],t[5]))),rotateY:t=>ZP(Ef(Math.atan2(-t[2],t[0]))),rotateZ:z5,rotate:z5,skewX:t=>Ef(Math.atan(t[4])),skewY:t=>Ef(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function QP(t){return t.includes("scale")?1:0}function JP(t,e){if(!t||t==="none")return QP(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=_Me,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wMe,i=a}if(!i)return QP(e);const s=r[e],o=i[1].split(",").map(SMe);return typeof s=="function"?s(o):o[s]}const bMe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return JP(n,e)};function SMe(t){return parseFloat(t.trim())}const Sm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Em=new Set(Sm),H5=t=>t===bm||t===At,EMe=new Set(["x","y","z"]),MMe=Sm.filter(t=>!EMe.has(t));function TMe(t){const e=[];return MMe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const zf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>JP(e,"x"),y:(t,{transform:e})=>JP(e,"y")};zf.translateX=zf.x;zf.translateY=zf.y;const jf=new Set;let eR=!1,tR=!1,nR=!1;function uq(){if(tR){const t=Array.from(jf).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=TMe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tR=!1,eR=!1,jf.forEach(t=>t.complete(nR)),jf.clear()}function fq(){jf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tR=!0)})}function AMe(){nR=!0,fq(),uq(),nR=!1}class nO{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(jf.add(this),eR||(eR=!0,Nn.read(fq),Nn.resolveKeyframes(uq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}xMe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),jf.delete(this)}cancel(){this.state==="scheduled"&&(jf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CMe=t=>t.startsWith("--");function PMe(t,e,n){CMe(e)?t.style.setProperty(e,n):t.style[e]=n}const RMe=HL(()=>window.ScrollTimeline!==void 0),NMe={};function IMe(t,e){const n=HL(t);return()=>NMe[e]??n()}const dq=IMe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,W5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gg([0,.65,.55,1]),circOut:Gg([.55,0,1,.45]),backIn:Gg([.31,.01,.66,-.59]),backOut:Gg([.33,1.53,.69,.99])};function hq(t,e){if(t)return typeof t=="function"?dq()?aq(t,e):"ease-out":ZK(t)?Gg(t):Array.isArray(t)?t.map(n=>hq(n,e)||W5.easeOut):W5[t]}function DMe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const f=hq(a,i);Array.isArray(f)&&(u.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(u,d)}function pq(t){return typeof t=="function"&&"applyToOptions"in t}function LMe({type:t,...e}){return pq(t)&&dq()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OMe extends eO{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,mb(typeof e.type!="string");const c=LMe(e);this.animation=DMe(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=JL(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):PMe(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ia(Number(e))}get time(){return Ia(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Na(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&RMe()?(this.animation.timeline=e,go):n(this)}}const mq={anticipate:XK,backInOut:$K,circInOut:KK};function kMe(t){return t in mq}function UMe(t){typeof t.ease=="string"&&kMe(t.ease)&&(t.ease=mq[t.ease])}const G5=10;class FMe extends OMe{constructor(e){UMe(e),cq(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new tO({...o,autoplay:!1}),l=Na(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-G5).value,a.sample(l).value,G5),a.stop()}}const $5=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mu.test(t)||t==="0")&&!t.startsWith("url("));function BMe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zMe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=$5(i,e),a=$5(s,e);return!o||!a?!1:BMe(t)||(n==="spring"||pq(n))&&r}function rR(t){t.duration=0,t.type}const jMe=new Set(["opacity","clipPath","filter","transform"]),VMe=HL(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HMe(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return VMe()&&n&&jMe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const WMe=40;class GMe extends eO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...f}){var p;super(),this.stop=()=>{var v,y;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=fs.now();const d={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...f},h=(u==null?void 0:u.KeyframeResolver)||nO;this.keyframeResolver=new h(a,(v,y,g)=>this.onKeyframesResolved(v,y,d,!g),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=fs.now(),zMe(e,s,o,a)||((zl.instantAnimations||!l)&&(u==null||u(JL(e,r,n))),e[0]=e[e.length-1],rR(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>WMe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!c&&HMe(d)?new FMe({...d,element:d.motionValue.owner.current}):new tO(d);h.finished.then(()=>this.notifyFinished()).catch(go),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),AMe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const $Me=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XMe(t){const e=$Me.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function gq(t,e,n=1){const[r,i]=XMe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return FK(o)?parseFloat(o):o}return YL(i)?gq(i,e,n+1):i}function rO(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vq=new Set(["width","height","top","left","right","bottom",...Sm]),YMe={test:t=>t==="auto",parse:t=>t},yq=t=>e=>e.test(t),xq=[bm,At,Da,Cc,BEe,FEe,YMe],X5=t=>xq.find(yq(t));function KMe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||zK(t):!0}const qMe=new Set(["brightness","contrast","saturate","opacity"]);function ZMe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(KL)||[];if(!r)return t;const i=n.replace(r,"");let s=qMe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const QMe=/\b([a-z-]*)\(.*?\)/gu,iR={...mu,getAnimatableNone:t=>{const e=t.match(QMe);return e?e.map(ZMe).join(" "):t}},Y5={...bm,transform:Math.round},JMe={rotate:Cc,rotateX:Cc,rotateY:Cc,rotateZ:Cc,scale:s1,scaleX:s1,scaleY:s1,scaleZ:s1,skew:Cc,skewX:Cc,skewY:Cc,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:t0,originX:O5,originY:O5,originZ:At},iO={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...JMe,zIndex:Y5,fillOpacity:t0,strokeOpacity:t0,numOctaves:Y5},eTe={...iO,color:xr,backgroundColor:xr,outlineColor:xr,fill:xr,stroke:xr,borderColor:xr,borderTopColor:xr,borderRightColor:xr,borderBottomColor:xr,borderLeftColor:xr,filter:iR,WebkitFilter:iR},wq=t=>eTe[t];function _q(t,e){let n=wq(t);return n!==iR&&(n=mu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tTe=new Set(["auto","none","0"]);function nTe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!tTe.has(s)&&n0(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=_q(n,i)}class rTe extends nO{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),YL(c))){const u=gq(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!vq.has(r)||e.length!==2)return;const[i,s]=e,o=X5(i),a=X5(s);if(o!==a)if(H5(o)&&H5(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else zf[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||KMe(e[i]))&&r.push(i);r.length&&nTe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zf[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=zf[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function iTe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const bq=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sTe(t){return BK(t)&&"offsetHeight"in t}const K5=30,oTe=t=>!isNaN(parseFloat(t));class aTe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=fs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oTe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new WL);const r=this.events[e].add(n);return e==="change"?()=>{r(),Nn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>K5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,K5);return jK(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gp(t,e){return new aTe(t,e)}const{schedule:sO,cancel:CVe}=QK(queueMicrotask,!1),Do={x:!1,y:!1};function Sq(){return Do.x||Do.y}function lTe(t){return t==="x"||t==="y"?Do[t]?null:(Do[t]=!0,()=>{Do[t]=!1}):Do.x||Do.y?null:(Do.x=Do.y=!0,()=>{Do.x=Do.y=!1})}function Eq(t,e){const n=iTe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function q5(t){return!(t.pointerType==="touch"||Sq())}function cTe(t,e,n={}){const[r,i,s]=Eq(t,n),o=a=>{if(!q5(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=f=>{q5(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Mq=(t,e)=>e?t===e?!0:Mq(t,e.parentElement):!1,oO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uTe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fTe(t){return uTe.has(t.tagName)||t.tabIndex!==-1}const Dw=new WeakSet;function Z5(t){return e=>{e.key==="Enter"&&t(e)}}function bA(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dTe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Z5(()=>{if(Dw.has(n))return;bA(n,"down");const i=Z5(()=>{bA(n,"up")}),s=()=>bA(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Q5(t){return oO(t)&&!Sq()}function hTe(t,e,n={}){const[r,i,s]=Eq(t,n),o=a=>{const l=a.currentTarget;if(!Q5(a))return;Dw.add(l);const c=e(l,a),u=(h,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),Dw.has(l)&&Dw.delete(l),Q5(h)&&typeof c=="function"&&c(h,{success:p})},f=h=>{u(h,l===window||l===document||n.useGlobalTarget||Mq(l,h.target))},d=h=>{u(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),sTe(a)&&(a.addEventListener("focus",c=>dTe(c,i)),!fTe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Tq(t){return BK(t)&&"ownerSVGElement"in t}function pTe(t){return Tq(t)&&t.tagName==="svg"}const Ai=t=>!!(t&&t.getVelocity),mTe=[...xq,xr,mu],gTe=t=>mTe.find(yq(t)),Aq=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vTe(t=!0){const e=T.useContext(zL);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Cq=T.createContext({strict:!1}),J5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$p={};for(const t in J5)$p[t]={isEnabled:e=>J5[t].some(n=>!!e[n])};function yTe(t){for(const e in t)$p[e]={...$p[e],...t[e]}}const xTe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xTe.has(t)}let Pq=t=>!xb(t);function wTe(t){typeof t=="function"&&(Pq=e=>e.startsWith("on")?!xb(e):t(e))}try{wTe(require("@emotion/is-prop-valid").default)}catch{}function _Te(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Pq(i)||n===!0&&xb(i)||!e&&!xb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const gE=T.createContext({});function vE(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function r0(t){return typeof t=="string"||Array.isArray(t)}const aO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lO=["initial",...aO];function yE(t){return vE(t.animate)||lO.some(e=>r0(t[e]))}function Rq(t){return!!(yE(t)||t.variants)}function bTe(t,e){if(yE(t)){const{initial:n,animate:r}=t;return{initial:n===!1||r0(n)?n:void 0,animate:r0(r)?r:void 0}}return t.inherit!==!1?e:{}}function STe(t){const{initial:e,animate:n}=bTe(t,T.useContext(gE));return T.useMemo(()=>({initial:e,animate:n}),[ez(e),ez(n)])}function ez(t){return Array.isArray(t)?t.join(" "):t}const i0={};function ETe(t){for(const e in t)i0[e]=t[e],XL(e)&&(i0[e].isCSSVariable=!0)}function Nq(t,{layout:e,layoutId:n}){return Em.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!i0[t]||t==="opacity")}const MTe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TTe=Sm.length;function ATe(t,e,n){let r="",i=!0;for(let s=0;s<TTe;s++){const o=Sm[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=bq(a,iO[o]);if(!l){i=!1;const u=MTe[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function cO(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Em.has(l)){o=!0;continue}else if(XL(l)){i[l]=c;continue}else{const u=bq(c,iO[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=ATe(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const uO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Iq(t,e,n){for(const r in e)!Ai(e[r])&&!Nq(r,n)&&(t[r]=e[r])}function CTe({transformTemplate:t},e){return T.useMemo(()=>{const n=uO();return cO(n,e,t),Object.assign({},n.vars,n.style)},[e])}function PTe(t,e){const n=t.style||{},r={};return Iq(r,n,t),Object.assign(r,CTe(t,e)),r}function RTe(t,e){const n={},r=PTe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const NTe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ITe={offset:"strokeDashoffset",array:"strokeDasharray"};function DTe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?NTe:ITe;t[s.offset]=At.transform(-r);const o=At.transform(e),a=At.transform(n);t[s.array]=`${o} ${a}`}function Dq(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(cO(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&DTe(f,i,s,o,!1)}const Lq=()=>({...uO(),attrs:{}}),Oq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LTe(t,e,n,r){const i=T.useMemo(()=>{const s=Lq();return Dq(s,e,Oq(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Iq(s,t.style,t),i.style={...s,...i.style}}return i}const OTe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fO(t){return typeof t!="string"||t.includes("-")?!1:!!(OTe.indexOf(t)>-1||/[A-Z]/u.test(t))}function kTe(t,e,n,{latestValues:r},i,s=!1){const a=(fO(t)?LTe:RTe)(e,r,i,t),l=_Te(e,typeof t=="string",s),c=t!==T.Fragment?{...l,...a,ref:n}:{},{children:u}=e,f=T.useMemo(()=>Ai(u)?u.get():u,[u]);return T.createElement(t,{...c,children:f})}function tz(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function dO(t,e,n,r){if(typeof e=="function"){const[i,s]=tz(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=tz(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Lw(t){return Ai(t)?t.get():t}function UTe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:FTe(n,r,i,t),renderState:e()}}function FTe(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=Lw(s[d]);let{initial:o,animate:a}=t;const l=yE(t),c=Rq(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!vE(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const p=dO(t,d[h]);if(p){const{transitionEnd:v,transition:y,...g}=p;for(const _ in g){let w=g[_];if(Array.isArray(w)){const b=u?w.length-1:0;w=w[b]}w!==null&&(i[_]=w)}for(const _ in v)i[_]=v[_]}}}return i}const kq=t=>(e,n)=>{const r=T.useContext(gE),i=T.useContext(zL),s=()=>UTe(t,e,r,i);return n?s():xEe(s)};function hO(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Ai(r[o])||e.style&&Ai(e.style[o])||Nq(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const BTe=kq({scrapeMotionValuesFromProps:hO,createRenderState:uO});function Uq(t,e,n){const r=hO(t,e,n);for(const i in t)if(Ai(t[i])||Ai(e[i])){const s=Sm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const zTe=kq({scrapeMotionValuesFromProps:Uq,createRenderState:Lq}),jTe=Symbol.for("motionComponentSymbol");function Gh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VTe(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gh(n)&&(n.current=r))},[e])}const pO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HTe="framerAppearId",Fq="data-"+pO(HTe),Bq=T.createContext({});function WTe(t,e,n,r,i){var v,y;const{visualElement:s}=T.useContext(gE),o=T.useContext(Cq),a=T.useContext(zL),l=T.useContext(Aq).reducedMotion,c=T.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=T.useContext(Bq);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&GTe(c.current,n,i,f);const d=T.useRef(!1);T.useInsertionEffect(()=>{u&&d.current&&u.update(n,a)});const h=n[Fq],p=T.useRef(!!h&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,h))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,h)));return wEe(()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,h)}),p.current=!1))}),u}function GTe(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zq(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Gh(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function zq(t){if(t)return t.options.allowProjection!==!1?t.projection:zq(t.parent)}function SA(t,{forwardMotionProps:e=!1}={},n,r){n&&yTe(n);const i=fO(t)?zTe:BTe;function s(a,l){let c;const u={...T.useContext(Aq),...a,layoutId:$Te(a)},{isStatic:f}=u,d=STe(a),h=i(a,f);if(!f&&BL){XTe();const p=YTe(u);c=p.MeasureLayout,d.visualElement=WTe(t,h,u,r,p.ProjectionNode)}return S.jsxs(gE.Provider,{value:d,children:[c&&d.visualElement?S.jsx(c,{visualElement:d.visualElement,...u}):null,kTe(t,a,VTe(h,d.visualElement,l),h,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=T.forwardRef(s);return o[jTe]=t,o}function $Te({layoutId:t}){const e=T.useContext(UK).id;return e&&t!==void 0?e+"-"+t:t}function XTe(t,e){T.useContext(Cq).strict}function YTe(t){const{drag:e,layout:n}=$p;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function KTe(t,e){if(typeof Proxy>"u")return SA;const n=new Map,r=(s,o)=>SA(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,SA(o,void 0,t,e)),n.get(o))})}function jq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qTe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ZTe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function EA(t){return t===void 0||t===1}function sR({scale:t,scaleX:e,scaleY:n}){return!EA(t)||!EA(e)||!EA(n)}function uf(t){return sR(t)||Vq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Vq(t){return nz(t.x)||nz(t.y)}function nz(t){return t&&t!=="0%"}function wb(t,e,n){const r=t-n,i=e*r;return n+i}function rz(t,e,n,r,i){return i!==void 0&&(t=wb(t,i,r)),wb(t,n,r)+e}function oR(t,e=0,n=1,r,i){t.min=rz(t.min,e,n,r,i),t.max=rz(t.max,e,n,r,i)}function Hq(t,{x:e,y:n}){oR(t.x,e.translate,e.scale,e.originPoint),oR(t.y,n.translate,n.scale,n.originPoint)}const iz=.999999999999,sz=1.0000000000001;function QTe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Hq(t,o)),r&&uf(s.latestValues)&&Xh(t,s.latestValues))}e.x<sz&&e.x>iz&&(e.x=1),e.y<sz&&e.y>iz&&(e.y=1)}function $h(t,e){t.min=t.min+e,t.max=t.max+e}function oz(t,e,n,r,i=.5){const s=Fn(t.min,t.max,i);oR(t,e,n,s,r)}function Xh(t,e){oz(t.x,e.x,e.scaleX,e.scale,e.originX),oz(t.y,e.y,e.scaleY,e.scale,e.originY)}function Wq(t,e){return jq(ZTe(t.getBoundingClientRect(),e))}function JTe(t,e,n){const r=Wq(t,n),{scroll:i}=e;return i&&($h(r.x,i.offset.x),$h(r.y,i.offset.y)),r}const az=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yh=()=>({x:az(),y:az()}),lz=()=>({min:0,max:0}),or=()=>({x:lz(),y:lz()}),aR={current:null},Gq={current:!1};function eAe(){if(Gq.current=!0,!!BL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aR.current=t.matches;t.addEventListener("change",e),e()}else aR.current=!1}const tAe=new WeakMap;function nAe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ai(i))t.addValue(r,i);else if(Ai(s))t.addValue(r,Gp(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Gp(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rAe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=fs.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Nn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=yE(n),this.isVariantNode=Rq(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&Ai(h)&&h.set(l[d])}}mount(e){this.current=e,tAe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Gq.current||eAe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aR.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pu(this.notifyUpdate),pu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Em.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Nn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $p){const n=$p[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):or()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cz.length;r++){const i=cz[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=nAe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(FK(r)||zK(r))?r=parseFloat(r):!gTe(r)&&mu.test(n)&&(r=_q(e,n)),this.setBaseTarget(e,Ai(r)?r.get():r)),Ai(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=dO(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ai(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new WL),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){sO.render(this.render)}}class $q extends rAe{constructor(){super(...arguments),this.KeyframeResolver=rTe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ai(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Xq(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function iAe(t){return window.getComputedStyle(t)}class sAe extends $q{constructor(){super(...arguments),this.type="html",this.renderInstance=Xq}readValueFromInstance(e,n){var r;if(Em.has(n))return(r=this.projection)!=null&&r.isProjecting?QP(n):bMe(e,n);{const i=iAe(e),s=(XL(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Wq(e,n)}build(e,n,r){cO(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return hO(e,n,r)}}const Yq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oAe(t,e,n,r){Xq(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Yq.has(i)?i:pO(i),e.attrs[i])}class aAe extends $q{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=or}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Em.has(n)){const r=wq(n);return r&&r.default||0}return n=Yq.has(n)?n:pO(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Uq(e,n,r)}build(e,n,r){Dq(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){oAe(e,n,r,i)}mount(e){this.isSVGTag=Oq(e.tagName),super.mount(e)}}const lAe=(t,e)=>fO(t)?new aAe(e):new sAe(e,{allowProjection:t!==T.Fragment});function s0(t,e,n){const r=t.getProps();return dO(r,e,n!==void 0?n:r.custom,t)}const lR=t=>Array.isArray(t);function cAe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gp(n))}function uAe(t){return lR(t)?t[t.length-1]||0:t}function fAe(t,e){const n=s0(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=uAe(s[o]);cAe(t,o,a)}}function dAe(t){return!!(Ai(t)&&t.add)}function cR(t,e){const n=t.getValue("willChange");if(dAe(n))return n.add(e);if(!n&&zl.WillChange){const r=new zl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Kq(t){return t.props[Fq]}const hAe=t=>t!==null;function pAe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(hAe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const mAe={type:"spring",stiffness:500,damping:25,restSpeed:10},gAe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vAe={type:"keyframes",duration:.8},yAe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xAe=(t,{keyframes:e})=>e.length>2?vAe:Em.has(t)?t.startsWith("scale")?gAe(e[1]):mAe:yAe;function wAe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const mO=(t,e,n,r={},i,s)=>o=>{const a=rO(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Na(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};wAe(a)||Object.assign(u,xAe(t,u)),u.duration&&(u.duration=Na(u.duration)),u.repeatDelay&&(u.repeatDelay=Na(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(rR(u),u.delay===0&&(f=!0)),(zl.instantAnimations||zl.skipAnimations)&&(f=!0,rR(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const d=pAe(u.keyframes,a);if(d!==void 0){Nn.update(()=>{u.onUpdate(d),u.onComplete()});return}}return a.isSync?new tO(u):new GMe(u)};function _Ae({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function qq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const f=t.getValue(u,t.latestValues[u]??null),d=a[u];if(d===void 0||c&&_Ae(c,u))continue;const h={delay:n,...rO(s||{},u)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===p&&!h.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=Kq(t);if(g){const _=window.MotionHandoffAnimation(g,u,Nn);_!==null&&(h.startTime=_,v=!0)}}cR(t,u),f.start(mO(u,f,d,t.shouldReduceMotion&&vq.has(u)?{type:!1}:h,t,v));const y=f.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{Nn.update(()=>{o&&fAe(t,o)})}),l}function uR(t,e,n={}){var l;const r=s0(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(qq(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=i;return bAe(t,e,c,u,f,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function bAe(t,e,n=0,r=0,i=0,s=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*i,u=typeof r=="function",f=u?d=>r(d,l):s===1?(d=0)=>d*i:(d=0)=>c-d*i;return Array.from(t.variantChildren).sort(SAe).forEach((d,h)=>{d.notify("AnimationStart",e),a.push(uR(d,e,{...o,delay:n+(u?0:r)+f(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function SAe(t,e){return t.sortNodePosition(e)}function EAe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>uR(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=uR(t,e,n);else{const i=typeof e=="function"?s0(t,e,n.custom):e;r=Promise.all(qq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Zq(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const MAe=lO.length;function Qq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Qq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<MAe;n++){const r=lO[n],i=t.props[r];(r0(i)||i===!1)&&(e[r]=i)}return e}const TAe=[...aO].reverse(),AAe=aO.length;function CAe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EAe(t,n,r)))}function PAe(t){let e=CAe(t),n=uz(),r=!0;const i=l=>(c,u)=>{var d;const f=s0(t,u,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...v}=f;c={...c,...v,...p}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=Qq(t.parent)||{},f=[],d=new Set;let h={},p=1/0;for(let y=0;y<AAe;y++){const g=TAe[y],_=n[g],w=c[g]!==void 0?c[g]:u[g],b=r0(w),M=g===l?_.isActive:null;M===!1&&(p=y);let A=w===u[g]&&w!==c[g]&&b;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),_.protectedKeys={...h},!_.isActive&&M===null||!w&&!_.prevProp||vE(w)||typeof w=="boolean")continue;const C=RAe(_.prevProp,w);let N=C||g===l&&_.isActive&&!A&&b||y>p&&b,R=!1;const D=Array.isArray(w)?w:[w];let F=D.reduce(i(g),{});M===!1&&(F={});const{prevResolvedValues:U={}}=_,$={...U,...F},I=X=>{N=!0,d.has(X)&&(R=!0,d.delete(X)),_.needsAnimating[X]=!0;const L=t.getValue(X);L&&(L.liveStyle=!1)};for(const X in $){const L=F[X],k=U[X];if(h.hasOwnProperty(X))continue;let z=!1;lR(L)&&lR(k)?z=!Zq(L,k):z=L!==k,z?L!=null?I(X):d.add(X):L!==void 0&&d.has(X)?I(X):_.protectedKeys[X]=!0}_.prevProp=w,_.prevResolvedValues=F,_.isActive&&(h={...h,...F}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(A&&C)||R)&&f.push(...D.map(X=>({animation:X,options:{type:g}})))}if(d.size){const y={};if(typeof c.initial!="boolean"){const g=s0(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(y.transition=g.transition)}d.forEach(g=>{const _=t.getBaseTarget(g),w=t.getValue(g);w&&(w.liveStyle=!0),y[g]=_??null}),f.push({animation:y})}let v=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const d in n)n[d].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=uz(),r=!0}}}function RAe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Zq(e,t):!1}function $u(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uz(){return{animate:$u(!0),whileInView:$u(),whileHover:$u(),whileTap:$u(),whileDrag:$u(),whileFocus:$u(),exit:$u()}}class Tu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class NAe extends Tu{constructor(e){super(e),e.animationState||(e.animationState=PAe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vE(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let IAe=0;class DAe extends Tu{constructor(){super(...arguments),this.id=IAe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const LAe={animation:{Feature:NAe},exit:{Feature:DAe}};function o0(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function cy(t){return{point:{x:t.pageX,y:t.pageY}}}const OAe=t=>e=>oO(e)&&t(e,cy(e));function av(t,e,n,r){return o0(t,e,OAe(n),r)}const Jq=1e-4,kAe=1-Jq,UAe=1+Jq,eZ=.01,FAe=0-eZ,BAe=0+eZ;function Xi(t){return t.max-t.min}function zAe(t,e,n){return Math.abs(t-e)<=n}function fz(t,e,n,r=.5){t.origin=r,t.originPoint=Fn(e.min,e.max,t.origin),t.scale=Xi(n)/Xi(e),t.translate=Fn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kAe&&t.scale<=UAe||isNaN(t.scale))&&(t.scale=1),(t.translate>=FAe&&t.translate<=BAe||isNaN(t.translate))&&(t.translate=0)}function lv(t,e,n,r){fz(t.x,e.x,n.x,r?r.originX:void 0),fz(t.y,e.y,n.y,r?r.originY:void 0)}function dz(t,e,n){t.min=n.min+e.min,t.max=t.min+Xi(e)}function jAe(t,e,n){dz(t.x,e.x,n.x),dz(t.y,e.y,n.y)}function hz(t,e,n){t.min=e.min-n.min,t.max=t.min+Xi(e)}function cv(t,e,n){hz(t.x,e.x,n.x),hz(t.y,e.y,n.y)}function ao(t){return[t("x"),t("y")]}const tZ=({current:t})=>t?t.ownerDocument.defaultView:null,pz=(t,e)=>Math.abs(t-e);function VAe(t,e){const n=pz(t.x,e.x),r=pz(t.y,e.y);return Math.sqrt(n**2+r**2)}class nZ{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=TA(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=VAe(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:v}=d,{timestamp:y}=ri;this.history.push({...v,timestamp:y});const{onStart:g,onMove:_}=this.handlers;h||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=MA(h,this.transformPagePoint),Nn.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=TA(d.type==="pointercancel"?this.lastMoveEventInfo:MA(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,g),v&&v(d,g)},!oO(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=cy(e),l=MA(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ri;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,TA(l,this.history)),this.removeListeners=oy(av(this.contextWindow,"pointermove",this.handlePointerMove),av(this.contextWindow,"pointerup",this.handlePointerUp),av(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pu(this.updatePoint)}}function MA(t,e){return e?{point:e(t.point)}:t}function mz(t,e){return{x:t.x-e.x,y:t.y-e.y}}function TA({point:t},e){return{point:t,delta:mz(t,rZ(e)),offset:mz(t,HAe(e)),velocity:WAe(e,.1)}}function HAe(t){return t[0]}function rZ(t){return t[t.length-1]}function WAe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=rZ(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Na(e)));)n--;if(!r)return{x:0,y:0};const s=Ia(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function GAe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fn(n,t,r.max):Math.min(t,n)),t}function gz(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $Ae(t,{top:e,left:n,bottom:r,right:i}){return{x:gz(t.x,n,i),y:gz(t.y,e,r)}}function vz(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function XAe(t,e){return{x:vz(t.x,e.x),y:vz(t.y,e.y)}}function YAe(t,e){let n=.5;const r=Xi(t),i=Xi(e);return i>r?n=e0(e.min,e.max-r,t.min):r>i&&(n=e0(t.min,t.max-i,e.min)),Bl(0,1,n)}function KAe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fR=.35;function qAe(t=fR){return t===!1?t=0:t===!0&&(t=fR),{x:yz(t,"left","right"),y:yz(t,"top","bottom")}}function yz(t,e,n){return{min:xz(t,e),max:xz(t,n)}}function xz(t,e){return typeof t=="number"?t:t[e]||0}const ZAe=new WeakMap;class QAe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=or(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cy(f).point)},o=(f,d)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lTe(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ao(g=>{let _=this.getAxisMotionValue(g).get()||0;if(Da.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[g];b&&(_=Xi(b)*(parseFloat(_)/100))}}this.originPoint[g]=_}),v&&Nn.postRender(()=>v(f,d)),cR(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=d;if(p&&this.currentDirection===null){this.currentDirection=JAe(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),y&&y(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ao(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new nZ(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:tZ(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Nn.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!o1(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=GAe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Gh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$Ae(r.layoutBox,e):this.constraints=!1,this.elastic=qAe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ao(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=KAe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=JTe(r,i.root,this.visualElement.getTransformPagePoint());let o=XAe(i.layout.layoutBox,s);if(n){const a=n(qTe(o));this.hasMutatedConstraints=!!a,a&&(o=jq(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ao(u=>{if(!o1(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return cR(this.visualElement,e),r.start(mO(e,r,0,n,this.visualElement,!1))}stopAnimation(){ao(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ao(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ao(n=>{const{drag:r}=this.getProps();if(!o1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Fn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ao(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=YAe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ao(o=>{if(!o1(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Fn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;ZAe.set(this.visualElement,this);const e=this.visualElement.current,n=av(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Gh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Nn.read(r);const o=o0(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ao(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=fR,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function o1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JAe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class e2e extends Tu{constructor(e){super(e),this.removeGroupControls=go,this.removeListeners=go,this.controls=new QAe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||go}unmount(){this.removeGroupControls(),this.removeListeners()}}const wz=t=>(e,n)=>{t&&Nn.postRender(()=>t(e,n))};class t2e extends Tu{constructor(){super(...arguments),this.removePointerDownListener=go}onPointerDown(e){this.session=new nZ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tZ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:wz(e),onStart:wz(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Nn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=av(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ow={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _z(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(At.test(t))t=parseFloat(t);else return t;const n=_z(t,e.target.x),r=_z(t,e.target.y);return`${n}% ${r}%`}},n2e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=mu.parse(t);if(i.length>5)return r;const s=mu.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Fn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let bz=!1;class r2e extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;ETe(i2e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),bz&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ow.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,bz=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Nn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iZ(t){const[e,n]=vTe(),r=T.useContext(UK);return S.jsx(r2e,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(Bq),isPresent:e,safeToRemove:n})}const i2e={borderRadius:{...xg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xg,borderTopRightRadius:xg,borderBottomLeftRadius:xg,borderBottomRightRadius:xg,boxShadow:n2e};function s2e(t,e,n){const r=Ai(t)?t:Gp(t);return r.start(mO("",r,e,n)),r.animation}const o2e=(t,e)=>t.depth-e.depth;class a2e{constructor(){this.children=[],this.isDirty=!1}add(e){jL(this.children,e),this.isDirty=!0}remove(e){VL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(o2e),this.isDirty=!1,this.children.forEach(e)}}function l2e(t,e){const n=fs.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(pu(r),t(s-e))};return Nn.setup(r,!0),()=>pu(r)}const sZ=["TopLeft","TopRight","BottomLeft","BottomRight"],c2e=sZ.length,Sz=t=>typeof t=="string"?parseFloat(t):t,Ez=t=>typeof t=="number"||At.test(t);function u2e(t,e,n,r,i,s){i?(t.opacity=Fn(0,n.opacity??1,f2e(r)),t.opacityExit=Fn(e.opacity??1,0,d2e(r))):s&&(t.opacity=Fn(e.opacity??1,n.opacity??1,r));for(let o=0;o<c2e;o++){const a=`border${sZ[o]}Radius`;let l=Mz(e,a),c=Mz(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Ez(l)===Ez(c)?(t[a]=Math.max(Fn(Sz(l),Sz(c),r),0),(Da.test(c)||Da.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Fn(e.rotate||0,n.rotate||0,r))}function Mz(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const f2e=oZ(0,.5,YK),d2e=oZ(.5,.95,go);function oZ(t,e,n){return r=>r<t?0:r>e?1:n(e0(t,e,r))}function Tz(t,e){t.min=e.min,t.max=e.max}function io(t,e){Tz(t.x,e.x),Tz(t.y,e.y)}function Az(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Cz(t,e,n,r,i){return t-=e,t=wb(t,1/n,r),i!==void 0&&(t=wb(t,1/i,r)),t}function h2e(t,e=0,n=1,r=.5,i,s=t,o=t){if(Da.test(e)&&(e=parseFloat(e),e=Fn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fn(s.min,s.max,r);t===s&&(a-=e),t.min=Cz(t.min,e,n,a,i),t.max=Cz(t.max,e,n,a,i)}function Pz(t,e,[n,r,i],s,o){h2e(t,e[n],e[r],e[i],e.scale,s,o)}const p2e=["x","scaleX","originX"],m2e=["y","scaleY","originY"];function Rz(t,e,n,r){Pz(t.x,e,p2e,n?n.x:void 0,r?r.x:void 0),Pz(t.y,e,m2e,n?n.y:void 0,r?r.y:void 0)}function Nz(t){return t.translate===0&&t.scale===1}function aZ(t){return Nz(t.x)&&Nz(t.y)}function Iz(t,e){return t.min===e.min&&t.max===e.max}function g2e(t,e){return Iz(t.x,e.x)&&Iz(t.y,e.y)}function Dz(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lZ(t,e){return Dz(t.x,e.x)&&Dz(t.y,e.y)}function Lz(t){return Xi(t.x)/Xi(t.y)}function Oz(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class v2e{constructor(){this.members=[]}add(e){jL(this.members,e),e.scheduleRender()}remove(e){if(VL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y2e(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:d,skewX:h,skewY:p}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const AA=["","X","Y","Z"],x2e=1e3;let w2e=0;function CA(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cZ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Kq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cZ(r)}function uZ({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=w2e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S2e),this.nodes.forEach(A2e),this.nodes.forEach(C2e),this.nodes.forEach(E2e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new a2e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new WL),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Tq(o)&&!pTe(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,f=0;const d=()=>this.root.updateBlockedByResize=!1;Nn.read(()=>{f=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,u&&u(),u=l2e(d,250),Ow.hasAnimatedSinceResize&&(Ow.hasAnimatedSinceResize=!1,this.nodes.forEach(Fz)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||D2e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=c.getProps(),g=!this.targetLayout||!lZ(this.targetLayout,h),_=!f&&d;if(this.options.layoutRoot||this.resumeFrom||_||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...rO(p,"layout"),onPlay:v,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,_)}else f||Fz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P2e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kz);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Uz);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(T2e),this.nodes.forEach(_2e),this.nodes.forEach(b2e)):this.nodes.forEach(Uz),this.clearAllSnapshots();const a=fs.now();ri.delta=Bl(0,1e3/60,a-ri.timestamp),ri.timestamp=a,ri.isProcessing=!0,vA.update.process(ri),vA.preRender.process(ri),vA.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M2e),this.sharedNodes.forEach(R2e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xi(this.snapshot.measuredBox.x)&&!Xi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=or(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!aZ(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||uf(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),L2e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return or();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(O2e))){const{scroll:u}=this.root;u&&($h(a.x,u.offset.x),$h(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=or();if(io(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;u!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&io(a,o),$h(a.x,f.offset.x),$h(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=or();io(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xh(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),uf(u.latestValues)&&Xh(l,u.latestValues)}return uf(this.latestValues)&&Xh(l,this.latestValues),l}removeTransform(o){const a=or();io(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!uf(c.latestValues))continue;sR(c.latestValues)&&c.updateSnapshot();const u=or(),f=c.measurePageBox();io(u,f),Rz(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return uf(this.latestValues)&&Rz(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var d;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=or(),this.relativeTargetOrigin=or(),cv(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=or(),this.targetWithTransforms=or()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jAe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):io(this.target,this.layout.layoutBox),Hq(this.target,this.targetDelta)):io(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=or(),this.relativeTargetOrigin=or(),cv(this.relativeTargetOrigin,this.target,h.target),io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sR(this.parent.latestValues)||Vq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;io(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;QTe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=or());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Az(this.prevProjectionDelta.x,this.projectionDelta.x),Az(this.prevProjectionDelta.y,this.projectionDelta.y)),lv(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!Oz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Oz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yh(),this.projectionDelta=Yh(),this.projectionDeltaWithTransform=Yh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Yh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=or(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=h!==p,y=this.getStack(),g=!y||y.members.length<=1,_=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(I2e));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const M=b/1e3;Bz(f.x,o.x,M),Bz(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cv(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N2e(this.relativeTarget,this.relativeTargetOrigin,d,M),w&&g2e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=or()),io(w,this.relativeTarget)),v&&(this.animationValues=u,u2e(u,c,this.latestValues,M,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(pu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nn.update(()=>{Ow.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gp(0)),this.currentAnimation=s2e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(x2e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&fZ(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||or();const f=Xi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Xi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}io(a,l),Xh(a,u),lv(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new v2e),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&CA("z",o,c,this.animationValues);for(let u=0;u<AA.length;u++)CA(`rotate${AA[u]}`,o,c,this.animationValues),CA(`skew${AA[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Lw(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Lw(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!uf(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=y2e(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),o.transform=f;const{x:d,y:h}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in i0){if(u[p]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:g}=i0[p],_=f==="none"?u[p]:v(u[p],c);if(y){const w=y.length;for(let b=0;b<w;b++)o[y[b]]=_}else g?this.options.visualElement.renderState.vars[p]=_:o[p]=_}this.options.layoutId&&(o.pointerEvents=c===this?Lw(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(kz),this.root.sharedNodes.clear()}}}function _2e(t){t.updateLayout()}function b2e(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ao(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],h=Xi(d);d.min=r[f].min,d.max=d.min+h}):fZ(s,e.layoutBox,r)&&ao(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],h=Xi(r[f]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const a=Yh();lv(a,r,e.layoutBox);const l=Yh();o?lv(l,t.applyTransform(i,!0),e.measuredBox):lv(l,r,e.layoutBox);const c=!aZ(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=or();cv(p,e.layoutBox,d.layoutBox);const v=or();cv(v,r,h.layoutBox),lZ(p,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function S2e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E2e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function M2e(t){t.clearSnapshot()}function kz(t){t.clearMeasurements()}function Uz(t){t.isLayoutDirty=!1}function T2e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fz(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function A2e(t){t.resolveTargetDelta()}function C2e(t){t.calcProjection()}function P2e(t){t.resetSkewAndRotation()}function R2e(t){t.removeLeadSnapshot()}function Bz(t,e,n){t.translate=Fn(e.translate,0,n),t.scale=Fn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zz(t,e,n,r){t.min=Fn(e.min,n.min,r),t.max=Fn(e.max,n.max,r)}function N2e(t,e,n,r){zz(t.x,e.x,n.x,r),zz(t.y,e.y,n.y,r)}function I2e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const D2e={duration:.45,ease:[.4,0,.1,1]},jz=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Vz=jz("applewebkit/")&&!jz("chrome/")?Math.round:go;function Hz(t){t.min=Vz(t.min),t.max=Vz(t.max)}function L2e(t){Hz(t.x),Hz(t.y)}function fZ(t,e,n){return t==="position"||t==="preserve-aspect"&&!zAe(Lz(e),Lz(n),.2)}function O2e(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const k2e=uZ({attachResizeListener:(t,e)=>o0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),PA={current:void 0},dZ=uZ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!PA.current){const t=new k2e({});t.mount(window),t.setOptions({layoutScroll:!0}),PA.current=t}return PA.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),U2e={pan:{Feature:t2e},drag:{Feature:e2e,ProjectionNode:dZ,MeasureLayout:iZ}};function Wz(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Nn.postRender(()=>s(e,cy(e)))}class F2e extends Tu{mount(){const{current:e}=this.node;e&&(this.unmount=cTe(e,(n,r)=>(Wz(this.node,r,"Start"),i=>Wz(this.node,i,"End"))))}unmount(){}}class B2e extends Tu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oy(o0(this.node.current,"focus",()=>this.onFocus()),o0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gz(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Nn.postRender(()=>s(e,cy(e)))}class z2e extends Tu{mount(){const{current:e}=this.node;e&&(this.unmount=hTe(e,(n,r)=>(Gz(this.node,r,"Start"),(i,{success:s})=>Gz(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dR=new WeakMap,RA=new WeakMap,j2e=t=>{const e=dR.get(t.target);e&&e(t)},V2e=t=>{t.forEach(j2e)};function H2e({root:t,...e}){const n=t||document;RA.has(n)||RA.set(n,{});const r=RA.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(V2e,{root:t,...e})),r[i]}function W2e(t,e,n){const r=H2e(e);return dR.set(t,n),r.observe(t),()=>{dR.delete(t),r.unobserve(t)}}const G2e={some:0,all:1};class $2e extends Tu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:G2e[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return W2e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X2e(e,n))&&this.startObserver()}unmount(){}}function X2e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Y2e={inView:{Feature:$2e},tap:{Feature:z2e},focus:{Feature:B2e},hover:{Feature:F2e}},K2e={layout:{ProjectionNode:dZ,MeasureLayout:iZ}},q2e={...LAe,...Y2e,...U2e,...K2e},Kh=KTe(q2e,lAe);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const uy="160",ff={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},df={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hZ=0,hR=1,pZ=2,Z2e=3,mZ=0,xE=1,uv=2,ko=3,jl=0,Ki=1,$o=2,Q2e=2,Al=0,Vf=1,_b=2,pR=3,mR=4,gZ=5,Oc=100,vZ=101,yZ=102,gR=103,vR=104,xZ=200,wZ=201,_Z=202,bZ=203,bb=204,Sb=205,SZ=206,EZ=207,MZ=208,TZ=209,AZ=210,CZ=211,PZ=212,RZ=213,NZ=214,IZ=0,DZ=1,LZ=2,a0=3,OZ=4,kZ=5,UZ=6,FZ=7,fy=0,BZ=1,zZ=2,La=0,jZ=1,VZ=2,HZ=3,gO=4,WZ=5,GZ=6,yR="attached",$Z="detached",wE=300,Vl=301,gu=302,l0=303,c0=304,Mm=306,u0=1e3,Mi=1001,f0=1002,cr=1003,Eb=1004,J2e=1004,fv=1005,eCe=1005,Un=1006,vO=1007,tCe=1007,vu=1008,nCe=1008,Oa=1009,XZ=1010,YZ=1011,_E=1012,yO=1013,xl=1014,Xo=1015,Xp=1016,xO=1017,wO=1018,nu=1020,KZ=1021,Gi=1023,qZ=1024,ZZ=1025,ru=1026,fd=1027,QZ=1028,_O=1029,JZ=1030,bO=1031,SO=1033,kw=33776,Uw=33777,Fw=33778,Bw=33779,xR=35840,wR=35841,_R=35842,bR=35843,EO=36196,SR=37492,ER=37496,MR=37808,TR=37809,AR=37810,CR=37811,PR=37812,RR=37813,NR=37814,IR=37815,DR=37816,LR=37817,OR=37818,kR=37819,UR=37820,FR=37821,zw=36492,BR=36494,zR=36495,eQ=36283,jR=36284,VR=36285,HR=36286,tQ=2200,nQ=2201,rQ=2202,d0=2300,h0=2301,jw=2302,Mf=2400,Tf=2401,p0=2402,bE=2500,MO=2501,rCe=0,iCe=1,sCe=2,TO=3e3,iu=3001,iQ=3200,AO=3201,Au=0,sQ=1,Is="",Pr="srgb",Ba="srgb-linear",SE="display-p3",dy="display-p3-linear",m0="linear",xn="srgb",g0="rec709",v0="p3",oCe=0,hf=7680,aCe=7681,lCe=7682,cCe=7683,uCe=34055,fCe=34056,dCe=5386,hCe=512,pCe=513,mCe=514,gCe=515,vCe=516,yCe=517,xCe=518,WR=519,oQ=512,aQ=513,lQ=514,CO=515,cQ=516,uQ=517,fQ=518,dQ=519,y0=35044,wCe=35048,_Ce=35040,bCe=35045,SCe=35049,ECe=35041,MCe=35046,TCe=35050,ACe=35042,CCe="100",GR="300 es",Mb=1035,Yo=2e3,Yp=2001;let Zl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const wi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $z=1234567;const Hf=Math.PI/180,Kp=180/Math.PI;function Bs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(wi[t&255]+wi[t>>8&255]+wi[t>>16&255]+wi[t>>24&255]+"-"+wi[e&255]+wi[e>>8&255]+"-"+wi[e>>16&15|64]+wi[e>>24&255]+"-"+wi[n&63|128]+wi[n>>8&255]+"-"+wi[n>>16&255]+wi[n>>24&255]+wi[r&255]+wi[r>>8&255]+wi[r>>16&255]+wi[r>>24&255]).toLowerCase()}function Qn(t,e,n){return Math.max(e,Math.min(n,t))}function PO(t,e){return(t%e+e)%e}function PCe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function RCe(t,e,n){return t!==e?(n-t)/(e-t):0}function dv(t,e,n){return(1-n)*t+n*e}function NCe(t,e,n,r){return dv(t,e,1-Math.exp(-n*r))}function ICe(t,e=1){return e-Math.abs(PO(t,e*2)-e)}function DCe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function LCe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function OCe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function kCe(t,e){return t+Math.random()*(e-t)}function UCe(t){return t*(.5-Math.random())}function FCe(t){t!==void 0&&($z=t);let e=$z+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function BCe(t){return t*Hf}function zCe(t){return t*Kp}function $R(t){return(t&t-1)===0&&t!==0}function jCe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Tb(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function VCe(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),h=s((r-e)/2),p=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*f,l*d,a*c);break;case"YZY":t.set(l*d,a*u,l*f,a*c);break;case"ZXZ":t.set(l*f,l*d,a*u,a*c);break;case"XZX":t.set(a*u,l*p,l*h,a*c);break;case"YXY":t.set(l*h,a*u,l*p,a*c);break;case"ZYZ":t.set(l*p,l*h,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ls(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ft(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const HCe={DEG2RAD:Hf,RAD2DEG:Kp,generateUUID:Bs,clamp:Qn,euclideanModulo:PO,mapLinear:PCe,inverseLerp:RCe,lerp:dv,damp:NCe,pingpong:ICe,smoothstep:DCe,smootherstep:LCe,randInt:OCe,randFloat:kCe,randFloatSpread:UCe,seededRandom:FCe,degToRad:BCe,radToDeg:zCe,isPowerOfTwo:$R,ceilPowerOfTwo:jCe,floorPowerOfTwo:Tb,setQuaternionFromProperEuler:VCe,normalize:Ft,denormalize:ls};class Fe{constructor(e=0,n=0){Fe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ut{constructor(e,n,r,i,s,o,a,l,c){Ut.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],h=r[5],p=r[8],v=i[0],y=i[3],g=i[6],_=i[1],w=i[4],b=i[7],M=i[2],A=i[5],C=i[8];return s[0]=o*v+a*_+l*M,s[3]=o*y+a*w+l*A,s[6]=o*g+a*b+l*C,s[1]=c*v+u*_+f*M,s[4]=c*y+u*w+f*A,s[7]=c*g+u*b+f*C,s[2]=d*v+h*_+p*M,s[5]=d*y+h*w+p*A,s[8]=d*g+h*b+p*C,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,d=a*l-u*s,h=c*s-o*l,p=n*f+r*d+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/p;return e[0]=f*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=d*v,e[4]=(u*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=h*v,e[7]=(r*l-c*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(NA.makeScale(e,n)),this}rotate(e){return this.premultiply(NA.makeRotation(-e)),this}translate(e,n){return this.premultiply(NA.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const NA=new Ut;function hQ(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const WCe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function qh(t,e){return new WCe[t](e)}function x0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function pQ(){const t=x0("canvas");return t.style.display="block",t}const Xz={};function hv(t){t in Xz||(Xz[t]=!0,console.warn(t))}const Yz=new Ut().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Kz=new Ut().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),a1={[Ba]:{transfer:m0,primaries:g0,toReference:t=>t,fromReference:t=>t},[Pr]:{transfer:xn,primaries:g0,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[dy]:{transfer:m0,primaries:v0,toReference:t=>t.applyMatrix3(Kz),fromReference:t=>t.applyMatrix3(Yz)},[SE]:{transfer:xn,primaries:v0,toReference:t=>t.convertSRGBToLinear().applyMatrix3(Kz),fromReference:t=>t.applyMatrix3(Yz).convertLinearToSRGB()}},GCe=new Set([Ba,dy]),cn={enabled:!0,_workingColorSpace:Ba,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!GCe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=a1[e].toReference,i=a1[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return a1[t].primaries},getTransfer:function(t){return t===Is?m0:a1[t].transfer}};function mp(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function IA(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let nh;class RO{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{nh===void 0&&(nh=x0("canvas")),nh.width=e.width,nh.height=e.height;const r=nh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=nh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=x0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=mp(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(mp(n[r]/255)*255):n[r]=mp(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $Ce=0;class Af{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$Ce++}),this.uuid=Bs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(DA(i[o].image)):s.push(DA(i[o]))}else s=DA(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function DA(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?RO.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let XCe=0;class er extends Zl{constructor(e=er.DEFAULT_IMAGE,n=er.DEFAULT_MAPPING,r=Mi,i=Mi,s=Un,o=vu,a=Gi,l=Oa,c=er.DEFAULT_ANISOTROPY,u=Is){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:XCe++}),this.uuid=Bs(),this.name="",this.source=new Af(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ut,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(hv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===iu?Pr:Is),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==wE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case u0:e.x=e.x-Math.floor(e.x);break;case Mi:e.x=e.x<0?0:1;break;case f0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case u0:e.y=e.y-Math.floor(e.y);break;case Mi:e.y=e.y<0?0:1;break;case f0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return hv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Pr?iu:TO}set encoding(e){hv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===iu?Pr:Is}}er.DEFAULT_IMAGE=null;er.DEFAULT_MAPPING=wE;er.DEFAULT_ANISOTROPY=1;class on{constructor(e=0,n=0,r=0,i=1){on.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],p=l[9],v=l[2],y=l[6],g=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-v)<.01&&Math.abs(p-y)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+v)<.1&&Math.abs(p+y)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(c+1)/2,b=(h+1)/2,M=(g+1)/2,A=(u+d)/4,C=(f+v)/4,N=(p+y)/4;return w>b&&w>M?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=A/r,s=C/r):b>M?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=A/i,s=N/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=C/s,i=N/s),this.set(r,i,s,n),this}let _=Math.sqrt((y-p)*(y-p)+(f-v)*(f-v)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(y-p)/_,this.y=(f-v)/_,this.z=(d-u)/_,this.w=Math.acos((c+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mQ extends Zl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new on(0,0,e,n),this.scissorTest=!1,this.viewport=new on(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(hv("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===iu?Pr:Is),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Un,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new er(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Af(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ra extends mQ{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class EE extends er{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=cr,this.minFilter=cr,this.wrapR=Mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class YCe extends ra{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new EE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class NO extends er{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=cr,this.minFilter=cr,this.wrapR=Mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class KCe extends ra{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new NO(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class qCe extends ra{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Ci{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=s[o+0],h=s[o+1],p=s[o+2],v=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(a===1){e[n+0]=d,e[n+1]=h,e[n+2]=p,e[n+3]=v;return}if(f!==v||l!==d||c!==h||u!==p){let y=1-a;const g=l*d+c*h+u*p+f*v,_=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const M=Math.sqrt(w),A=Math.atan2(M,g*_);y=Math.sin(y*A)/M,a=Math.sin(a*A)/M}const b=a*_;if(l=l*y+d*b,c=c*y+h*b,u=u*y+p*b,f=f*y+v*b,y===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=M,c*=M,u*=M,f*=M}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],d=s[o+1],h=s[o+2],p=s[o+3];return e[n]=a*p+u*f+l*h-c*d,e[n+1]=l*p+u*d+c*f-a*h,e[n+2]=c*p+u*h+a*d-l*f,e[n+3]=u*p-a*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),d=l(r/2),h=l(i/2),p=l(s/2);switch(o){case"XYZ":this._x=d*u*f+c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f-d*h*p;break;case"YXZ":this._x=d*u*f+c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f+d*h*p;break;case"ZXY":this._x=d*u*f-c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f-d*h*p;break;case"ZYX":this._x=d*u*f-c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f+d*h*p;break;case"YZX":this._x=d*u*f+c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f-d*h*p;break;case"XZY":this._x=d*u*f-c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+a+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(o-i)*h}else if(r>a&&r>f){const h=2*Math.sqrt(1+r-a-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(s+c)/h}else if(a>f){const h=2*Math.sqrt(1+a-r-f);this._w=(s-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-a);this._w=(o-i)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*o+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,n=0,r=0){te.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(qz.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(qz.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*n-s*i),f=2*(s*r-o*n);return this.x=n+l*c+o*f-a*u,this.y=r+l*u+a*c-s*f,this.z=i+l*f+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return LA.copy(this).projectOnVector(e),this.sub(LA)}reflect(e){return this.sub(LA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const LA=new te,qz=new Ci;class oi{constructor(e=new te(1/0,1/0,1/0),n=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Po.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Po.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Po.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Po):Po.fromBufferAttribute(s,o),Po.applyMatrix4(e.matrixWorld),this.expandByPoint(Po);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),l1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),l1.copy(r.boundingBox)),l1.applyMatrix4(e.matrixWorld),this.union(l1)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Po),Po.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(wg),c1.subVectors(this.max,wg),rh.subVectors(e.a,wg),ih.subVectors(e.b,wg),sh.subVectors(e.c,wg),vc.subVectors(ih,rh),yc.subVectors(sh,ih),Xu.subVectors(rh,sh);let n=[0,-vc.z,vc.y,0,-yc.z,yc.y,0,-Xu.z,Xu.y,vc.z,0,-vc.x,yc.z,0,-yc.x,Xu.z,0,-Xu.x,-vc.y,vc.x,0,-yc.y,yc.x,0,-Xu.y,Xu.x,0];return!OA(n,rh,ih,sh,c1)||(n=[1,0,0,0,1,0,0,0,1],!OA(n,rh,ih,sh,c1))?!1:(u1.crossVectors(vc,yc),n=[u1.x,u1.y,u1.z],OA(n,rh,ih,sh,c1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Po).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Po).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(tl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),tl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),tl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),tl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),tl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),tl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),tl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),tl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(tl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const tl=[new te,new te,new te,new te,new te,new te,new te,new te],Po=new te,l1=new oi,rh=new te,ih=new te,sh=new te,vc=new te,yc=new te,Xu=new te,wg=new te,c1=new te,u1=new te,Yu=new te;function OA(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Yu.fromArray(t,s);const a=i.x*Math.abs(Yu.x)+i.y*Math.abs(Yu.y)+i.z*Math.abs(Yu.z),l=e.dot(Yu),c=n.dot(Yu),u=r.dot(Yu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const ZCe=new oi,_g=new te,kA=new te;class ai{constructor(e=new te,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):ZCe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_g.subVectors(e,this.center);const n=_g.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(_g,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(kA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_g.copy(e.center).add(kA)),this.expandByPoint(_g.copy(e.center).sub(kA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const nl=new te,UA=new te,f1=new te,xc=new te,FA=new te,d1=new te,BA=new te;class Nd{constructor(e=new te,n=new te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,nl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=nl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(nl.copy(this.origin).addScaledVector(this.direction,n),nl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){UA.copy(e).add(n).multiplyScalar(.5),f1.copy(n).sub(e).normalize(),xc.copy(this.origin).sub(UA);const s=e.distanceTo(n)*.5,o=-this.direction.dot(f1),a=xc.dot(this.direction),l=-xc.dot(f1),c=xc.lengthSq(),u=Math.abs(1-o*o);let f,d,h,p;if(u>0)if(f=o*l-a,d=o*a-l,p=s*u,f>=0)if(d>=-p)if(d<=p){const v=1/u;f*=v,d*=v,h=f*(f+o*d+2*a)+d*(o*f+d+2*l)+c}else d=s,f=Math.max(0,-(o*d+a)),h=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(o*d+a)),h=-f*f+d*(d+2*l)+c;else d<=-p?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),h=-f*f+d*(d+2*l)+c):d<=p?(f=0,d=Math.min(Math.max(-s,-l),s),h=d*(d+2*l)+c):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),h=-f*f+d*(d+2*l)+c);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),h=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(UA).addScaledVector(f1,d),h}intersectSphere(e,n){nl.subVectors(e.center,this.origin);const r=nl.dot(this.direction),i=nl.dot(nl)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,nl)!==null}intersectTriangle(e,n,r,i,s){FA.subVectors(n,e),d1.subVectors(r,e),BA.crossVectors(FA,d1);let o=this.direction.dot(BA),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;xc.subVectors(this.origin,e);const l=a*this.direction.dot(d1.crossVectors(xc,d1));if(l<0)return null;const c=a*this.direction.dot(FA.cross(xc));if(c<0||l+c>o)return null;const u=-a*xc.dot(BA);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ct{constructor(e,n,r,i,s,o,a,l,c,u,f,d,h,p,v,y){Ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,f,d,h,p,v,y)}set(e,n,r,i,s,o,a,l,c,u,f,d,h,p,v,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=d,g[3]=h,g[7]=p,g[11]=v,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ct().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/oh.setFromMatrixColumn(e,0).length(),s=1/oh.setFromMatrixColumn(e,1).length(),o=1/oh.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*u,h=o*f,p=a*u,v=a*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+p*c,n[5]=d-v*c,n[9]=-a*l,n[2]=v-d*c,n[6]=p+h*c,n[10]=o*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,p=c*u,v=c*f;n[0]=d+v*a,n[4]=p*a-h,n[8]=o*c,n[1]=o*f,n[5]=o*u,n[9]=-a,n[2]=h*a-p,n[6]=v+d*a,n[10]=o*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,p=c*u,v=c*f;n[0]=d-v*a,n[4]=-o*f,n[8]=p+h*a,n[1]=h+p*a,n[5]=o*u,n[9]=v-d*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const d=o*u,h=o*f,p=a*u,v=a*f;n[0]=l*u,n[4]=p*c-h,n[8]=d*c+v,n[1]=l*f,n[5]=v*c+d,n[9]=h*c-p,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const d=o*l,h=o*c,p=a*l,v=a*c;n[0]=l*u,n[4]=v-d*f,n[8]=p*f+h,n[1]=f,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*f+p,n[10]=d-v*f}else if(e.order==="XZY"){const d=o*l,h=o*c,p=a*l,v=a*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+v,n[5]=o*u,n[9]=h*f-p,n[2]=p*f-h,n[6]=a*u,n[10]=v*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(QCe,e,JCe)}lookAt(e,n,r){const i=this.elements;return Es.subVectors(e,n),Es.lengthSq()===0&&(Es.z=1),Es.normalize(),wc.crossVectors(r,Es),wc.lengthSq()===0&&(Math.abs(r.z)===1?Es.x+=1e-4:Es.z+=1e-4,Es.normalize(),wc.crossVectors(r,Es)),wc.normalize(),h1.crossVectors(Es,wc),i[0]=wc.x,i[4]=h1.x,i[8]=Es.x,i[1]=wc.y,i[5]=h1.y,i[9]=Es.y,i[2]=wc.z,i[6]=h1.z,i[10]=Es.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],p=r[2],v=r[6],y=r[10],g=r[14],_=r[3],w=r[7],b=r[11],M=r[15],A=i[0],C=i[4],N=i[8],R=i[12],D=i[1],F=i[5],U=i[9],$=i[13],I=i[2],V=i[6],j=i[10],X=i[14],L=i[3],k=i[7],z=i[11],B=i[15];return s[0]=o*A+a*D+l*I+c*L,s[4]=o*C+a*F+l*V+c*k,s[8]=o*N+a*U+l*j+c*z,s[12]=o*R+a*$+l*X+c*B,s[1]=u*A+f*D+d*I+h*L,s[5]=u*C+f*F+d*V+h*k,s[9]=u*N+f*U+d*j+h*z,s[13]=u*R+f*$+d*X+h*B,s[2]=p*A+v*D+y*I+g*L,s[6]=p*C+v*F+y*V+g*k,s[10]=p*N+v*U+y*j+g*z,s[14]=p*R+v*$+y*X+g*B,s[3]=_*A+w*D+b*I+M*L,s[7]=_*C+w*F+b*V+M*k,s[11]=_*N+w*U+b*j+M*z,s[15]=_*R+w*$+b*X+M*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],p=e[3],v=e[7],y=e[11],g=e[15];return p*(+s*l*f-i*c*f-s*a*d+r*c*d+i*a*h-r*l*h)+v*(+n*l*h-n*c*d+s*o*d-i*o*h+i*c*u-s*l*u)+y*(+n*c*f-n*a*h-s*o*f+r*o*h+s*a*u-r*c*u)+g*(-i*a*u-n*l*f+n*a*d+i*o*f-r*o*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],y=e[14],g=e[15],_=f*y*c-v*d*c+v*l*h-a*y*h-f*l*g+a*d*g,w=p*d*c-u*y*c-p*l*h+o*y*h+u*l*g-o*d*g,b=u*v*c-p*f*c+p*a*h-o*v*h-u*a*g+o*f*g,M=p*f*l-u*v*l-p*a*d+o*v*d+u*a*y-o*f*y,A=n*_+r*w+i*b+s*M;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/A;return e[0]=_*C,e[1]=(v*d*s-f*y*s-v*i*h+r*y*h+f*i*g-r*d*g)*C,e[2]=(a*y*s-v*l*s+v*i*c-r*y*c-a*i*g+r*l*g)*C,e[3]=(f*l*s-a*d*s-f*i*c+r*d*c+a*i*h-r*l*h)*C,e[4]=w*C,e[5]=(u*y*s-p*d*s+p*i*h-n*y*h-u*i*g+n*d*g)*C,e[6]=(p*l*s-o*y*s-p*i*c+n*y*c+o*i*g-n*l*g)*C,e[7]=(o*d*s-u*l*s+u*i*c-n*d*c-o*i*h+n*l*h)*C,e[8]=b*C,e[9]=(p*f*s-u*v*s-p*r*h+n*v*h+u*r*g-n*f*g)*C,e[10]=(o*v*s-p*a*s+p*r*c-n*v*c-o*r*g+n*a*g)*C,e[11]=(u*a*s-o*f*s-u*r*c+n*f*c+o*r*h-n*a*h)*C,e[12]=M*C,e[13]=(u*v*i-p*f*i+p*r*d-n*v*d-u*r*y+n*f*y)*C,e[14]=(p*a*i-o*v*i-p*r*l+n*v*l+o*r*y-n*a*y)*C,e[15]=(o*f*i-u*a*i+u*r*l-n*f*l-o*r*d+n*a*d)*C,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,f=a+a,d=s*c,h=s*u,p=s*f,v=o*u,y=o*f,g=a*f,_=l*c,w=l*u,b=l*f,M=r.x,A=r.y,C=r.z;return i[0]=(1-(v+g))*M,i[1]=(h+b)*M,i[2]=(p-w)*M,i[3]=0,i[4]=(h-b)*A,i[5]=(1-(d+g))*A,i[6]=(y+_)*A,i[7]=0,i[8]=(p+w)*C,i[9]=(y-_)*C,i[10]=(1-(d+v))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=oh.set(i[0],i[1],i[2]).length();const o=oh.set(i[4],i[5],i[6]).length(),a=oh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ro.copy(this);const c=1/s,u=1/o,f=1/a;return Ro.elements[0]*=c,Ro.elements[1]*=c,Ro.elements[2]*=c,Ro.elements[4]*=u,Ro.elements[5]*=u,Ro.elements[6]*=u,Ro.elements[8]*=f,Ro.elements[9]*=f,Ro.elements[10]*=f,n.setFromRotationMatrix(Ro),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Yo){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,p;if(a===Yo)h=-(o+s)/(o-s),p=-2*o*s/(o-s);else if(a===Yp)h=-o/(o-s),p=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Yo){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(o-s),d=(n+e)*c,h=(r+i)*u;let p,v;if(a===Yo)p=(o+s)*f,v=-2*f;else if(a===Yp)p=s*f,v=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=v,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const oh=new te,Ro=new Ct,QCe=new te(0,0,0),JCe=new te(1,1,1),wc=new te,h1=new te,Es=new te,Zz=new Ct,Qz=new Ci;class hy{constructor(e=0,n=0,r=0,i=hy.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Qn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Zz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Zz,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Qz.setFromEuler(this),this.setFromQuaternion(Qz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}hy.DEFAULT_ORDER="XYZ";class Wf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ePe=0;const Jz=new te,ah=new Ci,rl=new Ct,p1=new te,bg=new te,tPe=new te,nPe=new Ci,ej=new te(1,0,0),tj=new te(0,1,0),nj=new te(0,0,1),rPe={type:"added"},iPe={type:"removed"};class tn extends Zl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ePe++}),this.uuid=Bs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tn.DEFAULT_UP.clone();const e=new te,n=new hy,r=new Ci,i=new te(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ct},normalMatrix:{value:new Ut}}),this.matrix=new Ct,this.matrixWorld=new Ct,this.matrixAutoUpdate=tn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Wf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ah.setFromAxisAngle(e,n),this.quaternion.multiply(ah),this}rotateOnWorldAxis(e,n){return ah.setFromAxisAngle(e,n),this.quaternion.premultiply(ah),this}rotateX(e){return this.rotateOnAxis(ej,e)}rotateY(e){return this.rotateOnAxis(tj,e)}rotateZ(e){return this.rotateOnAxis(nj,e)}translateOnAxis(e,n){return Jz.copy(e).applyQuaternion(this.quaternion),this.position.add(Jz.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(ej,e)}translateY(e){return this.translateOnAxis(tj,e)}translateZ(e){return this.translateOnAxis(nj,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(rl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?p1.copy(e):p1.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),bg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?rl.lookAt(bg,p1,this.up):rl.lookAt(p1,bg,this.up),this.quaternion.setFromRotationMatrix(rl),i&&(rl.extractRotation(i.matrixWorld),ah.setFromRotationMatrix(rl),this.quaternion.premultiply(ah.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(rPe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(iPe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),rl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),rl.multiply(e.parent.matrixWorld)),e.applyMatrix4(rl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(bg,e,tPe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(bg,nPe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),d=o(e.skeletons),h=o(e.animations),p=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}tn.DEFAULT_UP=new te(0,1,0);tn.DEFAULT_MATRIX_AUTO_UPDATE=!0;tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const No=new te,il=new te,zA=new te,sl=new te,lh=new te,ch=new te,rj=new te,jA=new te,VA=new te,HA=new te;let m1=!1;class as{constructor(e=new te,n=new te,r=new te){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),No.subVectors(e,n),i.cross(No);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){No.subVectors(i,n),il.subVectors(r,n),zA.subVectors(e,n);const o=No.dot(No),a=No.dot(il),l=No.dot(zA),c=il.dot(il),u=il.dot(zA),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const d=1/f,h=(c*l-a*u)*d,p=(o*u-a*l)*d;return s.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,sl)===null?!1:sl.x>=0&&sl.y>=0&&sl.x+sl.y<=1}static getUV(e,n,r,i,s,o,a,l){return m1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),m1=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,sl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,sl.x),l.addScaledVector(o,sl.y),l.addScaledVector(a,sl.z),l)}static isFrontFacing(e,n,r,i){return No.subVectors(r,n),il.subVectors(e,n),No.cross(il).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return No.subVectors(this.c,this.b),il.subVectors(this.a,this.b),No.cross(il).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return as.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return as.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return m1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),m1=!0),as.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return as.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return as.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return as.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;lh.subVectors(i,r),ch.subVectors(s,r),jA.subVectors(e,r);const l=lh.dot(jA),c=ch.dot(jA);if(l<=0&&c<=0)return n.copy(r);VA.subVectors(e,i);const u=lh.dot(VA),f=ch.dot(VA);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(lh,o);HA.subVectors(e,s);const h=lh.dot(HA),p=ch.dot(HA);if(p>=0&&h<=p)return n.copy(s);const v=h*c-l*p;if(v<=0&&c>=0&&p<=0)return a=c/(c-p),n.copy(r).addScaledVector(ch,a);const y=u*p-h*f;if(y<=0&&f-u>=0&&h-p>=0)return rj.subVectors(s,i),a=(f-u)/(f-u+(h-p)),n.copy(i).addScaledVector(rj,a);const g=1/(y+v+d);return o=v*g,a=d*g,n.copy(r).addScaledVector(lh,o).addScaledVector(ch,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const gQ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_c={h:0,s:0,l:0},g1={h:0,s:0,l:0};function WA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class it{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Pr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,cn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=cn.workingColorSpace){return this.r=e,this.g=n,this.b=r,cn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=cn.workingColorSpace){if(e=PO(e,1),n=Qn(n,0,1),r=Qn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=WA(o,s,e+1/3),this.g=WA(o,s,e),this.b=WA(o,s,e-1/3)}return cn.toWorkingColorSpace(this,i),this}setStyle(e,n=Pr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Pr){const r=gQ[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=mp(e.r),this.g=mp(e.g),this.b=mp(e.b),this}copyLinearToSRGB(e){return this.r=IA(e.r),this.g=IA(e.g),this.b=IA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Pr){return cn.fromWorkingColorSpace(_i.copy(this),e),Math.round(Qn(_i.r*255,0,255))*65536+Math.round(Qn(_i.g*255,0,255))*256+Math.round(Qn(_i.b*255,0,255))}getHexString(e=Pr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=cn.workingColorSpace){cn.fromWorkingColorSpace(_i.copy(this),n);const r=_i.r,i=_i.g,s=_i.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=cn.workingColorSpace){return cn.fromWorkingColorSpace(_i.copy(this),n),e.r=_i.r,e.g=_i.g,e.b=_i.b,e}getStyle(e=Pr){cn.fromWorkingColorSpace(_i.copy(this),e);const n=_i.r,r=_i.g,i=_i.b;return e!==Pr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(_c),this.setHSL(_c.h+e,_c.s+n,_c.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(_c),e.getHSL(g1);const r=dv(_c.h,g1.h,n),i=dv(_c.s,g1.s,n),s=dv(_c.l,g1.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _i=new it;it.NAMES=gQ;let sPe=0;class Ii extends Zl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:sPe++}),this.uuid=Bs(),this.name="",this.type="Material",this.blending=Vf,this.side=jl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=bb,this.blendDst=Sb,this.blendEquation=Oc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new it(0,0,0),this.blendAlpha=0,this.depthFunc=a0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=WR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hf,this.stencilZFail=hf,this.stencilZPass=hf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Vf&&(r.blending=this.blending),this.side!==jl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==bb&&(r.blendSrc=this.blendSrc),this.blendDst!==Sb&&(r.blendDst=this.blendDst),this.blendEquation!==Oc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==a0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==WR&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==hf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==hf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==hf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ql extends Ii{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new it(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const pl=oPe();function oPe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function is(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Qn(t,-65504,65504),pl.floatView[0]=t;const e=pl.uint32View[0],n=e>>23&511;return pl.baseTable[n]+((e&8388607)>>pl.shiftTable[n])}function $g(t){const e=t>>10;return pl.uint32View[0]=pl.mantissaTable[pl.offsetTable[e]+(t&1023)]+pl.exponentTable[e],pl.floatView[0]}const aPe={toHalfFloat:is,fromHalfFloat:$g},yr=new te,v1=new Fe;class dn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=y0,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Xo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)v1.fromBufferAttribute(this,n),v1.applyMatrix3(e),this.setXY(n,v1.x,v1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)yr.fromBufferAttribute(this,n),yr.applyMatrix3(e),this.setXYZ(n,yr.x,yr.y,yr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)yr.fromBufferAttribute(this,n),yr.applyMatrix4(e),this.setXYZ(n,yr.x,yr.y,yr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)yr.fromBufferAttribute(this,n),yr.applyNormalMatrix(e),this.setXYZ(n,yr.x,yr.y,yr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)yr.fromBufferAttribute(this,n),yr.transformDirection(e),this.setXYZ(n,yr.x,yr.y,yr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ls(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ft(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ls(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ls(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ls(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ls(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==y0&&(e.usage=this.usage),e}}class lPe extends dn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class cPe extends dn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class uPe extends dn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class fPe extends dn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class IO extends dn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class dPe extends dn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class DO extends dn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class hPe extends dn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=$g(this.array[e*this.itemSize]);return this.normalized&&(n=ls(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=is(n),this}getY(e){let n=$g(this.array[e*this.itemSize+1]);return this.normalized&&(n=ls(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=is(n),this}getZ(e){let n=$g(this.array[e*this.itemSize+2]);return this.normalized&&(n=ls(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=is(n),this}getW(e){let n=$g(this.array[e*this.itemSize+3]);return this.normalized&&(n=ls(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=is(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=is(n),this.array[e+1]=is(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=is(n),this.array[e+1]=is(r),this.array[e+2]=is(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=is(n),this.array[e+1]=is(r),this.array[e+2]=is(i),this.array[e+3]=is(s),this}}class ht extends dn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class pPe extends dn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let mPe=0;const so=new Ct,GA=new tn,uh=new te,Ms=new oi,Sg=new oi,zr=new te;class jt extends Zl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mPe++}),this.uuid=Bs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hQ(e)?DO:IO)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Ut().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return so.makeRotationFromQuaternion(e),this.applyMatrix4(so),this}rotateX(e){return so.makeRotationX(e),this.applyMatrix4(so),this}rotateY(e){return so.makeRotationY(e),this.applyMatrix4(so),this}rotateZ(e){return so.makeRotationZ(e),this.applyMatrix4(so),this}translate(e,n,r){return so.makeTranslation(e,n,r),this.applyMatrix4(so),this}scale(e,n,r){return so.makeScale(e,n,r),this.applyMatrix4(so),this}lookAt(e){return GA.lookAt(e),GA.updateMatrix(),this.applyMatrix4(GA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(uh).negate(),this.translate(uh.x,uh.y,uh.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ht(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new oi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Ms.setFromBufferAttribute(s),this.morphTargetsRelative?(zr.addVectors(this.boundingBox.min,Ms.min),this.boundingBox.expandByPoint(zr),zr.addVectors(this.boundingBox.max,Ms.max),this.boundingBox.expandByPoint(zr)):(this.boundingBox.expandByPoint(Ms.min),this.boundingBox.expandByPoint(Ms.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ai);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new te,1/0);return}if(e){const r=this.boundingSphere.center;if(Ms.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Sg.setFromBufferAttribute(a),this.morphTargetsRelative?(zr.addVectors(Ms.min,Sg.min),Ms.expandByPoint(zr),zr.addVectors(Ms.max,Sg.max),Ms.expandByPoint(zr)):(Ms.expandByPoint(Sg.min),Ms.expandByPoint(Sg.max))}Ms.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)zr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(zr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)zr.fromBufferAttribute(a,c),l&&(uh.fromBufferAttribute(e,c),zr.add(uh)),i=Math.max(i,r.distanceToSquared(zr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new dn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new te,u[D]=new te;const f=new te,d=new te,h=new te,p=new Fe,v=new Fe,y=new Fe,g=new te,_=new te;function w(D,F,U){f.fromArray(i,D*3),d.fromArray(i,F*3),h.fromArray(i,U*3),p.fromArray(o,D*2),v.fromArray(o,F*2),y.fromArray(o,U*2),d.sub(f),h.sub(f),v.sub(p),y.sub(p);const $=1/(v.x*y.y-y.x*v.y);isFinite($)&&(g.copy(d).multiplyScalar(y.y).addScaledVector(h,-v.y).multiplyScalar($),_.copy(h).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar($),c[D].add(g),c[F].add(g),c[U].add(g),u[D].add(_),u[F].add(_),u[U].add(_))}let b=this.groups;b.length===0&&(b=[{start:0,count:r.length}]);for(let D=0,F=b.length;D<F;++D){const U=b[D],$=U.start,I=U.count;for(let V=$,j=$+I;V<j;V+=3)w(r[V+0],r[V+1],r[V+2])}const M=new te,A=new te,C=new te,N=new te;function R(D){C.fromArray(s,D*3),N.copy(C);const F=c[D];M.copy(F),M.sub(C.multiplyScalar(C.dot(F))).normalize(),A.crossVectors(N,F);const $=A.dot(u[D])<0?-1:1;l[D*4]=M.x,l[D*4+1]=M.y,l[D*4+2]=M.z,l[D*4+3]=$}for(let D=0,F=b.length;D<F;++D){const U=b[D],$=U.start,I=U.count;for(let V=$,j=$+I;V<j;V+=3)R(r[V+0]),R(r[V+1]),R(r[V+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new dn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new te,s=new te,o=new te,a=new te,l=new te,c=new te,u=new te,f=new te;if(e)for(let d=0,h=e.count;d<h;d+=3){const p=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(n,p),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,y),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,p),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(p,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),s.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)zr.fromBufferAttribute(e,n),zr.normalize(),e.setXYZ(n,zr.x,zr.y,zr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,d=new c.constructor(l.length*u);let h=0,p=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?h=l[v]*a.data.stride+a.offset:h=l[v]*u;for(let g=0;g<u;g++)d[p++]=c[h++]}return new dn(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new jt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ij=new Ct,Ku=new Nd,y1=new ai,sj=new te,fh=new te,dh=new te,hh=new te,$A=new te,x1=new te,w1=new Fe,_1=new Fe,b1=new Fe,oj=new te,aj=new te,lj=new te,S1=new te,E1=new te;class Jn extends tn{constructor(e=new jt,n=new Ql){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){x1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&($A.fromBufferAttribute(f,e),o?x1.addScaledVector($A,u):x1.addScaledVector($A.sub(n),u))}n.add(x1)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),y1.copy(r.boundingSphere),y1.applyMatrix4(s),Ku.copy(e.ray).recast(e.near),!(y1.containsPoint(Ku.origin)===!1&&(Ku.intersectSphere(y1,sj)===null||Ku.origin.distanceToSquared(sj)>(e.far-e.near)**2))&&(ij.copy(s).invert(),Ku.copy(e.ray).applyMatrix4(ij),!(r.boundingBox!==null&&Ku.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Ku)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,d=s.groups,h=s.drawRange;if(a!==null)if(Array.isArray(o))for(let p=0,v=d.length;p<v;p++){const y=d[p],g=o[y.materialIndex],_=Math.max(y.start,h.start),w=Math.min(a.count,Math.min(y.start+y.count,h.start+h.count));for(let b=_,M=w;b<M;b+=3){const A=a.getX(b),C=a.getX(b+1),N=a.getX(b+2);i=M1(this,g,e,r,c,u,f,A,C,N),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),v=Math.min(a.count,h.start+h.count);for(let y=p,g=v;y<g;y+=3){const _=a.getX(y),w=a.getX(y+1),b=a.getX(y+2);i=M1(this,o,e,r,c,u,f,_,w,b),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let p=0,v=d.length;p<v;p++){const y=d[p],g=o[y.materialIndex],_=Math.max(y.start,h.start),w=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let b=_,M=w;b<M;b+=3){const A=b,C=b+1,N=b+2;i=M1(this,g,e,r,c,u,f,A,C,N),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),v=Math.min(l.count,h.start+h.count);for(let y=p,g=v;y<g;y+=3){const _=y,w=y+1,b=y+2;i=M1(this,o,e,r,c,u,f,_,w,b),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function gPe(t,e,n,r,i,s,o,a){let l;if(e.side===Ki?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===jl,a),l===null)return null;E1.copy(a),E1.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(E1);return c<n.near||c>n.far?null:{distance:c,point:E1.clone(),object:t}}function M1(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,fh),t.getVertexPosition(l,dh),t.getVertexPosition(c,hh);const u=gPe(t,e,n,r,fh,dh,hh,S1);if(u){i&&(w1.fromBufferAttribute(i,a),_1.fromBufferAttribute(i,l),b1.fromBufferAttribute(i,c),u.uv=as.getInterpolation(S1,fh,dh,hh,w1,_1,b1,new Fe)),s&&(w1.fromBufferAttribute(s,a),_1.fromBufferAttribute(s,l),b1.fromBufferAttribute(s,c),u.uv1=as.getInterpolation(S1,fh,dh,hh,w1,_1,b1,new Fe),u.uv2=u.uv1),o&&(oj.fromBufferAttribute(o,a),aj.fromBufferAttribute(o,l),lj.fromBufferAttribute(o,c),u.normal=as.getInterpolation(S1,fh,dh,hh,oj,aj,lj,new te),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new te,materialIndex:0};as.getNormal(fh,dh,hh,f.normal),u.face=f}return u}class Id extends jt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let d=0,h=0;p("z","y","x",-1,-1,r,n,e,o,s,0),p("z","y","x",1,-1,r,n,-e,o,s,1),p("x","z","y",1,1,e,r,n,i,o,2),p("x","z","y",1,-1,e,r,-n,i,o,3),p("x","y","z",1,-1,e,n,r,i,s,4),p("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ht(c,3)),this.setAttribute("normal",new ht(u,3)),this.setAttribute("uv",new ht(f,2));function p(v,y,g,_,w,b,M,A,C,N,R){const D=b/C,F=M/N,U=b/2,$=M/2,I=A/2,V=C+1,j=N+1;let X=0,L=0;const k=new te;for(let z=0;z<j;z++){const B=z*F-$;for(let G=0;G<V;G++){const Y=G*D-U;k[v]=Y*_,k[y]=B*w,k[g]=I,c.push(k.x,k.y,k.z),k[v]=0,k[y]=0,k[g]=A>0?1:-1,u.push(k.x,k.y,k.z),f.push(G/C),f.push(1-z/N),X+=1}}for(let z=0;z<N;z++)for(let B=0;B<C;B++){const G=d+B+V*z,Y=d+B+V*(z+1),Z=d+(B+1)+V*(z+1),Q=d+(B+1)+V*z;l.push(G,Y,Q),l.push(Y,Z,Q),L+=6}a.addGroup(h,L,R),h+=L,d+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Id(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function qp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ji(t){const e={};for(let n=0;n<t.length;n++){const r=qp(t[n]);for(const i in r)e[i]=r[i]}return e}function vPe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function vQ(t){return t.getRenderTarget()===null?t.outputColorSpace:cn.workingColorSpace}const LO={clone:qp,merge:ji};var yPe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,xPe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ia extends Ii{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yPe,this.fragmentShader=xPe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qp(e.uniforms),this.uniformsGroups=vPe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class py extends tn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ct,this.projectionMatrix=new Ct,this.projectionMatrixInverse=new Ct,this.coordinateSystem=Yo}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class fr extends py{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Kp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Hf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Kp*2*Math.atan(Math.tan(Hf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Hf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ph=-90,mh=1;class yQ extends tn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new fr(ph,mh,e,n);i.layers=this.layers,this.add(i);const s=new fr(ph,mh,e,n);s.layers=this.layers,this.add(s);const o=new fr(ph,mh,e,n);o.layers=this.layers,this.add(o);const a=new fr(ph,mh,e,n);a.layers=this.layers,this.add(a);const l=new fr(ph,mh,e,n);l.layers=this.layers,this.add(l);const c=new fr(ph,mh,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Yo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Yp)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=v,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,d,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class my extends er{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Vl,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class xQ extends ra{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(hv("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===iu?Pr:Is),this.texture=new my(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Un}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Id(5,5,5),s=new ia({name:"CubemapFromEquirect",uniforms:qp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ki,blending:Al});s.uniforms.tEquirect.value=n;const o=new Jn(i,s),a=n.minFilter;return n.minFilter===vu&&(n.minFilter=Un),new yQ(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const XA=new te,wPe=new te,_Pe=new Ut;class dl{constructor(e=new te(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=XA.subVectors(r,n).cross(wPe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(XA),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||_Pe.getNormalMatrix(e),i=this.coplanarPoint(XA).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const qu=new ai,T1=new te;class gy{constructor(e=new dl,n=new dl,r=new dl,i=new dl,s=new dl,o=new dl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Yo){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],p=i[9],v=i[10],y=i[11],g=i[12],_=i[13],w=i[14],b=i[15];if(r[0].setComponents(l-s,d-c,y-h,b-g).normalize(),r[1].setComponents(l+s,d+c,y+h,b+g).normalize(),r[2].setComponents(l+o,d+u,y+p,b+_).normalize(),r[3].setComponents(l-o,d-u,y-p,b-_).normalize(),r[4].setComponents(l-a,d-f,y-v,b-w).normalize(),n===Yo)r[5].setComponents(l+a,d+f,y+v,b+w).normalize();else if(n===Yp)r[5].setComponents(a,f,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),qu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),qu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(qu)}intersectsSprite(e){return qu.center.set(0,0,0),qu.radius=.7071067811865476,qu.applyMatrix4(e.matrixWorld),this.intersectsSphere(qu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(T1.x=i.normal.x>0?e.max.x:e.min.x,T1.y=i.normal.y>0?e.max.y:e.min.y,T1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(T1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function wQ(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function bPe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,h=f.byteLength,p=t.createBuffer();t.bindBuffer(u,p),t.bufferData(u,f,d),c.onUploadCallback();let v;if(f instanceof Float32Array)v=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)v=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=t.SHORT;else if(f instanceof Uint32Array)v=t.UNSIGNED_INT;else if(f instanceof Int32Array)v=t.INT;else if(f instanceof Int8Array)v=t.BYTE;else if(f instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:h}}function s(c,u,f){const d=u.array,h=u._updateRange,p=u.updateRanges;if(t.bindBuffer(f,c),h.count===-1&&p.length===0&&t.bufferSubData(f,0,d),p.length!==0){for(let v=0,y=p.length;v<y;v++){const g=p[v];n?t.bufferSubData(f,g.start*d.BYTES_PER_ELEMENT,d,g.start,g.count):t.bufferSubData(f,g.start*d.BYTES_PER_ELEMENT,d.subarray(g.start,g.start+g.count))}u.clearUpdateRanges()}h.count!==-1&&(n?t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,u));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,c,u),f.version=c.version}}return{get:o,remove:a,update:l}}class Cu extends jt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,d=n/l,h=[],p=[],v=[],y=[];for(let g=0;g<u;g++){const _=g*d-o;for(let w=0;w<c;w++){const b=w*f-s;p.push(b,-_,0),v.push(0,0,1),y.push(w/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<a;_++){const w=_+c*g,b=_+c*(g+1),M=_+1+c*(g+1),A=_+1+c*g;h.push(w,b,A),h.push(b,M,A)}this.setIndex(h),this.setAttribute("position",new ht(p,3)),this.setAttribute("normal",new ht(v,3)),this.setAttribute("uv",new ht(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cu(e.width,e.height,e.widthSegments,e.heightSegments)}}var SPe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,EPe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,MPe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,TPe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,APe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,CPe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,PPe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,RPe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,NPe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,IPe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,DPe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,LPe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,OPe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kPe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,UPe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,FPe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,BPe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,zPe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,jPe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,VPe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,HPe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,WPe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,GPe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,$Pe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,XPe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,YPe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,KPe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qPe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ZPe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,QPe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,JPe="gl_FragColor = linearToOutputTexel( gl_FragColor );",eRe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,tRe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,nRe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,rRe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,iRe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,sRe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,oRe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,aRe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,lRe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,cRe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,uRe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,fRe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,dRe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hRe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,pRe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,mRe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,gRe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,vRe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,yRe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,xRe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,wRe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_Re=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,bRe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,SRe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ERe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,MRe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,TRe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ARe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,CRe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,PRe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,RRe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,NRe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,IRe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,DRe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LRe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ORe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,kRe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,URe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,FRe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,BRe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,zRe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,jRe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,VRe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,HRe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,WRe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,GRe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$Re=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,XRe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,YRe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,KRe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,qRe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ZRe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,QRe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,JRe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eNe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tNe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nNe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rNe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,iNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,sNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oNe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,aNe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lNe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cNe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,uNe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,fNe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dNe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hNe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pNe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mNe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gNe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,vNe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,yNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,wNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,_Ne=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bNe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,SNe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ENe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,MNe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ANe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,CNe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,PNe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,RNe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,NNe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,INe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,DNe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,LNe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ONe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kNe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,UNe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FNe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BNe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zNe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,jNe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VNe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,HNe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,WNe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GNe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$Ne=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,XNe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YNe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,KNe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qNe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ZNe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,QNe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JNe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,eIe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tIe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lt={alphahash_fragment:SPe,alphahash_pars_fragment:EPe,alphamap_fragment:MPe,alphamap_pars_fragment:TPe,alphatest_fragment:APe,alphatest_pars_fragment:CPe,aomap_fragment:PPe,aomap_pars_fragment:RPe,batching_pars_vertex:NPe,batching_vertex:IPe,begin_vertex:DPe,beginnormal_vertex:LPe,bsdfs:OPe,iridescence_fragment:kPe,bumpmap_pars_fragment:UPe,clipping_planes_fragment:FPe,clipping_planes_pars_fragment:BPe,clipping_planes_pars_vertex:zPe,clipping_planes_vertex:jPe,color_fragment:VPe,color_pars_fragment:HPe,color_pars_vertex:WPe,color_vertex:GPe,common:$Pe,cube_uv_reflection_fragment:XPe,defaultnormal_vertex:YPe,displacementmap_pars_vertex:KPe,displacementmap_vertex:qPe,emissivemap_fragment:ZPe,emissivemap_pars_fragment:QPe,colorspace_fragment:JPe,colorspace_pars_fragment:eRe,envmap_fragment:tRe,envmap_common_pars_fragment:nRe,envmap_pars_fragment:rRe,envmap_pars_vertex:iRe,envmap_physical_pars_fragment:gRe,envmap_vertex:sRe,fog_vertex:oRe,fog_pars_vertex:aRe,fog_fragment:lRe,fog_pars_fragment:cRe,gradientmap_pars_fragment:uRe,lightmap_fragment:fRe,lightmap_pars_fragment:dRe,lights_lambert_fragment:hRe,lights_lambert_pars_fragment:pRe,lights_pars_begin:mRe,lights_toon_fragment:vRe,lights_toon_pars_fragment:yRe,lights_phong_fragment:xRe,lights_phong_pars_fragment:wRe,lights_physical_fragment:_Re,lights_physical_pars_fragment:bRe,lights_fragment_begin:SRe,lights_fragment_maps:ERe,lights_fragment_end:MRe,logdepthbuf_fragment:TRe,logdepthbuf_pars_fragment:ARe,logdepthbuf_pars_vertex:CRe,logdepthbuf_vertex:PRe,map_fragment:RRe,map_pars_fragment:NRe,map_particle_fragment:IRe,map_particle_pars_fragment:DRe,metalnessmap_fragment:LRe,metalnessmap_pars_fragment:ORe,morphcolor_vertex:kRe,morphnormal_vertex:URe,morphtarget_pars_vertex:FRe,morphtarget_vertex:BRe,normal_fragment_begin:zRe,normal_fragment_maps:jRe,normal_pars_fragment:VRe,normal_pars_vertex:HRe,normal_vertex:WRe,normalmap_pars_fragment:GRe,clearcoat_normal_fragment_begin:$Re,clearcoat_normal_fragment_maps:XRe,clearcoat_pars_fragment:YRe,iridescence_pars_fragment:KRe,opaque_fragment:qRe,packing:ZRe,premultiplied_alpha_fragment:QRe,project_vertex:JRe,dithering_fragment:eNe,dithering_pars_fragment:tNe,roughnessmap_fragment:nNe,roughnessmap_pars_fragment:rNe,shadowmap_pars_fragment:iNe,shadowmap_pars_vertex:sNe,shadowmap_vertex:oNe,shadowmask_pars_fragment:aNe,skinbase_vertex:lNe,skinning_pars_vertex:cNe,skinning_vertex:uNe,skinnormal_vertex:fNe,specularmap_fragment:dNe,specularmap_pars_fragment:hNe,tonemapping_fragment:pNe,tonemapping_pars_fragment:mNe,transmission_fragment:gNe,transmission_pars_fragment:vNe,uv_pars_fragment:yNe,uv_pars_vertex:xNe,uv_vertex:wNe,worldpos_vertex:_Ne,background_vert:bNe,background_frag:SNe,backgroundCube_vert:ENe,backgroundCube_frag:MNe,cube_vert:TNe,cube_frag:ANe,depth_vert:CNe,depth_frag:PNe,distanceRGBA_vert:RNe,distanceRGBA_frag:NNe,equirect_vert:INe,equirect_frag:DNe,linedashed_vert:LNe,linedashed_frag:ONe,meshbasic_vert:kNe,meshbasic_frag:UNe,meshlambert_vert:FNe,meshlambert_frag:BNe,meshmatcap_vert:zNe,meshmatcap_frag:jNe,meshnormal_vert:VNe,meshnormal_frag:HNe,meshphong_vert:WNe,meshphong_frag:GNe,meshphysical_vert:$Ne,meshphysical_frag:XNe,meshtoon_vert:YNe,meshtoon_frag:KNe,points_vert:qNe,points_frag:ZNe,shadow_vert:QNe,shadow_frag:JNe,sprite_vert:eIe,sprite_frag:tIe},Je={common:{diffuse:{value:new it(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ut},alphaMap:{value:null},alphaMapTransform:{value:new Ut},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ut}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ut}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ut}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ut},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ut},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ut},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ut}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ut}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ut}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new it(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new it(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ut},alphaTest:{value:0},uvTransform:{value:new Ut}},sprite:{diffuse:{value:new it(16777215)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ut},alphaMap:{value:null},alphaMapTransform:{value:new Ut},alphaTest:{value:0}}},Vo={basic:{uniforms:ji([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:ji([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new it(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:ji([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new it(0)},specular:{value:new it(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:ji([Je.common,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.roughnessmap,Je.metalnessmap,Je.fog,Je.lights,{emissive:{value:new it(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:ji([Je.common,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.gradientmap,Je.fog,Je.lights,{emissive:{value:new it(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:ji([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:ji([Je.points,Je.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:ji([Je.common,Je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:ji([Je.common,Je.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:ji([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:ji([Je.sprite,Je.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ut},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Lt.backgroundCube_vert,fragmentShader:Lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:ji([Je.common,Je.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:ji([Je.lights,Je.fog,{color:{value:new it(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};Vo.physical={uniforms:ji([Vo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ut},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ut},clearcoatNormalScale:{value:new Fe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ut},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ut},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ut},sheen:{value:0},sheenColor:{value:new it(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ut},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ut},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ut},transmissionSamplerSize:{value:new Fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ut},attenuationDistance:{value:0},attenuationColor:{value:new it(0)},specularColor:{value:new it(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ut},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ut},anisotropyVector:{value:new Fe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ut}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};const A1={r:0,b:0,g:0};function nIe(t,e,n,r,i,s,o){const a=new it(0);let l=s===!0?0:1,c,u,f=null,d=0,h=null;function p(y,g){let _=!1,w=g.isScene===!0?g.background:null;w&&w.isTexture&&(w=(g.backgroundBlurriness>0?n:e).get(w)),w===null?v(a,l):w&&w.isColor&&(v(w,1),_=!0);const b=t.xr.getEnvironmentBlendMode();b==="additive"?r.buffers.color.setClear(0,0,0,1,o):b==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Mm)?(u===void 0&&(u=new Jn(new Id(1,1,1),new ia({name:"BackgroundCubeMaterial",uniforms:qp(Vo.backgroundCube.uniforms),vertexShader:Vo.backgroundCube.vertexShader,fragmentShader:Vo.backgroundCube.fragmentShader,side:Ki,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,A,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=cn.getTransfer(w.colorSpace)!==xn,(f!==w||d!==w.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=w,d=w.version,h=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Jn(new Cu(2,2),new ia({name:"BackgroundMaterial",uniforms:qp(Vo.background.uniforms),vertexShader:Vo.background.vertexShader,fragmentShader:Vo.background.fragmentShader,side:jl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=cn.getTransfer(w.colorSpace)!==xn,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||d!==w.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=w,d=w.version,h=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function v(y,g){y.getRGB(A1,vQ(t)),r.buffers.color.setClear(A1.r,A1.g,A1.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(y,g=1){a.set(y),l=g,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:p}}function rIe(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function f(I,V,j,X,L){let k=!1;if(o){const z=v(X,j,V);c!==z&&(c=z,h(c.object)),k=g(I,X,j,L),k&&_(I,X,j,L)}else{const z=V.wireframe===!0;(c.geometry!==X.id||c.program!==j.id||c.wireframe!==z)&&(c.geometry=X.id,c.program=j.id,c.wireframe=z,k=!0)}L!==null&&n.update(L,t.ELEMENT_ARRAY_BUFFER),(k||u)&&(u=!1,N(I,V,j,X),L!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(L).buffer))}function d(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function h(I){return r.isWebGL2?t.bindVertexArray(I):s.bindVertexArrayOES(I)}function p(I){return r.isWebGL2?t.deleteVertexArray(I):s.deleteVertexArrayOES(I)}function v(I,V,j){const X=j.wireframe===!0;let L=a[I.id];L===void 0&&(L={},a[I.id]=L);let k=L[V.id];k===void 0&&(k={},L[V.id]=k);let z=k[X];return z===void 0&&(z=y(d()),k[X]=z),z}function y(I){const V=[],j=[],X=[];for(let L=0;L<i;L++)V[L]=0,j[L]=0,X[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:j,attributeDivisors:X,object:I,attributes:{},index:null}}function g(I,V,j,X){const L=c.attributes,k=V.attributes;let z=0;const B=j.getAttributes();for(const G in B)if(B[G].location>=0){const Z=L[G];let Q=k[G];if(Q===void 0&&(G==="instanceMatrix"&&I.instanceMatrix&&(Q=I.instanceMatrix),G==="instanceColor"&&I.instanceColor&&(Q=I.instanceColor)),Z===void 0||Z.attribute!==Q||Q&&Z.data!==Q.data)return!0;z++}return c.attributesNum!==z||c.index!==X}function _(I,V,j,X){const L={},k=V.attributes;let z=0;const B=j.getAttributes();for(const G in B)if(B[G].location>=0){let Z=k[G];Z===void 0&&(G==="instanceMatrix"&&I.instanceMatrix&&(Z=I.instanceMatrix),G==="instanceColor"&&I.instanceColor&&(Z=I.instanceColor));const Q={};Q.attribute=Z,Z&&Z.data&&(Q.data=Z.data),L[G]=Q,z++}c.attributes=L,c.attributesNum=z,c.index=X}function w(){const I=c.newAttributes;for(let V=0,j=I.length;V<j;V++)I[V]=0}function b(I){M(I,0)}function M(I,V){const j=c.newAttributes,X=c.enabledAttributes,L=c.attributeDivisors;j[I]=1,X[I]===0&&(t.enableVertexAttribArray(I),X[I]=1),L[I]!==V&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,V),L[I]=V)}function A(){const I=c.newAttributes,V=c.enabledAttributes;for(let j=0,X=V.length;j<X;j++)V[j]!==I[j]&&(t.disableVertexAttribArray(j),V[j]=0)}function C(I,V,j,X,L,k,z){z===!0?t.vertexAttribIPointer(I,V,j,L,k):t.vertexAttribPointer(I,V,j,X,L,k)}function N(I,V,j,X){if(r.isWebGL2===!1&&(I.isInstancedMesh||X.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const L=X.attributes,k=j.getAttributes(),z=V.defaultAttributeValues;for(const B in k){const G=k[B];if(G.location>=0){let Y=L[B];if(Y===void 0&&(B==="instanceMatrix"&&I.instanceMatrix&&(Y=I.instanceMatrix),B==="instanceColor"&&I.instanceColor&&(Y=I.instanceColor)),Y!==void 0){const Z=Y.normalized,Q=Y.itemSize,re=n.get(Y);if(re===void 0)continue;const J=re.buffer,ae=re.type,se=re.bytesPerElement,fe=r.isWebGL2===!0&&(ae===t.INT||ae===t.UNSIGNED_INT||Y.gpuType===yO);if(Y.isInterleavedBufferAttribute){const ue=Y.data,H=ue.stride,he=Y.offset;if(ue.isInstancedInterleavedBuffer){for(let le=0;le<G.locationSize;le++)M(G.location+le,ue.meshPerAttribute);I.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let le=0;le<G.locationSize;le++)b(G.location+le);t.bindBuffer(t.ARRAY_BUFFER,J);for(let le=0;le<G.locationSize;le++)C(G.location+le,Q/G.locationSize,ae,Z,H*se,(he+Q/G.locationSize*le)*se,fe)}else{if(Y.isInstancedBufferAttribute){for(let ue=0;ue<G.locationSize;ue++)M(G.location+ue,Y.meshPerAttribute);I.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let ue=0;ue<G.locationSize;ue++)b(G.location+ue);t.bindBuffer(t.ARRAY_BUFFER,J);for(let ue=0;ue<G.locationSize;ue++)C(G.location+ue,Q/G.locationSize,ae,Z,Q*se,Q/G.locationSize*ue*se,fe)}}else if(z!==void 0){const Z=z[B];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(G.location,Z);break;case 3:t.vertexAttrib3fv(G.location,Z);break;case 4:t.vertexAttrib4fv(G.location,Z);break;default:t.vertexAttrib1fv(G.location,Z)}}}}A()}function R(){U();for(const I in a){const V=a[I];for(const j in V){const X=V[j];for(const L in X)p(X[L].object),delete X[L];delete V[j]}delete a[I]}}function D(I){if(a[I.id]===void 0)return;const V=a[I.id];for(const j in V){const X=V[j];for(const L in X)p(X[L].object),delete X[L];delete V[j]}delete a[I.id]}function F(I){for(const V in a){const j=a[V];if(j[I.id]===void 0)continue;const X=j[I.id];for(const L in X)p(X[L].object),delete X[L];delete j[I.id]}}function U(){$(),u=!0,c!==l&&(c=l,h(c.object))}function $(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:U,resetDefaultState:$,dispose:R,releaseStatesOfGeometry:D,releaseStatesOfProgram:F,initAttributes:w,enableAttribute:b,disableUnusedAttributes:A}}function iIe(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){t.drawArrays(s,u,f),n.update(f,s,1)}function l(u,f,d){if(d===0)return;let h,p;if(i)h=t,p="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](s,u,f,d),n.update(f,s,d)}function c(u,f,d){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<d;p++)this.render(u[p],f[p]);else{h.multiDrawArraysWEBGL(s,u,0,f,0,d);let p=0;for(let v=0;v<d;v++)p+=f[v];n.update(p,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function sIe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(C){if(C==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=d>0,b=o||e.has("OES_texture_float"),M=w&&b,A=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:p,maxAttributes:v,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:b,floatVertexTextures:M,maxSamples:A}}function oIe(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new dl,a=new Ut,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,h){const p=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,g=t.get(f);if(!i||p===null||p.length===0||s&&!y)s?u(null):c();else{const _=s?0:r,w=_*4;let b=g.clippingState||null;l.value=b,b=u(p,d,w,h);for(let M=0;M!==w;++M)b[M]=n[M];g.clippingState=b,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,h,p){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,p!==!0||y===null){const g=h+v*4,_=d.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<g)&&(y=new Float32Array(g));for(let w=0,b=h;w!==v;++w,b+=4)o.copy(f[w]).applyMatrix4(_,a),o.normal.toArray(y,b),y[b+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function aIe(t){let e=new WeakMap;function n(o,a){return a===l0?o.mapping=Vl:a===c0&&(o.mapping=gu),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===l0||a===c0)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new xQ(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class su extends py{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Zh=4,cj=[.125,.215,.35,.446,.526,.582],gf=20,YA=new su,uj=new it;let KA=null,qA=0,ZA=0;const pf=(1+Math.sqrt(5))/2,gh=1/pf,fj=[new te(1,1,1),new te(-1,1,1),new te(1,1,-1),new te(-1,1,-1),new te(0,pf,gh),new te(0,pf,-gh),new te(gh,0,pf),new te(-gh,0,pf),new te(pf,gh,0),new te(-pf,gh,0)];class XR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){KA=this._renderer.getRenderTarget(),qA=this._renderer.getActiveCubeFace(),ZA=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=pj(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hj(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(KA,qA,ZA),e.scissorTest=!1,C1(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Vl||e.mapping===gu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),KA=this._renderer.getRenderTarget(),qA=this._renderer.getActiveCubeFace(),ZA=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Un,minFilter:Un,generateMipmaps:!1,type:Xp,format:Gi,colorSpace:Ba,depthBuffer:!1},i=dj(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=dj(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=lIe(s)),this._blurMaterial=cIe(s,e,n)}return i}_compileMaterial(e){const n=new Jn(this._lodPlanes[0],e);this._renderer.compile(n,YA)}_sceneToCubeUV(e,n,r,i){const a=new fr(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(uj),u.toneMapping=La,u.autoClear=!1;const h=new Ql({name:"PMREM.Background",side:Ki,depthWrite:!1,depthTest:!1}),p=new Jn(new Id,h);let v=!1;const y=e.background;y?y.isColor&&(h.color.copy(y),e.background=null,v=!0):(h.color.copy(uj),v=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):_===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const w=this._cubeSize;C1(i,_*w,g>2?w:0,w,w),u.setRenderTarget(i),v&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Vl||e.mapping===gu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=pj()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hj());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Jn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;C1(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,YA)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=fj[(i-1)%fj.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Jn(this._lodPlanes[i],c),d=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*gf-1),v=s/p,y=isFinite(s)?1+Math.floor(u*v):gf;y>gf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${gf}`);const g=[];let _=0;for(let C=0;C<gf;++C){const N=C/v,R=Math.exp(-N*N/2);g.push(R),C===0?_+=R:C<y&&(_+=2*R)}for(let C=0;C<g.length;C++)g[C]=g[C]/_;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=g,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:w}=this;d.dTheta.value=p,d.mipInt.value=w-r;const b=this._sizeLods[i],M=3*b*(i>w-Zh?i-w+Zh:0),A=4*(this._cubeSize-b);C1(n,M,A,3*b,2*b),l.setRenderTarget(n),l.render(f,YA)}}function lIe(t){const e=[],n=[],r=[];let i=t;const s=t-Zh+1+cj.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Zh?l=cj[o-t+Zh-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,p=6,v=3,y=2,g=1,_=new Float32Array(v*p*h),w=new Float32Array(y*p*h),b=new Float32Array(g*p*h);for(let A=0;A<h;A++){const C=A%3*2/3-1,N=A>2?0:-1,R=[C,N,0,C+2/3,N,0,C+2/3,N+1,0,C,N,0,C+2/3,N+1,0,C,N+1,0];_.set(R,v*p*A),w.set(d,y*p*A);const D=[A,A,A,A,A,A];b.set(D,g*p*A)}const M=new jt;M.setAttribute("position",new dn(_,v)),M.setAttribute("uv",new dn(w,y)),M.setAttribute("faceIndex",new dn(b,g)),e.push(M),i>Zh&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function dj(t,e,n){const r=new ra(t,e,n);return r.texture.mapping=Mm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function C1(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function cIe(t,e,n){const r=new Float32Array(gf),i=new te(0,1,0);return new ia({name:"SphericalGaussianBlur",defines:{n:gf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:OO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function hj(){return new ia({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:OO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function pj(){return new ia({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:OO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function OO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function uIe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===l0||l===c0,u=l===Vl||l===gu;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new XR(t)),f=c?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new XR(t));const d=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function fIe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function dIe(t,e,n,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const p in d.attributes)e.remove(d.attributes[p]);for(const p in d.morphAttributes){const v=d.morphAttributes[p];for(let y=0,g=v.length;y<g;y++)e.remove(v[y])}d.removeEventListener("dispose",o),delete i[d.id];const h=s.get(d);h&&(e.remove(h),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const p in d)e.update(d[p],t.ARRAY_BUFFER);const h=f.morphAttributes;for(const p in h){const v=h[p];for(let y=0,g=v.length;y<g;y++)e.update(v[y],t.ARRAY_BUFFER)}}function c(f){const d=[],h=f.index,p=f.attributes.position;let v=0;if(h!==null){const _=h.array;v=h.version;for(let w=0,b=_.length;w<b;w+=3){const M=_[w+0],A=_[w+1],C=_[w+2];d.push(M,A,A,C,C,M)}}else if(p!==void 0){const _=p.array;v=p.version;for(let w=0,b=_.length/3-1;w<b;w+=3){const M=w+0,A=w+1,C=w+2;d.push(M,A,A,C,C,M)}}else return;const y=new(hQ(d)?DO:IO)(d,1);y.version=v;const g=s.get(f);g&&e.remove(g),s.set(f,y)}function u(f){const d=s.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function hIe(t,e,n,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,p){t.drawElements(s,p,a,h*l),n.update(p,s,1)}function f(h,p,v){if(v===0)return;let y,g;if(i)y=t,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](s,p,a,h*l,v),n.update(p,s,v)}function d(h,p,v){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<v;g++)this.render(h[g]/l,p[g]);else{y.multiDrawElementsWEBGL(s,p,0,a,h,0,v);let g=0;for(let _=0;_<v;_++)g+=p[_];n.update(g,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=d}function pIe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function mIe(t,e){return t[0]-e[0]}function gIe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function vIe(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new on,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=p!==void 0?p.length:0;let y=s.get(u);if(y===void 0||y.count!==v){let V=function(){$.dispose(),s.delete(u),u.removeEventListener("dispose",V)};var h=V;y!==void 0&&y.texture.dispose();const w=u.morphAttributes.position!==void 0,b=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,A=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],N=u.morphAttributes.color||[];let R=0;w===!0&&(R=1),b===!0&&(R=2),M===!0&&(R=3);let D=u.attributes.position.count*R,F=1;D>e.maxTextureSize&&(F=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const U=new Float32Array(D*F*4*v),$=new EE(U,D,F,v);$.type=Xo,$.needsUpdate=!0;const I=R*4;for(let j=0;j<v;j++){const X=A[j],L=C[j],k=N[j],z=D*F*4*j;for(let B=0;B<X.count;B++){const G=B*I;w===!0&&(o.fromBufferAttribute(X,B),U[z+G+0]=o.x,U[z+G+1]=o.y,U[z+G+2]=o.z,U[z+G+3]=0),b===!0&&(o.fromBufferAttribute(L,B),U[z+G+4]=o.x,U[z+G+5]=o.y,U[z+G+6]=o.z,U[z+G+7]=0),M===!0&&(o.fromBufferAttribute(k,B),U[z+G+8]=o.x,U[z+G+9]=o.y,U[z+G+10]=o.z,U[z+G+11]=k.itemSize===4?o.w:1)}}y={count:v,texture:$,size:new Fe(D,F)},s.set(u,y),u.addEventListener("dispose",V)}let g=0;for(let w=0;w<d.length;w++)g+=d[w];const _=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const p=d===void 0?0:d.length;let v=r[u.id];if(v===void 0||v.length!==p){v=[];for(let b=0;b<p;b++)v[b]=[b,0];r[u.id]=v}for(let b=0;b<p;b++){const M=v[b];M[0]=b,M[1]=d[b]}v.sort(gIe);for(let b=0;b<8;b++)b<p&&v[b][1]?(a[b][0]=v[b][0],a[b][1]=v[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(mIe);const y=u.morphAttributes.position,g=u.morphAttributes.normal;let _=0;for(let b=0;b<8;b++){const M=a[b],A=M[0],C=M[1];A!==Number.MAX_SAFE_INTEGER&&C?(y&&u.getAttribute("morphTarget"+b)!==y[A]&&u.setAttribute("morphTarget"+b,y[A]),g&&u.getAttribute("morphNormal"+b)!==g[A]&&u.setAttribute("morphNormal"+b,g[A]),i[b]=C,_+=C):(y&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),g&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),i[b]=0)}const w=u.morphTargetsRelative?1:1-_;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function yIe(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class kO extends er{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:ru,u!==ru&&u!==fd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===ru&&(r=xl),r===void 0&&u===fd&&(r=nu),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:cr,this.minFilter=l!==void 0?l:cr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const _Q=new er,bQ=new kO(1,1);bQ.compareFunction=CO;const SQ=new EE,EQ=new NO,MQ=new my,mj=[],gj=[],vj=new Float32Array(16),yj=new Float32Array(9),xj=new Float32Array(4);function Tm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=mj[i];if(s===void 0&&(s=new Float32Array(i),mj[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Nr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ir(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function ME(t,e){let n=gj[e];n===void 0&&(n=new Int32Array(e),gj[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function xIe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function wIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2fv(this.addr,e),Ir(n,e)}}function _Ie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Nr(n,e))return;t.uniform3fv(this.addr,e),Ir(n,e)}}function bIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4fv(this.addr,e),Ir(n,e)}}function SIe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ir(n,e)}else{if(Nr(n,r))return;xj.set(r),t.uniformMatrix2fv(this.addr,!1,xj),Ir(n,r)}}function EIe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ir(n,e)}else{if(Nr(n,r))return;yj.set(r),t.uniformMatrix3fv(this.addr,!1,yj),Ir(n,r)}}function MIe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ir(n,e)}else{if(Nr(n,r))return;vj.set(r),t.uniformMatrix4fv(this.addr,!1,vj),Ir(n,r)}}function TIe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function AIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2iv(this.addr,e),Ir(n,e)}}function CIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Nr(n,e))return;t.uniform3iv(this.addr,e),Ir(n,e)}}function PIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4iv(this.addr,e),Ir(n,e)}}function RIe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function NIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2uiv(this.addr,e),Ir(n,e)}}function IIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Nr(n,e))return;t.uniform3uiv(this.addr,e),Ir(n,e)}}function DIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4uiv(this.addr,e),Ir(n,e)}}function LIe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?bQ:_Q;n.setTexture2D(e||s,i)}function OIe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||EQ,i)}function kIe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||MQ,i)}function UIe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||SQ,i)}function FIe(t){switch(t){case 5126:return xIe;case 35664:return wIe;case 35665:return _Ie;case 35666:return bIe;case 35674:return SIe;case 35675:return EIe;case 35676:return MIe;case 5124:case 35670:return TIe;case 35667:case 35671:return AIe;case 35668:case 35672:return CIe;case 35669:case 35673:return PIe;case 5125:return RIe;case 36294:return NIe;case 36295:return IIe;case 36296:return DIe;case 35678:case 36198:case 36298:case 36306:case 35682:return LIe;case 35679:case 36299:case 36307:return OIe;case 35680:case 36300:case 36308:case 36293:return kIe;case 36289:case 36303:case 36311:case 36292:return UIe}}function BIe(t,e){t.uniform1fv(this.addr,e)}function zIe(t,e){const n=Tm(e,this.size,2);t.uniform2fv(this.addr,n)}function jIe(t,e){const n=Tm(e,this.size,3);t.uniform3fv(this.addr,n)}function VIe(t,e){const n=Tm(e,this.size,4);t.uniform4fv(this.addr,n)}function HIe(t,e){const n=Tm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function WIe(t,e){const n=Tm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function GIe(t,e){const n=Tm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function $Ie(t,e){t.uniform1iv(this.addr,e)}function XIe(t,e){t.uniform2iv(this.addr,e)}function YIe(t,e){t.uniform3iv(this.addr,e)}function KIe(t,e){t.uniform4iv(this.addr,e)}function qIe(t,e){t.uniform1uiv(this.addr,e)}function ZIe(t,e){t.uniform2uiv(this.addr,e)}function QIe(t,e){t.uniform3uiv(this.addr,e)}function JIe(t,e){t.uniform4uiv(this.addr,e)}function eDe(t,e,n){const r=this.cache,i=e.length,s=ME(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Ir(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||_Q,s[o])}function tDe(t,e,n){const r=this.cache,i=e.length,s=ME(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Ir(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||EQ,s[o])}function nDe(t,e,n){const r=this.cache,i=e.length,s=ME(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Ir(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||MQ,s[o])}function rDe(t,e,n){const r=this.cache,i=e.length,s=ME(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Ir(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||SQ,s[o])}function iDe(t){switch(t){case 5126:return BIe;case 35664:return zIe;case 35665:return jIe;case 35666:return VIe;case 35674:return HIe;case 35675:return WIe;case 35676:return GIe;case 5124:case 35670:return $Ie;case 35667:case 35671:return XIe;case 35668:case 35672:return YIe;case 35669:case 35673:return KIe;case 5125:return qIe;case 36294:return ZIe;case 36295:return QIe;case 36296:return JIe;case 35678:case 36198:case 36298:case 36306:case 35682:return eDe;case 35679:case 36299:case 36307:return tDe;case 35680:case 36300:case 36308:case 36293:return nDe;case 36289:case 36303:case 36311:case 36292:return rDe}}class sDe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=FIe(n.type)}}class oDe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=iDe(n.type)}}class aDe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const QA=/(\w+)(\])?(\[|\.)?/g;function wj(t,e){t.seq.push(e),t.map[e.id]=e}function lDe(t,e,n){const r=t.name,i=r.length;for(QA.lastIndex=0;;){const s=QA.exec(r),o=QA.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){wj(n,c===void 0?new sDe(a,t,e):new oDe(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new aDe(a),wj(n,f)),n=f}}}class Vw{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);lDe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function _j(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const cDe=37297;let uDe=0;function fDe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function dDe(t){const e=cn.getPrimaries(cn.workingColorSpace),n=cn.getPrimaries(t);let r;switch(e===n?r="":e===v0&&n===g0?r="LinearDisplayP3ToLinearSRGB":e===g0&&n===v0&&(r="LinearSRGBToLinearDisplayP3"),t){case Ba:case dy:return[r,"LinearTransferOETF"];case Pr:case SE:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function bj(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+fDe(t.getShaderSource(e),o)}else return i}function hDe(t,e){const n=dDe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function pDe(t,e){let n;switch(e){case jZ:n="Linear";break;case VZ:n="Reinhard";break;case HZ:n="OptimizedCineon";break;case gO:n="ACESFilmic";break;case GZ:n="AgX";break;case WZ:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function mDe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Qh).join(`
`)}function gDe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Qh).join(`
`)}function vDe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function yDe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Qh(t){return t!==""}function Sj(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ej(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const xDe=/^[ \t]*#include +<([\w\d./]+)>/gm;function YR(t){return t.replace(xDe,_De)}const wDe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function _De(t,e){let n=Lt[e];if(n===void 0){const r=wDe.get(e);if(r!==void 0)n=Lt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return YR(n)}const bDe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Mj(t){return t.replace(bDe,SDe)}function SDe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Tj(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function EDe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===xE?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===uv?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ko&&(e="SHADOWMAP_TYPE_VSM"),e}function MDe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Vl:case gu:e="ENVMAP_TYPE_CUBE";break;case Mm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function TDe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case gu:e="ENVMAP_MODE_REFRACTION";break}return e}function ADe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case fy:e="ENVMAP_BLENDING_MULTIPLY";break;case BZ:e="ENVMAP_BLENDING_MIX";break;case zZ:e="ENVMAP_BLENDING_ADD";break}return e}function CDe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function PDe(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=EDe(n),c=MDe(n),u=TDe(n),f=ADe(n),d=CDe(n),h=n.isWebGL2?"":mDe(n),p=gDe(n),v=vDe(s),y=i.createProgram();let g,_,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Qh).join(`
`),g.length>0&&(g+=`
`),_=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Qh).join(`
`),_.length>0&&(_+=`
`)):(g=[Tj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qh).join(`
`),_=[h,Tj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==La?"#define TONE_MAPPING":"",n.toneMapping!==La?Lt.tonemapping_pars_fragment:"",n.toneMapping!==La?pDe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Lt.colorspace_pars_fragment,hDe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Qh).join(`
`)),o=YR(o),o=Sj(o,n),o=Ej(o,n),a=YR(a),a=Sj(a,n),a=Ej(a,n),o=Mj(o),a=Mj(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,g=[p,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,_=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===GR?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===GR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const b=w+g+o,M=w+_+a,A=_j(i,i.VERTEX_SHADER,b),C=_j(i,i.FRAGMENT_SHADER,M);i.attachShader(y,A),i.attachShader(y,C),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function N(U){if(t.debug.checkShaderErrors){const $=i.getProgramInfoLog(y).trim(),I=i.getShaderInfoLog(A).trim(),V=i.getShaderInfoLog(C).trim();let j=!0,X=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(j=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,A,C);else{const L=bj(i,A,"vertex"),k=bj(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+$+`
`+L+`
`+k)}else $!==""?console.warn("THREE.WebGLProgram: Program Info Log:",$):(I===""||V==="")&&(X=!1);X&&(U.diagnostics={runnable:j,programLog:$,vertexShader:{log:I,prefix:g},fragmentShader:{log:V,prefix:_}})}i.deleteShader(A),i.deleteShader(C),R=new Vw(i,y),D=yDe(i,y)}let R;this.getUniforms=function(){return R===void 0&&N(this),R};let D;this.getAttributes=function(){return D===void 0&&N(this),D};let F=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return F===!1&&(F=i.getProgramParameter(y,cDe)),F},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=uDe++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=A,this.fragmentShader=C,this}let RDe=0;class NDe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new IDe(e),n.set(e,r)),r}}class IDe{constructor(e){this.id=RDe++,this.code=e,this.usedTimes=0}}function DDe(t,e,n,r,i,s,o){const a=new Wf,l=new NDe,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(R){return R===0?"uv":`uv${R}`}function y(R,D,F,U,$){const I=U.fog,V=$.geometry,j=R.isMeshStandardMaterial?U.environment:null,X=(R.isMeshStandardMaterial?n:e).get(R.envMap||j),L=X&&X.mapping===Mm?X.image.height:null,k=p[R.type];R.precision!==null&&(h=i.getMaxPrecision(R.precision),h!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",h,"instead."));const z=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,B=z!==void 0?z.length:0;let G=0;V.morphAttributes.position!==void 0&&(G=1),V.morphAttributes.normal!==void 0&&(G=2),V.morphAttributes.color!==void 0&&(G=3);let Y,Z,Q,re;if(k){const Dt=Vo[k];Y=Dt.vertexShader,Z=Dt.fragmentShader}else Y=R.vertexShader,Z=R.fragmentShader,l.update(R),Q=l.getVertexShaderID(R),re=l.getFragmentShaderID(R);const J=t.getRenderTarget(),ae=$.isInstancedMesh===!0,se=$.isBatchedMesh===!0,fe=!!R.map,ue=!!R.matcap,H=!!X,he=!!R.aoMap,le=!!R.lightMap,me=!!R.bumpMap,de=!!R.normalMap,ke=!!R.displacementMap,_e=!!R.emissiveMap,q=!!R.metalnessMap,K=!!R.roughnessMap,ne=R.anisotropy>0,be=R.clearcoat>0,pe=R.iridescence>0,ve=R.sheen>0,Re=R.transmission>0,Be=ne&&!!R.anisotropyMap,Te=be&&!!R.clearcoatMap,je=be&&!!R.clearcoatNormalMap,$e=be&&!!R.clearcoatRoughnessMap,Ae=pe&&!!R.iridescenceMap,st=pe&&!!R.iridescenceThicknessMap,tt=ve&&!!R.sheenColorMap,Xe=ve&&!!R.sheenRoughnessMap,Ge=!!R.specularMap,Ie=!!R.specularColorMap,oe=!!R.specularIntensityMap,Ce=Re&&!!R.transmissionMap,De=Re&&!!R.thicknessMap,Ue=!!R.gradientMap,xe=!!R.alphaMap,ce=R.alphaTest>0,We=!!R.alphaHash,ze=!!R.extensions,Ye=!!V.attributes.uv1,Ze=!!V.attributes.uv2,ut=!!V.attributes.uv3;let et=La;return R.toneMapped&&(J===null||J.isXRRenderTarget===!0)&&(et=t.toneMapping),{isWebGL2:u,shaderID:k,shaderType:R.type,shaderName:R.name,vertexShader:Y,fragmentShader:Z,defines:R.defines,customVertexShaderID:Q,customFragmentShaderID:re,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:h,batching:se,instancing:ae,instancingColor:ae&&$.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:J===null?t.outputColorSpace:J.isXRRenderTarget===!0?J.texture.colorSpace:Ba,map:fe,matcap:ue,envMap:H,envMapMode:H&&X.mapping,envMapCubeUVHeight:L,aoMap:he,lightMap:le,bumpMap:me,normalMap:de,displacementMap:d&&ke,emissiveMap:_e,normalMapObjectSpace:de&&R.normalMapType===sQ,normalMapTangentSpace:de&&R.normalMapType===Au,metalnessMap:q,roughnessMap:K,anisotropy:ne,anisotropyMap:Be,clearcoat:be,clearcoatMap:Te,clearcoatNormalMap:je,clearcoatRoughnessMap:$e,iridescence:pe,iridescenceMap:Ae,iridescenceThicknessMap:st,sheen:ve,sheenColorMap:tt,sheenRoughnessMap:Xe,specularMap:Ge,specularColorMap:Ie,specularIntensityMap:oe,transmission:Re,transmissionMap:Ce,thicknessMap:De,gradientMap:Ue,opaque:R.transparent===!1&&R.blending===Vf,alphaMap:xe,alphaTest:ce,alphaHash:We,combine:R.combine,mapUv:fe&&v(R.map.channel),aoMapUv:he&&v(R.aoMap.channel),lightMapUv:le&&v(R.lightMap.channel),bumpMapUv:me&&v(R.bumpMap.channel),normalMapUv:de&&v(R.normalMap.channel),displacementMapUv:ke&&v(R.displacementMap.channel),emissiveMapUv:_e&&v(R.emissiveMap.channel),metalnessMapUv:q&&v(R.metalnessMap.channel),roughnessMapUv:K&&v(R.roughnessMap.channel),anisotropyMapUv:Be&&v(R.anisotropyMap.channel),clearcoatMapUv:Te&&v(R.clearcoatMap.channel),clearcoatNormalMapUv:je&&v(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$e&&v(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Ae&&v(R.iridescenceMap.channel),iridescenceThicknessMapUv:st&&v(R.iridescenceThicknessMap.channel),sheenColorMapUv:tt&&v(R.sheenColorMap.channel),sheenRoughnessMapUv:Xe&&v(R.sheenRoughnessMap.channel),specularMapUv:Ge&&v(R.specularMap.channel),specularColorMapUv:Ie&&v(R.specularColorMap.channel),specularIntensityMapUv:oe&&v(R.specularIntensityMap.channel),transmissionMapUv:Ce&&v(R.transmissionMap.channel),thicknessMapUv:De&&v(R.thicknessMap.channel),alphaMapUv:xe&&v(R.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(de||ne),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,vertexUv1s:Ye,vertexUv2s:Ze,vertexUv3s:ut,pointsUvs:$.isPoints===!0&&!!V.attributes.uv&&(fe||xe),fog:!!I,useFog:R.fog===!0,fogExp2:I&&I.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:$.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:B,morphTextureStride:G,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:et,useLegacyLights:t._useLegacyLights,decodeVideoTexture:fe&&R.map.isVideoTexture===!0&&cn.getTransfer(R.map.colorSpace)===xn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===$o,flipSided:R.side===Ki,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:ze&&R.extensions.derivatives===!0,extensionFragDepth:ze&&R.extensions.fragDepth===!0,extensionDrawBuffers:ze&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:ze&&R.extensions.shaderTextureLOD===!0,extensionClipCullDistance:ze&&R.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()}}function g(R){const D=[];if(R.shaderID?D.push(R.shaderID):(D.push(R.customVertexShaderID),D.push(R.customFragmentShaderID)),R.defines!==void 0)for(const F in R.defines)D.push(F),D.push(R.defines[F]);return R.isRawShaderMaterial===!1&&(_(D,R),w(D,R),D.push(t.outputColorSpace)),D.push(R.customProgramCacheKey),D.join()}function _(R,D){R.push(D.precision),R.push(D.outputColorSpace),R.push(D.envMapMode),R.push(D.envMapCubeUVHeight),R.push(D.mapUv),R.push(D.alphaMapUv),R.push(D.lightMapUv),R.push(D.aoMapUv),R.push(D.bumpMapUv),R.push(D.normalMapUv),R.push(D.displacementMapUv),R.push(D.emissiveMapUv),R.push(D.metalnessMapUv),R.push(D.roughnessMapUv),R.push(D.anisotropyMapUv),R.push(D.clearcoatMapUv),R.push(D.clearcoatNormalMapUv),R.push(D.clearcoatRoughnessMapUv),R.push(D.iridescenceMapUv),R.push(D.iridescenceThicknessMapUv),R.push(D.sheenColorMapUv),R.push(D.sheenRoughnessMapUv),R.push(D.specularMapUv),R.push(D.specularColorMapUv),R.push(D.specularIntensityMapUv),R.push(D.transmissionMapUv),R.push(D.thicknessMapUv),R.push(D.combine),R.push(D.fogExp2),R.push(D.sizeAttenuation),R.push(D.morphTargetsCount),R.push(D.morphAttributeCount),R.push(D.numDirLights),R.push(D.numPointLights),R.push(D.numSpotLights),R.push(D.numSpotLightMaps),R.push(D.numHemiLights),R.push(D.numRectAreaLights),R.push(D.numDirLightShadows),R.push(D.numPointLightShadows),R.push(D.numSpotLightShadows),R.push(D.numSpotLightShadowsWithMaps),R.push(D.numLightProbes),R.push(D.shadowMapType),R.push(D.toneMapping),R.push(D.numClippingPlanes),R.push(D.numClipIntersection),R.push(D.depthPacking)}function w(R,D){a.disableAll(),D.isWebGL2&&a.enable(0),D.supportsVertexTextures&&a.enable(1),D.instancing&&a.enable(2),D.instancingColor&&a.enable(3),D.matcap&&a.enable(4),D.envMap&&a.enable(5),D.normalMapObjectSpace&&a.enable(6),D.normalMapTangentSpace&&a.enable(7),D.clearcoat&&a.enable(8),D.iridescence&&a.enable(9),D.alphaTest&&a.enable(10),D.vertexColors&&a.enable(11),D.vertexAlphas&&a.enable(12),D.vertexUv1s&&a.enable(13),D.vertexUv2s&&a.enable(14),D.vertexUv3s&&a.enable(15),D.vertexTangents&&a.enable(16),D.anisotropy&&a.enable(17),D.alphaHash&&a.enable(18),D.batching&&a.enable(19),R.push(a.mask),a.disableAll(),D.fog&&a.enable(0),D.useFog&&a.enable(1),D.flatShading&&a.enable(2),D.logarithmicDepthBuffer&&a.enable(3),D.skinning&&a.enable(4),D.morphTargets&&a.enable(5),D.morphNormals&&a.enable(6),D.morphColors&&a.enable(7),D.premultipliedAlpha&&a.enable(8),D.shadowMapEnabled&&a.enable(9),D.useLegacyLights&&a.enable(10),D.doubleSided&&a.enable(11),D.flipSided&&a.enable(12),D.useDepthPacking&&a.enable(13),D.dithering&&a.enable(14),D.transmission&&a.enable(15),D.sheen&&a.enable(16),D.opaque&&a.enable(17),D.pointsUvs&&a.enable(18),D.decodeVideoTexture&&a.enable(19),R.push(a.mask)}function b(R){const D=p[R.type];let F;if(D){const U=Vo[D];F=LO.clone(U.uniforms)}else F=R.uniforms;return F}function M(R,D){let F;for(let U=0,$=c.length;U<$;U++){const I=c[U];if(I.cacheKey===D){F=I,++F.usedTimes;break}}return F===void 0&&(F=new PDe(t,D,R,s),c.push(F)),F}function A(R){if(--R.usedTimes===0){const D=c.indexOf(R);c[D]=c[c.length-1],c.pop(),R.destroy()}}function C(R){l.remove(R)}function N(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:b,acquireProgram:M,releaseProgram:A,releaseShaderCache:C,programs:c,dispose:N}}function LDe(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function ODe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Aj(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Cj(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,d,h,p,v,y){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:d,material:h,groupOrder:p,renderOrder:f.renderOrder,z:v,group:y},t[e]=g):(g.id=f.id,g.object=f,g.geometry=d,g.material=h,g.groupOrder=p,g.renderOrder=f.renderOrder,g.z=v,g.group=y),e++,g}function a(f,d,h,p,v,y){const g=o(f,d,h,p,v,y);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):n.push(g)}function l(f,d,h,p,v,y){const g=o(f,d,h,p,v,y);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):n.unshift(g)}function c(f,d){n.length>1&&n.sort(f||ODe),r.length>1&&r.sort(d||Aj),i.length>1&&i.sort(d||Aj)}function u(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function kDe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new Cj,t.set(r,[o])):i>=s.length?(o=new Cj,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function UDe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new te,color:new it};break;case"SpotLight":n={position:new te,direction:new te,color:new it,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new te,color:new it,distance:0,decay:0};break;case"HemisphereLight":n={direction:new te,skyColor:new it,groundColor:new it};break;case"RectAreaLight":n={color:new it,position:new te,halfWidth:new te,halfHeight:new te};break}return t[e.id]=n,n}}}function FDe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let BDe=0;function zDe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function jDe(t,e){const n=new UDe,r=FDe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new te);const s=new te,o=new Ct,a=new Ct;function l(u,f){let d=0,h=0,p=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let v=0,y=0,g=0,_=0,w=0,b=0,M=0,A=0,C=0,N=0,R=0;u.sort(zDe);const D=f===!0?Math.PI:1;for(let U=0,$=u.length;U<$;U++){const I=u[U],V=I.color,j=I.intensity,X=I.distance,L=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)d+=V.r*j*D,h+=V.g*j*D,p+=V.b*j*D;else if(I.isLightProbe){for(let k=0;k<9;k++)i.probe[k].addScaledVector(I.sh.coefficients[k],j);R++}else if(I.isDirectionalLight){const k=n.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity*D),I.castShadow){const z=I.shadow,B=r.get(I);B.shadowBias=z.bias,B.shadowNormalBias=z.normalBias,B.shadowRadius=z.radius,B.shadowMapSize=z.mapSize,i.directionalShadow[v]=B,i.directionalShadowMap[v]=L,i.directionalShadowMatrix[v]=I.shadow.matrix,b++}i.directional[v]=k,v++}else if(I.isSpotLight){const k=n.get(I);k.position.setFromMatrixPosition(I.matrixWorld),k.color.copy(V).multiplyScalar(j*D),k.distance=X,k.coneCos=Math.cos(I.angle),k.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),k.decay=I.decay,i.spot[g]=k;const z=I.shadow;if(I.map&&(i.spotLightMap[C]=I.map,C++,z.updateMatrices(I),I.castShadow&&N++),i.spotLightMatrix[g]=z.matrix,I.castShadow){const B=r.get(I);B.shadowBias=z.bias,B.shadowNormalBias=z.normalBias,B.shadowRadius=z.radius,B.shadowMapSize=z.mapSize,i.spotShadow[g]=B,i.spotShadowMap[g]=L,A++}g++}else if(I.isRectAreaLight){const k=n.get(I);k.color.copy(V).multiplyScalar(j),k.halfWidth.set(I.width*.5,0,0),k.halfHeight.set(0,I.height*.5,0),i.rectArea[_]=k,_++}else if(I.isPointLight){const k=n.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity*D),k.distance=I.distance,k.decay=I.decay,I.castShadow){const z=I.shadow,B=r.get(I);B.shadowBias=z.bias,B.shadowNormalBias=z.normalBias,B.shadowRadius=z.radius,B.shadowMapSize=z.mapSize,B.shadowCameraNear=z.camera.near,B.shadowCameraFar=z.camera.far,i.pointShadow[y]=B,i.pointShadowMap[y]=L,i.pointShadowMatrix[y]=I.shadow.matrix,M++}i.point[y]=k,y++}else if(I.isHemisphereLight){const k=n.get(I);k.skyColor.copy(I.color).multiplyScalar(j*D),k.groundColor.copy(I.groundColor).multiplyScalar(j*D),i.hemi[w]=k,w++}}_>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_FLOAT_1,i.rectAreaLTC2=Je.LTC_FLOAT_2):(i.rectAreaLTC1=Je.LTC_HALF_1,i.rectAreaLTC2=Je.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_FLOAT_1,i.rectAreaLTC2=Je.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_HALF_1,i.rectAreaLTC2=Je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=p;const F=i.hash;(F.directionalLength!==v||F.pointLength!==y||F.spotLength!==g||F.rectAreaLength!==_||F.hemiLength!==w||F.numDirectionalShadows!==b||F.numPointShadows!==M||F.numSpotShadows!==A||F.numSpotMaps!==C||F.numLightProbes!==R)&&(i.directional.length=v,i.spot.length=g,i.rectArea.length=_,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=A+C-N,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=R,F.directionalLength=v,F.pointLength=y,F.spotLength=g,F.rectAreaLength=_,F.hemiLength=w,F.numDirectionalShadows=b,F.numPointShadows=M,F.numSpotShadows=A,F.numSpotMaps=C,F.numLightProbes=R,i.version=BDe++)}function c(u,f){let d=0,h=0,p=0,v=0,y=0;const g=f.matrixWorldInverse;for(let _=0,w=u.length;_<w;_++){const b=u[_];if(b.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(g),d++}else if(b.isSpotLight){const M=i.spot[p];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),M.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(g),p++}else if(b.isRectAreaLight){const M=i.rectArea[v];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),a.identity(),o.copy(b.matrixWorld),o.premultiply(g),a.extractRotation(o),M.halfWidth.set(b.width*.5,0,0),M.halfHeight.set(0,b.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),v++}else if(b.isPointLight){const M=i.point[h];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),h++}else if(b.isHemisphereLight){const M=i.hemi[y];M.direction.setFromMatrixPosition(b.matrixWorld),M.direction.transformDirection(g),y++}}}return{setup:l,setupView:c,state:i}}function Pj(t,e){const n=new jDe(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function VDe(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new Pj(t,e),n.set(s,[l])):o>=a.length?(l=new Pj(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class TE extends Ii{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=iQ,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AE extends Ii{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const HDe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,WDe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function GDe(t,e,n){let r=new gy;const i=new Fe,s=new Fe,o=new on,a=new TE({depthPacking:AO}),l=new AE,c={},u=n.maxTextureSize,f={[jl]:Ki,[Ki]:jl,[$o]:$o},d=new ia({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fe},radius:{value:4}},vertexShader:HDe,fragmentShader:WDe}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const p=new jt;p.setAttribute("position",new dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Jn(p,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xE;let g=this.type;this.render=function(A,C,N){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const R=t.getRenderTarget(),D=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),U=t.state;U.setBlending(Al),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const $=g!==ko&&this.type===ko,I=g===ko&&this.type!==ko;for(let V=0,j=A.length;V<j;V++){const X=A[V],L=X.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;i.copy(L.mapSize);const k=L.getFrameExtents();if(i.multiply(k),s.copy(L.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/k.x),i.x=s.x*k.x,L.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/k.y),i.y=s.y*k.y,L.mapSize.y=s.y)),L.map===null||$===!0||I===!0){const B=this.type!==ko?{minFilter:cr,magFilter:cr}:{};L.map!==null&&L.map.dispose(),L.map=new ra(i.x,i.y,B),L.map.texture.name=X.name+".shadowMap",L.camera.updateProjectionMatrix()}t.setRenderTarget(L.map),t.clear();const z=L.getViewportCount();for(let B=0;B<z;B++){const G=L.getViewport(B);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),U.viewport(o),L.updateMatrices(X,B),r=L.getFrustum(),b(C,N,L.camera,X,this.type)}L.isPointLightShadow!==!0&&this.type===ko&&_(L,N),L.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(R,D,F)};function _(A,C){const N=e.update(v);d.defines.VSM_SAMPLES!==A.blurSamples&&(d.defines.VSM_SAMPLES=A.blurSamples,h.defines.VSM_SAMPLES=A.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new ra(i.x,i.y)),d.uniforms.shadow_pass.value=A.map.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(C,null,N,d,v,null),h.uniforms.shadow_pass.value=A.mapPass.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(C,null,N,h,v,null)}function w(A,C,N,R){let D=null;const F=N.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(F!==void 0)D=F;else if(D=N.isPointLight===!0?l:a,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const U=D.uuid,$=C.uuid;let I=c[U];I===void 0&&(I={},c[U]=I);let V=I[$];V===void 0&&(V=D.clone(),I[$]=V,C.addEventListener("dispose",M)),D=V}if(D.visible=C.visible,D.wireframe=C.wireframe,R===ko?D.side=C.shadowSide!==null?C.shadowSide:C.side:D.side=C.shadowSide!==null?C.shadowSide:f[C.side],D.alphaMap=C.alphaMap,D.alphaTest=C.alphaTest,D.map=C.map,D.clipShadows=C.clipShadows,D.clippingPlanes=C.clippingPlanes,D.clipIntersection=C.clipIntersection,D.displacementMap=C.displacementMap,D.displacementScale=C.displacementScale,D.displacementBias=C.displacementBias,D.wireframeLinewidth=C.wireframeLinewidth,D.linewidth=C.linewidth,N.isPointLight===!0&&D.isMeshDistanceMaterial===!0){const U=t.properties.get(D);U.light=N}return D}function b(A,C,N,R,D){if(A.visible===!1)return;if(A.layers.test(C.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&D===ko)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,A.matrixWorld);const $=e.update(A),I=A.material;if(Array.isArray(I)){const V=$.groups;for(let j=0,X=V.length;j<X;j++){const L=V[j],k=I[L.materialIndex];if(k&&k.visible){const z=w(A,k,R,D);A.onBeforeShadow(t,A,C,N,$,z,L),t.renderBufferDirect(N,null,$,z,A,L),A.onAfterShadow(t,A,C,N,$,z,L)}}}else if(I.visible){const V=w(A,I,R,D);A.onBeforeShadow(t,A,C,N,$,V,null),t.renderBufferDirect(N,null,$,V,A,null),A.onAfterShadow(t,A,C,N,$,V,null)}}const U=A.children;for(let $=0,I=U.length;$<I;$++)b(U[$],C,N,R,D)}function M(A){A.target.removeEventListener("dispose",M);for(const N in c){const R=c[N],D=A.target.uuid;D in R&&(R[D].dispose(),delete R[D])}}}function $De(t,e,n){const r=n.isWebGL2;function i(){let ce=!1;const We=new on;let ze=null;const Ye=new on(0,0,0,0);return{setMask:function(Ze){ze!==Ze&&!ce&&(t.colorMask(Ze,Ze,Ze,Ze),ze=Ze)},setLocked:function(Ze){ce=Ze},setClear:function(Ze,ut,et,xt,Dt){Dt===!0&&(Ze*=xt,ut*=xt,et*=xt),We.set(Ze,ut,et,xt),Ye.equals(We)===!1&&(t.clearColor(Ze,ut,et,xt),Ye.copy(We))},reset:function(){ce=!1,ze=null,Ye.set(-1,0,0,0)}}}function s(){let ce=!1,We=null,ze=null,Ye=null;return{setTest:function(Ze){Ze?se(t.DEPTH_TEST):fe(t.DEPTH_TEST)},setMask:function(Ze){We!==Ze&&!ce&&(t.depthMask(Ze),We=Ze)},setFunc:function(Ze){if(ze!==Ze){switch(Ze){case IZ:t.depthFunc(t.NEVER);break;case DZ:t.depthFunc(t.ALWAYS);break;case LZ:t.depthFunc(t.LESS);break;case a0:t.depthFunc(t.LEQUAL);break;case OZ:t.depthFunc(t.EQUAL);break;case kZ:t.depthFunc(t.GEQUAL);break;case UZ:t.depthFunc(t.GREATER);break;case FZ:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ze=Ze}},setLocked:function(Ze){ce=Ze},setClear:function(Ze){Ye!==Ze&&(t.clearDepth(Ze),Ye=Ze)},reset:function(){ce=!1,We=null,ze=null,Ye=null}}}function o(){let ce=!1,We=null,ze=null,Ye=null,Ze=null,ut=null,et=null,xt=null,Dt=null;return{setTest:function(bt){ce||(bt?se(t.STENCIL_TEST):fe(t.STENCIL_TEST))},setMask:function(bt){We!==bt&&!ce&&(t.stencilMask(bt),We=bt)},setFunc:function(bt,Vt,vn){(ze!==bt||Ye!==Vt||Ze!==vn)&&(t.stencilFunc(bt,Vt,vn),ze=bt,Ye=Vt,Ze=vn)},setOp:function(bt,Vt,vn){(ut!==bt||et!==Vt||xt!==vn)&&(t.stencilOp(bt,Vt,vn),ut=bt,et=Vt,xt=vn)},setLocked:function(bt){ce=bt},setClear:function(bt){Dt!==bt&&(t.clearStencil(bt),Dt=bt)},reset:function(){ce=!1,We=null,ze=null,Ye=null,Ze=null,ut=null,et=null,xt=null,Dt=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let d={},h={},p=new WeakMap,v=[],y=null,g=!1,_=null,w=null,b=null,M=null,A=null,C=null,N=null,R=new it(0,0,0),D=0,F=!1,U=null,$=null,I=null,V=null,j=null;const X=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let L=!1,k=0;const z=t.getParameter(t.VERSION);z.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(z)[1]),L=k>=1):z.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),L=k>=2);let B=null,G={};const Y=t.getParameter(t.SCISSOR_BOX),Z=t.getParameter(t.VIEWPORT),Q=new on().fromArray(Y),re=new on().fromArray(Z);function J(ce,We,ze,Ye){const Ze=new Uint8Array(4),ut=t.createTexture();t.bindTexture(ce,ut),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let et=0;et<ze;et++)r&&(ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY)?t.texImage3D(We,0,t.RGBA,1,1,Ye,0,t.RGBA,t.UNSIGNED_BYTE,Ze):t.texImage2D(We+et,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ze);return ut}const ae={};ae[t.TEXTURE_2D]=J(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=J(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ae[t.TEXTURE_2D_ARRAY]=J(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=J(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),se(t.DEPTH_TEST),l.setFunc(a0),_e(!1),q(hR),se(t.CULL_FACE),de(Al);function se(ce){d[ce]!==!0&&(t.enable(ce),d[ce]=!0)}function fe(ce){d[ce]!==!1&&(t.disable(ce),d[ce]=!1)}function ue(ce,We){return h[ce]!==We?(t.bindFramebuffer(ce,We),h[ce]=We,r&&(ce===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=We),ce===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=We)),!0):!1}function H(ce,We){let ze=v,Ye=!1;if(ce)if(ze=p.get(We),ze===void 0&&(ze=[],p.set(We,ze)),ce.isWebGLMultipleRenderTargets){const Ze=ce.texture;if(ze.length!==Ze.length||ze[0]!==t.COLOR_ATTACHMENT0){for(let ut=0,et=Ze.length;ut<et;ut++)ze[ut]=t.COLOR_ATTACHMENT0+ut;ze.length=Ze.length,Ye=!0}}else ze[0]!==t.COLOR_ATTACHMENT0&&(ze[0]=t.COLOR_ATTACHMENT0,Ye=!0);else ze[0]!==t.BACK&&(ze[0]=t.BACK,Ye=!0);Ye&&(n.isWebGL2?t.drawBuffers(ze):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ze))}function he(ce){return y!==ce?(t.useProgram(ce),y=ce,!0):!1}const le={[Oc]:t.FUNC_ADD,[vZ]:t.FUNC_SUBTRACT,[yZ]:t.FUNC_REVERSE_SUBTRACT};if(r)le[gR]=t.MIN,le[vR]=t.MAX;else{const ce=e.get("EXT_blend_minmax");ce!==null&&(le[gR]=ce.MIN_EXT,le[vR]=ce.MAX_EXT)}const me={[xZ]:t.ZERO,[wZ]:t.ONE,[_Z]:t.SRC_COLOR,[bb]:t.SRC_ALPHA,[AZ]:t.SRC_ALPHA_SATURATE,[MZ]:t.DST_COLOR,[SZ]:t.DST_ALPHA,[bZ]:t.ONE_MINUS_SRC_COLOR,[Sb]:t.ONE_MINUS_SRC_ALPHA,[TZ]:t.ONE_MINUS_DST_COLOR,[EZ]:t.ONE_MINUS_DST_ALPHA,[CZ]:t.CONSTANT_COLOR,[PZ]:t.ONE_MINUS_CONSTANT_COLOR,[RZ]:t.CONSTANT_ALPHA,[NZ]:t.ONE_MINUS_CONSTANT_ALPHA};function de(ce,We,ze,Ye,Ze,ut,et,xt,Dt,bt){if(ce===Al){g===!0&&(fe(t.BLEND),g=!1);return}if(g===!1&&(se(t.BLEND),g=!0),ce!==gZ){if(ce!==_||bt!==F){if((w!==Oc||A!==Oc)&&(t.blendEquation(t.FUNC_ADD),w=Oc,A=Oc),bt)switch(ce){case Vf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case _b:t.blendFunc(t.ONE,t.ONE);break;case pR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case mR:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case Vf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case _b:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case pR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case mR:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}b=null,M=null,C=null,N=null,R.set(0,0,0),D=0,_=ce,F=bt}return}Ze=Ze||We,ut=ut||ze,et=et||Ye,(We!==w||Ze!==A)&&(t.blendEquationSeparate(le[We],le[Ze]),w=We,A=Ze),(ze!==b||Ye!==M||ut!==C||et!==N)&&(t.blendFuncSeparate(me[ze],me[Ye],me[ut],me[et]),b=ze,M=Ye,C=ut,N=et),(xt.equals(R)===!1||Dt!==D)&&(t.blendColor(xt.r,xt.g,xt.b,Dt),R.copy(xt),D=Dt),_=ce,F=!1}function ke(ce,We){ce.side===$o?fe(t.CULL_FACE):se(t.CULL_FACE);let ze=ce.side===Ki;We&&(ze=!ze),_e(ze),ce.blending===Vf&&ce.transparent===!1?de(Al):de(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),l.setFunc(ce.depthFunc),l.setTest(ce.depthTest),l.setMask(ce.depthWrite),a.setMask(ce.colorWrite);const Ye=ce.stencilWrite;c.setTest(Ye),Ye&&(c.setMask(ce.stencilWriteMask),c.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),c.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),ne(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?se(t.SAMPLE_ALPHA_TO_COVERAGE):fe(t.SAMPLE_ALPHA_TO_COVERAGE)}function _e(ce){U!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),U=ce)}function q(ce){ce!==hZ?(se(t.CULL_FACE),ce!==$&&(ce===hR?t.cullFace(t.BACK):ce===pZ?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):fe(t.CULL_FACE),$=ce}function K(ce){ce!==I&&(L&&t.lineWidth(ce),I=ce)}function ne(ce,We,ze){ce?(se(t.POLYGON_OFFSET_FILL),(V!==We||j!==ze)&&(t.polygonOffset(We,ze),V=We,j=ze)):fe(t.POLYGON_OFFSET_FILL)}function be(ce){ce?se(t.SCISSOR_TEST):fe(t.SCISSOR_TEST)}function pe(ce){ce===void 0&&(ce=t.TEXTURE0+X-1),B!==ce&&(t.activeTexture(ce),B=ce)}function ve(ce,We,ze){ze===void 0&&(B===null?ze=t.TEXTURE0+X-1:ze=B);let Ye=G[ze];Ye===void 0&&(Ye={type:void 0,texture:void 0},G[ze]=Ye),(Ye.type!==ce||Ye.texture!==We)&&(B!==ze&&(t.activeTexture(ze),B=ze),t.bindTexture(ce,We||ae[ce]),Ye.type=ce,Ye.texture=We)}function Re(){const ce=G[B];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Be(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Te(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function je(){try{t.texSubImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function $e(){try{t.texSubImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ae(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function st(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function tt(){try{t.texStorage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Xe(){try{t.texStorage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ge(){try{t.texImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ie(){try{t.texImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function oe(ce){Q.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),Q.copy(ce))}function Ce(ce){re.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),re.copy(ce))}function De(ce,We){let ze=f.get(We);ze===void 0&&(ze=new WeakMap,f.set(We,ze));let Ye=ze.get(ce);Ye===void 0&&(Ye=t.getUniformBlockIndex(We,ce.name),ze.set(ce,Ye))}function Ue(ce,We){const Ye=f.get(We).get(ce);u.get(We)!==Ye&&(t.uniformBlockBinding(We,Ye,ce.__bindingPointIndex),u.set(We,Ye))}function xe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},B=null,G={},h={},p=new WeakMap,v=[],y=null,g=!1,_=null,w=null,b=null,M=null,A=null,C=null,N=null,R=new it(0,0,0),D=0,F=!1,U=null,$=null,I=null,V=null,j=null,Q.set(0,0,t.canvas.width,t.canvas.height),re.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:se,disable:fe,bindFramebuffer:ue,drawBuffers:H,useProgram:he,setBlending:de,setMaterial:ke,setFlipSided:_e,setCullFace:q,setLineWidth:K,setPolygonOffset:ne,setScissorTest:be,activeTexture:pe,bindTexture:ve,unbindTexture:Re,compressedTexImage2D:Be,compressedTexImage3D:Te,texImage2D:Ge,texImage3D:Ie,updateUBOMapping:De,uniformBlockBinding:Ue,texStorage2D:tt,texStorage3D:Xe,texSubImage2D:je,texSubImage3D:$e,compressedTexSubImage2D:Ae,compressedTexSubImage3D:st,scissor:oe,viewport:Ce,reset:xe}}function XDe(t,e,n,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(q,K){return h?new OffscreenCanvas(q,K):x0("canvas")}function v(q,K,ne,be){let pe=1;if((q.width>be||q.height>be)&&(pe=be/Math.max(q.width,q.height)),pe<1||K===!0)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap){const ve=K?Tb:Math.floor,Re=ve(pe*q.width),Be=ve(pe*q.height);f===void 0&&(f=p(Re,Be));const Te=ne?p(Re,Be):f;return Te.width=Re,Te.height=Be,Te.getContext("2d").drawImage(q,0,0,Re,Be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+Re+"x"+Be+")."),Te}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+")."),q;return q}function y(q){return $R(q.width)&&$R(q.height)}function g(q){return a?!1:q.wrapS!==Mi||q.wrapT!==Mi||q.minFilter!==cr&&q.minFilter!==Un}function _(q,K){return q.generateMipmaps&&K&&q.minFilter!==cr&&q.minFilter!==Un}function w(q){t.generateMipmap(q)}function b(q,K,ne,be,pe=!1){if(a===!1)return K;if(q!==null){if(t[q]!==void 0)return t[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let ve=K;if(K===t.RED&&(ne===t.FLOAT&&(ve=t.R32F),ne===t.HALF_FLOAT&&(ve=t.R16F),ne===t.UNSIGNED_BYTE&&(ve=t.R8)),K===t.RED_INTEGER&&(ne===t.UNSIGNED_BYTE&&(ve=t.R8UI),ne===t.UNSIGNED_SHORT&&(ve=t.R16UI),ne===t.UNSIGNED_INT&&(ve=t.R32UI),ne===t.BYTE&&(ve=t.R8I),ne===t.SHORT&&(ve=t.R16I),ne===t.INT&&(ve=t.R32I)),K===t.RG&&(ne===t.FLOAT&&(ve=t.RG32F),ne===t.HALF_FLOAT&&(ve=t.RG16F),ne===t.UNSIGNED_BYTE&&(ve=t.RG8)),K===t.RGBA){const Re=pe?m0:cn.getTransfer(be);ne===t.FLOAT&&(ve=t.RGBA32F),ne===t.HALF_FLOAT&&(ve=t.RGBA16F),ne===t.UNSIGNED_BYTE&&(ve=Re===xn?t.SRGB8_ALPHA8:t.RGBA8),ne===t.UNSIGNED_SHORT_4_4_4_4&&(ve=t.RGBA4),ne===t.UNSIGNED_SHORT_5_5_5_1&&(ve=t.RGB5_A1)}return(ve===t.R16F||ve===t.R32F||ve===t.RG16F||ve===t.RG32F||ve===t.RGBA16F||ve===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ve}function M(q,K,ne){return _(q,ne)===!0||q.isFramebufferTexture&&q.minFilter!==cr&&q.minFilter!==Un?Math.log2(Math.max(K.width,K.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?K.mipmaps.length:1}function A(q){return q===cr||q===Eb||q===fv?t.NEAREST:t.LINEAR}function C(q){const K=q.target;K.removeEventListener("dispose",C),R(K),K.isVideoTexture&&u.delete(K)}function N(q){const K=q.target;K.removeEventListener("dispose",N),F(K)}function R(q){const K=r.get(q);if(K.__webglInit===void 0)return;const ne=q.source,be=d.get(ne);if(be){const pe=be[K.__cacheKey];pe.usedTimes--,pe.usedTimes===0&&D(q),Object.keys(be).length===0&&d.delete(ne)}r.remove(q)}function D(q){const K=r.get(q);t.deleteTexture(K.__webglTexture);const ne=q.source,be=d.get(ne);delete be[K.__cacheKey],o.memory.textures--}function F(q){const K=q.texture,ne=r.get(q),be=r.get(K);if(be.__webglTexture!==void 0&&(t.deleteTexture(be.__webglTexture),o.memory.textures--),q.depthTexture&&q.depthTexture.dispose(),q.isWebGLCubeRenderTarget)for(let pe=0;pe<6;pe++){if(Array.isArray(ne.__webglFramebuffer[pe]))for(let ve=0;ve<ne.__webglFramebuffer[pe].length;ve++)t.deleteFramebuffer(ne.__webglFramebuffer[pe][ve]);else t.deleteFramebuffer(ne.__webglFramebuffer[pe]);ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer[pe])}else{if(Array.isArray(ne.__webglFramebuffer))for(let pe=0;pe<ne.__webglFramebuffer.length;pe++)t.deleteFramebuffer(ne.__webglFramebuffer[pe]);else t.deleteFramebuffer(ne.__webglFramebuffer);if(ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let pe=0;pe<ne.__webglColorRenderbuffer.length;pe++)ne.__webglColorRenderbuffer[pe]&&t.deleteRenderbuffer(ne.__webglColorRenderbuffer[pe]);ne.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(q.isWebGLMultipleRenderTargets)for(let pe=0,ve=K.length;pe<ve;pe++){const Re=r.get(K[pe]);Re.__webglTexture&&(t.deleteTexture(Re.__webglTexture),o.memory.textures--),r.remove(K[pe])}r.remove(K),r.remove(q)}let U=0;function $(){U=0}function I(){const q=U;return q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+i.maxTextures),U+=1,q}function V(q){const K=[];return K.push(q.wrapS),K.push(q.wrapT),K.push(q.wrapR||0),K.push(q.magFilter),K.push(q.minFilter),K.push(q.anisotropy),K.push(q.internalFormat),K.push(q.format),K.push(q.type),K.push(q.generateMipmaps),K.push(q.premultiplyAlpha),K.push(q.flipY),K.push(q.unpackAlignment),K.push(q.colorSpace),K.join()}function j(q,K){const ne=r.get(q);if(q.isVideoTexture&&ke(q),q.isRenderTargetTexture===!1&&q.version>0&&ne.__version!==q.version){const be=q.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Q(ne,q,K);return}}n.bindTexture(t.TEXTURE_2D,ne.__webglTexture,t.TEXTURE0+K)}function X(q,K){const ne=r.get(q);if(q.version>0&&ne.__version!==q.version){Q(ne,q,K);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ne.__webglTexture,t.TEXTURE0+K)}function L(q,K){const ne=r.get(q);if(q.version>0&&ne.__version!==q.version){Q(ne,q,K);return}n.bindTexture(t.TEXTURE_3D,ne.__webglTexture,t.TEXTURE0+K)}function k(q,K){const ne=r.get(q);if(q.version>0&&ne.__version!==q.version){re(ne,q,K);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+K)}const z={[u0]:t.REPEAT,[Mi]:t.CLAMP_TO_EDGE,[f0]:t.MIRRORED_REPEAT},B={[cr]:t.NEAREST,[Eb]:t.NEAREST_MIPMAP_NEAREST,[fv]:t.NEAREST_MIPMAP_LINEAR,[Un]:t.LINEAR,[vO]:t.LINEAR_MIPMAP_NEAREST,[vu]:t.LINEAR_MIPMAP_LINEAR},G={[oQ]:t.NEVER,[dQ]:t.ALWAYS,[aQ]:t.LESS,[CO]:t.LEQUAL,[lQ]:t.EQUAL,[fQ]:t.GEQUAL,[cQ]:t.GREATER,[uQ]:t.NOTEQUAL};function Y(q,K,ne){if(ne?(t.texParameteri(q,t.TEXTURE_WRAP_S,z[K.wrapS]),t.texParameteri(q,t.TEXTURE_WRAP_T,z[K.wrapT]),(q===t.TEXTURE_3D||q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(q,t.TEXTURE_WRAP_R,z[K.wrapR]),t.texParameteri(q,t.TEXTURE_MAG_FILTER,B[K.magFilter]),t.texParameteri(q,t.TEXTURE_MIN_FILTER,B[K.minFilter])):(t.texParameteri(q,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(q,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(q===t.TEXTURE_3D||q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(q,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(K.wrapS!==Mi||K.wrapT!==Mi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(q,t.TEXTURE_MAG_FILTER,A(K.magFilter)),t.texParameteri(q,t.TEXTURE_MIN_FILTER,A(K.minFilter)),K.minFilter!==cr&&K.minFilter!==Un&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),K.compareFunction&&(t.texParameteri(q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(q,t.TEXTURE_COMPARE_FUNC,G[K.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const be=e.get("EXT_texture_filter_anisotropic");if(K.magFilter===cr||K.minFilter!==fv&&K.minFilter!==vu||K.type===Xo&&e.has("OES_texture_float_linear")===!1||a===!1&&K.type===Xp&&e.has("OES_texture_half_float_linear")===!1)return;(K.anisotropy>1||r.get(K).__currentAnisotropy)&&(t.texParameterf(q,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,i.getMaxAnisotropy())),r.get(K).__currentAnisotropy=K.anisotropy)}}function Z(q,K){let ne=!1;q.__webglInit===void 0&&(q.__webglInit=!0,K.addEventListener("dispose",C));const be=K.source;let pe=d.get(be);pe===void 0&&(pe={},d.set(be,pe));const ve=V(K);if(ve!==q.__cacheKey){pe[ve]===void 0&&(pe[ve]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),pe[ve].usedTimes++;const Re=pe[q.__cacheKey];Re!==void 0&&(pe[q.__cacheKey].usedTimes--,Re.usedTimes===0&&D(K)),q.__cacheKey=ve,q.__webglTexture=pe[ve].texture}return ne}function Q(q,K,ne){let be=t.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&(be=t.TEXTURE_2D_ARRAY),K.isData3DTexture&&(be=t.TEXTURE_3D);const pe=Z(q,K),ve=K.source;n.bindTexture(be,q.__webglTexture,t.TEXTURE0+ne);const Re=r.get(ve);if(ve.version!==Re.__version||pe===!0){n.activeTexture(t.TEXTURE0+ne);const Be=cn.getPrimaries(cn.workingColorSpace),Te=K.colorSpace===Is?null:cn.getPrimaries(K.colorSpace),je=K.colorSpace===Is||Be===Te?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,K.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,K.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,je);const $e=g(K)&&y(K.image)===!1;let Ae=v(K.image,$e,!1,i.maxTextureSize);Ae=_e(K,Ae);const st=y(Ae)||a,tt=s.convert(K.format,K.colorSpace);let Xe=s.convert(K.type),Ge=b(K.internalFormat,tt,Xe,K.colorSpace,K.isVideoTexture);Y(be,K,st);let Ie;const oe=K.mipmaps,Ce=a&&K.isVideoTexture!==!0&&Ge!==EO,De=Re.__version===void 0||pe===!0,Ue=M(K,Ae,st);if(K.isDepthTexture)Ge=t.DEPTH_COMPONENT,a?K.type===Xo?Ge=t.DEPTH_COMPONENT32F:K.type===xl?Ge=t.DEPTH_COMPONENT24:K.type===nu?Ge=t.DEPTH24_STENCIL8:Ge=t.DEPTH_COMPONENT16:K.type===Xo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),K.format===ru&&Ge===t.DEPTH_COMPONENT&&K.type!==_E&&K.type!==xl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),K.type=xl,Xe=s.convert(K.type)),K.format===fd&&Ge===t.DEPTH_COMPONENT&&(Ge=t.DEPTH_STENCIL,K.type!==nu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),K.type=nu,Xe=s.convert(K.type))),De&&(Ce?n.texStorage2D(t.TEXTURE_2D,1,Ge,Ae.width,Ae.height):n.texImage2D(t.TEXTURE_2D,0,Ge,Ae.width,Ae.height,0,tt,Xe,null));else if(K.isDataTexture)if(oe.length>0&&st){Ce&&De&&n.texStorage2D(t.TEXTURE_2D,Ue,Ge,oe[0].width,oe[0].height);for(let xe=0,ce=oe.length;xe<ce;xe++)Ie=oe[xe],Ce?n.texSubImage2D(t.TEXTURE_2D,xe,0,0,Ie.width,Ie.height,tt,Xe,Ie.data):n.texImage2D(t.TEXTURE_2D,xe,Ge,Ie.width,Ie.height,0,tt,Xe,Ie.data);K.generateMipmaps=!1}else Ce?(De&&n.texStorage2D(t.TEXTURE_2D,Ue,Ge,Ae.width,Ae.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ae.width,Ae.height,tt,Xe,Ae.data)):n.texImage2D(t.TEXTURE_2D,0,Ge,Ae.width,Ae.height,0,tt,Xe,Ae.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){Ce&&De&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ue,Ge,oe[0].width,oe[0].height,Ae.depth);for(let xe=0,ce=oe.length;xe<ce;xe++)Ie=oe[xe],K.format!==Gi?tt!==null?Ce?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,xe,0,0,0,Ie.width,Ie.height,Ae.depth,tt,Ie.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,xe,Ge,Ie.width,Ie.height,Ae.depth,0,Ie.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ce?n.texSubImage3D(t.TEXTURE_2D_ARRAY,xe,0,0,0,Ie.width,Ie.height,Ae.depth,tt,Xe,Ie.data):n.texImage3D(t.TEXTURE_2D_ARRAY,xe,Ge,Ie.width,Ie.height,Ae.depth,0,tt,Xe,Ie.data)}else{Ce&&De&&n.texStorage2D(t.TEXTURE_2D,Ue,Ge,oe[0].width,oe[0].height);for(let xe=0,ce=oe.length;xe<ce;xe++)Ie=oe[xe],K.format!==Gi?tt!==null?Ce?n.compressedTexSubImage2D(t.TEXTURE_2D,xe,0,0,Ie.width,Ie.height,tt,Ie.data):n.compressedTexImage2D(t.TEXTURE_2D,xe,Ge,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ce?n.texSubImage2D(t.TEXTURE_2D,xe,0,0,Ie.width,Ie.height,tt,Xe,Ie.data):n.texImage2D(t.TEXTURE_2D,xe,Ge,Ie.width,Ie.height,0,tt,Xe,Ie.data)}else if(K.isDataArrayTexture)Ce?(De&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ue,Ge,Ae.width,Ae.height,Ae.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,tt,Xe,Ae.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ge,Ae.width,Ae.height,Ae.depth,0,tt,Xe,Ae.data);else if(K.isData3DTexture)Ce?(De&&n.texStorage3D(t.TEXTURE_3D,Ue,Ge,Ae.width,Ae.height,Ae.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,tt,Xe,Ae.data)):n.texImage3D(t.TEXTURE_3D,0,Ge,Ae.width,Ae.height,Ae.depth,0,tt,Xe,Ae.data);else if(K.isFramebufferTexture){if(De)if(Ce)n.texStorage2D(t.TEXTURE_2D,Ue,Ge,Ae.width,Ae.height);else{let xe=Ae.width,ce=Ae.height;for(let We=0;We<Ue;We++)n.texImage2D(t.TEXTURE_2D,We,Ge,xe,ce,0,tt,Xe,null),xe>>=1,ce>>=1}}else if(oe.length>0&&st){Ce&&De&&n.texStorage2D(t.TEXTURE_2D,Ue,Ge,oe[0].width,oe[0].height);for(let xe=0,ce=oe.length;xe<ce;xe++)Ie=oe[xe],Ce?n.texSubImage2D(t.TEXTURE_2D,xe,0,0,tt,Xe,Ie):n.texImage2D(t.TEXTURE_2D,xe,Ge,tt,Xe,Ie);K.generateMipmaps=!1}else Ce?(De&&n.texStorage2D(t.TEXTURE_2D,Ue,Ge,Ae.width,Ae.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,tt,Xe,Ae)):n.texImage2D(t.TEXTURE_2D,0,Ge,tt,Xe,Ae);_(K,st)&&w(be),Re.__version=ve.version,K.onUpdate&&K.onUpdate(K)}q.__version=K.version}function re(q,K,ne){if(K.image.length!==6)return;const be=Z(q,K),pe=K.source;n.bindTexture(t.TEXTURE_CUBE_MAP,q.__webglTexture,t.TEXTURE0+ne);const ve=r.get(pe);if(pe.version!==ve.__version||be===!0){n.activeTexture(t.TEXTURE0+ne);const Re=cn.getPrimaries(cn.workingColorSpace),Be=K.colorSpace===Is?null:cn.getPrimaries(K.colorSpace),Te=K.colorSpace===Is||Re===Be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,K.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,K.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);const je=K.isCompressedTexture||K.image[0].isCompressedTexture,$e=K.image[0]&&K.image[0].isDataTexture,Ae=[];for(let xe=0;xe<6;xe++)!je&&!$e?Ae[xe]=v(K.image[xe],!1,!0,i.maxCubemapSize):Ae[xe]=$e?K.image[xe].image:K.image[xe],Ae[xe]=_e(K,Ae[xe]);const st=Ae[0],tt=y(st)||a,Xe=s.convert(K.format,K.colorSpace),Ge=s.convert(K.type),Ie=b(K.internalFormat,Xe,Ge,K.colorSpace),oe=a&&K.isVideoTexture!==!0,Ce=ve.__version===void 0||be===!0;let De=M(K,st,tt);Y(t.TEXTURE_CUBE_MAP,K,tt);let Ue;if(je){oe&&Ce&&n.texStorage2D(t.TEXTURE_CUBE_MAP,De,Ie,st.width,st.height);for(let xe=0;xe<6;xe++){Ue=Ae[xe].mipmaps;for(let ce=0;ce<Ue.length;ce++){const We=Ue[ce];K.format!==Gi?Xe!==null?oe?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ce,0,0,We.width,We.height,Xe,We.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ce,Ie,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):oe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ce,0,0,We.width,We.height,Xe,Ge,We.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ce,Ie,We.width,We.height,0,Xe,Ge,We.data)}}}else{Ue=K.mipmaps,oe&&Ce&&(Ue.length>0&&De++,n.texStorage2D(t.TEXTURE_CUBE_MAP,De,Ie,Ae[0].width,Ae[0].height));for(let xe=0;xe<6;xe++)if($e){oe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,0,0,Ae[xe].width,Ae[xe].height,Xe,Ge,Ae[xe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,Ie,Ae[xe].width,Ae[xe].height,0,Xe,Ge,Ae[xe].data);for(let ce=0;ce<Ue.length;ce++){const ze=Ue[ce].image[xe].image;oe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ce+1,0,0,ze.width,ze.height,Xe,Ge,ze.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ce+1,Ie,ze.width,ze.height,0,Xe,Ge,ze.data)}}else{oe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,0,0,Xe,Ge,Ae[xe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,Ie,Xe,Ge,Ae[xe]);for(let ce=0;ce<Ue.length;ce++){const We=Ue[ce];oe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ce+1,0,0,Xe,Ge,We.image[xe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ce+1,Ie,Xe,Ge,We.image[xe])}}}_(K,tt)&&w(t.TEXTURE_CUBE_MAP),ve.__version=pe.version,K.onUpdate&&K.onUpdate(K)}q.__version=K.version}function J(q,K,ne,be,pe,ve){const Re=s.convert(ne.format,ne.colorSpace),Be=s.convert(ne.type),Te=b(ne.internalFormat,Re,Be,ne.colorSpace);if(!r.get(K).__hasExternalTextures){const $e=Math.max(1,K.width>>ve),Ae=Math.max(1,K.height>>ve);pe===t.TEXTURE_3D||pe===t.TEXTURE_2D_ARRAY?n.texImage3D(pe,ve,Te,$e,Ae,K.depth,0,Re,Be,null):n.texImage2D(pe,ve,Te,$e,Ae,0,Re,Be,null)}n.bindFramebuffer(t.FRAMEBUFFER,q),de(K)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,be,pe,r.get(ne).__webglTexture,0,me(K)):(pe===t.TEXTURE_2D||pe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&pe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,be,pe,r.get(ne).__webglTexture,ve),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ae(q,K,ne){if(t.bindRenderbuffer(t.RENDERBUFFER,q),K.depthBuffer&&!K.stencilBuffer){let be=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ne||de(K)){const pe=K.depthTexture;pe&&pe.isDepthTexture&&(pe.type===Xo?be=t.DEPTH_COMPONENT32F:pe.type===xl&&(be=t.DEPTH_COMPONENT24));const ve=me(K);de(K)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ve,be,K.width,K.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,ve,be,K.width,K.height)}else t.renderbufferStorage(t.RENDERBUFFER,be,K.width,K.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,q)}else if(K.depthBuffer&&K.stencilBuffer){const be=me(K);ne&&de(K)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,be,t.DEPTH24_STENCIL8,K.width,K.height):de(K)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,be,t.DEPTH24_STENCIL8,K.width,K.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,K.width,K.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,q)}else{const be=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let pe=0;pe<be.length;pe++){const ve=be[pe],Re=s.convert(ve.format,ve.colorSpace),Be=s.convert(ve.type),Te=b(ve.internalFormat,Re,Be,ve.colorSpace),je=me(K);ne&&de(K)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,je,Te,K.width,K.height):de(K)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,je,Te,K.width,K.height):t.renderbufferStorage(t.RENDERBUFFER,Te,K.width,K.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function se(q,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,q),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(K.depthTexture).__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),j(K.depthTexture,0);const be=r.get(K.depthTexture).__webglTexture,pe=me(K);if(K.depthTexture.format===ru)de(K)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,be,0,pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,be,0);else if(K.depthTexture.format===fd)de(K)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,be,0,pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,be,0);else throw new Error("Unknown depthTexture format")}function fe(q){const K=r.get(q),ne=q.isWebGLCubeRenderTarget===!0;if(q.depthTexture&&!K.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");se(K.__webglFramebuffer,q)}else if(ne){K.__webglDepthbuffer=[];for(let be=0;be<6;be++)n.bindFramebuffer(t.FRAMEBUFFER,K.__webglFramebuffer[be]),K.__webglDepthbuffer[be]=t.createRenderbuffer(),ae(K.__webglDepthbuffer[be],q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer=t.createRenderbuffer(),ae(K.__webglDepthbuffer,q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function ue(q,K,ne){const be=r.get(q);K!==void 0&&J(be.__webglFramebuffer,q,q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ne!==void 0&&fe(q)}function H(q){const K=q.texture,ne=r.get(q),be=r.get(K);q.addEventListener("dispose",N),q.isWebGLMultipleRenderTargets!==!0&&(be.__webglTexture===void 0&&(be.__webglTexture=t.createTexture()),be.__version=K.version,o.memory.textures++);const pe=q.isWebGLCubeRenderTarget===!0,ve=q.isWebGLMultipleRenderTargets===!0,Re=y(q)||a;if(pe){ne.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(a&&K.mipmaps&&K.mipmaps.length>0){ne.__webglFramebuffer[Be]=[];for(let Te=0;Te<K.mipmaps.length;Te++)ne.__webglFramebuffer[Be][Te]=t.createFramebuffer()}else ne.__webglFramebuffer[Be]=t.createFramebuffer()}else{if(a&&K.mipmaps&&K.mipmaps.length>0){ne.__webglFramebuffer=[];for(let Be=0;Be<K.mipmaps.length;Be++)ne.__webglFramebuffer[Be]=t.createFramebuffer()}else ne.__webglFramebuffer=t.createFramebuffer();if(ve)if(i.drawBuffers){const Be=q.texture;for(let Te=0,je=Be.length;Te<je;Te++){const $e=r.get(Be[Te]);$e.__webglTexture===void 0&&($e.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&q.samples>0&&de(q)===!1){const Be=ve?K:[K];ne.__webglMultisampledFramebuffer=t.createFramebuffer(),ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let Te=0;Te<Be.length;Te++){const je=Be[Te];ne.__webglColorRenderbuffer[Te]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ne.__webglColorRenderbuffer[Te]);const $e=s.convert(je.format,je.colorSpace),Ae=s.convert(je.type),st=b(je.internalFormat,$e,Ae,je.colorSpace,q.isXRRenderTarget===!0),tt=me(q);t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,st,q.width,q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.RENDERBUFFER,ne.__webglColorRenderbuffer[Te])}t.bindRenderbuffer(t.RENDERBUFFER,null),q.depthBuffer&&(ne.__webglDepthRenderbuffer=t.createRenderbuffer(),ae(ne.__webglDepthRenderbuffer,q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(pe){n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture),Y(t.TEXTURE_CUBE_MAP,K,Re);for(let Be=0;Be<6;Be++)if(a&&K.mipmaps&&K.mipmaps.length>0)for(let Te=0;Te<K.mipmaps.length;Te++)J(ne.__webglFramebuffer[Be][Te],q,K,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Te);else J(ne.__webglFramebuffer[Be],q,K,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);_(K,Re)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ve){const Be=q.texture;for(let Te=0,je=Be.length;Te<je;Te++){const $e=Be[Te],Ae=r.get($e);n.bindTexture(t.TEXTURE_2D,Ae.__webglTexture),Y(t.TEXTURE_2D,$e,Re),J(ne.__webglFramebuffer,q,$e,t.COLOR_ATTACHMENT0+Te,t.TEXTURE_2D,0),_($e,Re)&&w(t.TEXTURE_2D)}n.unbindTexture()}else{let Be=t.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(a?Be=q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Be,be.__webglTexture),Y(Be,K,Re),a&&K.mipmaps&&K.mipmaps.length>0)for(let Te=0;Te<K.mipmaps.length;Te++)J(ne.__webglFramebuffer[Te],q,K,t.COLOR_ATTACHMENT0,Be,Te);else J(ne.__webglFramebuffer,q,K,t.COLOR_ATTACHMENT0,Be,0);_(K,Re)&&w(Be),n.unbindTexture()}q.depthBuffer&&fe(q)}function he(q){const K=y(q)||a,ne=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let be=0,pe=ne.length;be<pe;be++){const ve=ne[be];if(_(ve,K)){const Re=q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Be=r.get(ve).__webglTexture;n.bindTexture(Re,Be),w(Re),n.unbindTexture()}}}function le(q){if(a&&q.samples>0&&de(q)===!1){const K=q.isWebGLMultipleRenderTargets?q.texture:[q.texture],ne=q.width,be=q.height;let pe=t.COLOR_BUFFER_BIT;const ve=[],Re=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Be=r.get(q),Te=q.isWebGLMultipleRenderTargets===!0;if(Te)for(let je=0;je<K.length;je++)n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Be.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Be.__webglFramebuffer);for(let je=0;je<K.length;je++){ve.push(t.COLOR_ATTACHMENT0+je),q.depthBuffer&&ve.push(Re);const $e=Be.__ignoreDepthValues!==void 0?Be.__ignoreDepthValues:!1;if($e===!1&&(q.depthBuffer&&(pe|=t.DEPTH_BUFFER_BIT),q.stencilBuffer&&(pe|=t.STENCIL_BUFFER_BIT)),Te&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Be.__webglColorRenderbuffer[je]),$e===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Re]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Re])),Te){const Ae=r.get(K[je]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ae,0)}t.blitFramebuffer(0,0,ne,be,0,0,ne,be,pe,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ve)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Te)for(let je=0;je<K.length;je++){n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.RENDERBUFFER,Be.__webglColorRenderbuffer[je]);const $e=r.get(K[je]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.TEXTURE_2D,$e,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Be.__webglMultisampledFramebuffer)}}function me(q){return Math.min(i.maxSamples,q.samples)}function de(q){const K=r.get(q);return a&&q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function ke(q){const K=o.render.frame;u.get(q)!==K&&(u.set(q,K),q.update())}function _e(q,K){const ne=q.colorSpace,be=q.format,pe=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||q.format===Mb||ne!==Ba&&ne!==Is&&(cn.getTransfer(ne)===xn?a===!1?e.has("EXT_sRGB")===!0&&be===Gi?(q.format=Mb,q.minFilter=Un,q.generateMipmaps=!1):K=RO.sRGBToLinear(K):(be!==Gi||pe!==Oa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),K}this.allocateTextureUnit=I,this.resetTextureUnits=$,this.setTexture2D=j,this.setTexture2DArray=X,this.setTexture3D=L,this.setTextureCube=k,this.rebindTextures=ue,this.setupRenderTarget=H,this.updateRenderTargetMipmap=he,this.updateMultisampleRenderTarget=le,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=J,this.useMultisampledRTT=de}function TQ(t,e,n){const r=n.isWebGL2;function i(s,o=Is){let a;const l=cn.getTransfer(o);if(s===Oa)return t.UNSIGNED_BYTE;if(s===xO)return t.UNSIGNED_SHORT_4_4_4_4;if(s===wO)return t.UNSIGNED_SHORT_5_5_5_1;if(s===XZ)return t.BYTE;if(s===YZ)return t.SHORT;if(s===_E)return t.UNSIGNED_SHORT;if(s===yO)return t.INT;if(s===xl)return t.UNSIGNED_INT;if(s===Xo)return t.FLOAT;if(s===Xp)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===KZ)return t.ALPHA;if(s===Gi)return t.RGBA;if(s===qZ)return t.LUMINANCE;if(s===ZZ)return t.LUMINANCE_ALPHA;if(s===ru)return t.DEPTH_COMPONENT;if(s===fd)return t.DEPTH_STENCIL;if(s===Mb)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===QZ)return t.RED;if(s===_O)return t.RED_INTEGER;if(s===JZ)return t.RG;if(s===bO)return t.RG_INTEGER;if(s===SO)return t.RGBA_INTEGER;if(s===kw||s===Uw||s===Fw||s===Bw)if(l===xn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===kw)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Uw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Fw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Bw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===kw)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Uw)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Fw)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Bw)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===xR||s===wR||s===_R||s===bR)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===xR)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===wR)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===_R)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===bR)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===EO)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===SR||s===ER)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===SR)return l===xn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===ER)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===MR||s===TR||s===AR||s===CR||s===PR||s===RR||s===NR||s===IR||s===DR||s===LR||s===OR||s===kR||s===UR||s===FR)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===MR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===TR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===AR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===CR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===PR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===RR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===NR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===IR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===DR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===LR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===OR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===kR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===UR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===FR)return l===xn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===zw||s===BR||s===zR)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===zw)return l===xn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===BR)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===zR)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===eQ||s===jR||s===VR||s===HR)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===zw)return a.COMPRESSED_RED_RGTC1_EXT;if(s===jR)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===VR)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===HR)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===nu?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class AQ extends fr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Jh extends tn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const YDe={type:"move"};class JA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Jh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Jh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Jh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),g=this._getHandJoint(c,v);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,p=.005;c.inputState.pinching&&d>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(YDe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Jh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class KDe extends Zl{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,p=null;const v=n.getContextAttributes();let y=null,g=null;const _=[],w=[],b=new Fe;let M=null;const A=new fr;A.layers.enable(1),A.viewport=new on;const C=new fr;C.layers.enable(2),C.viewport=new on;const N=[A,C],R=new AQ;R.layers.enable(1),R.layers.enable(2);let D=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let Z=_[Y];return Z===void 0&&(Z=new JA,_[Y]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(Y){let Z=_[Y];return Z===void 0&&(Z=new JA,_[Y]=Z),Z.getGripSpace()},this.getHand=function(Y){let Z=_[Y];return Z===void 0&&(Z=new JA,_[Y]=Z),Z.getHandSpace()};function U(Y){const Z=w.indexOf(Y.inputSource);if(Z===-1)return;const Q=_[Z];Q!==void 0&&(Q.update(Y.inputSource,Y.frame,c||o),Q.dispatchEvent({type:Y.type,data:Y.inputSource}))}function $(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",$),i.removeEventListener("inputsourceschange",I);for(let Y=0;Y<_.length;Y++){const Z=w[Y];Z!==null&&(w[Y]=null,_[Y].disconnect(Z))}D=null,F=null,e.setRenderTarget(y),h=null,d=null,f=null,i=null,g=null,G.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(b.width,b.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Y){c=Y},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",$),i.addEventListener("inputsourceschange",I),v.xrCompatible!==!0&&await n.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(b),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,n,Z),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),g=new ra(h.framebufferWidth,h.framebufferHeight,{format:Gi,type:Oa,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let Z=null,Q=null,re=null;v.depth&&(re=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Z=v.stencil?fd:ru,Q=v.stencil?nu:xl);const J={colorFormat:n.RGBA8,depthFormat:re,scaleFactor:s};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(J),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),g=new ra(d.textureWidth,d.textureHeight,{format:Gi,type:Oa,depthTexture:new kO(d.textureWidth,d.textureHeight,Q,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0});const ae=e.properties.get(g);ae.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),G.setContext(i),G.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function I(Y){for(let Z=0;Z<Y.removed.length;Z++){const Q=Y.removed[Z],re=w.indexOf(Q);re>=0&&(w[re]=null,_[re].disconnect(Q))}for(let Z=0;Z<Y.added.length;Z++){const Q=Y.added[Z];let re=w.indexOf(Q);if(re===-1){for(let ae=0;ae<_.length;ae++)if(ae>=w.length){w.push(Q),re=ae;break}else if(w[ae]===null){w[ae]=Q,re=ae;break}if(re===-1)break}const J=_[re];J&&J.connect(Q)}}const V=new te,j=new te;function X(Y,Z,Q){V.setFromMatrixPosition(Z.matrixWorld),j.setFromMatrixPosition(Q.matrixWorld);const re=V.distanceTo(j),J=Z.projectionMatrix.elements,ae=Q.projectionMatrix.elements,se=J[14]/(J[10]-1),fe=J[14]/(J[10]+1),ue=(J[9]+1)/J[5],H=(J[9]-1)/J[5],he=(J[8]-1)/J[0],le=(ae[8]+1)/ae[0],me=se*he,de=se*le,ke=re/(-he+le),_e=ke*-he;Z.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(_e),Y.translateZ(ke),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const q=se+ke,K=fe+ke,ne=me-_e,be=de+(re-_e),pe=ue*fe/K*q,ve=H*fe/K*q;Y.projectionMatrix.makePerspective(ne,be,pe,ve,q,K),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}function L(Y,Z){Z===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(Z.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;R.near=C.near=A.near=Y.near,R.far=C.far=A.far=Y.far,(D!==R.near||F!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),D=R.near,F=R.far);const Z=Y.parent,Q=R.cameras;L(R,Z);for(let re=0;re<Q.length;re++)L(Q[re],Z);Q.length===2?X(R,A,C):R.projectionMatrix.copy(A.projectionMatrix),k(Y,R,Z)};function k(Y,Z,Q){Q===null?Y.matrix.copy(Z.matrixWorld):(Y.matrix.copy(Q.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(Z.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0),Y.projectionMatrix.copy(Z.projectionMatrix),Y.projectionMatrixInverse.copy(Z.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=Kp*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(Y){l=Y,d!==null&&(d.fixedFoveation=Y),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=Y)};let z=null;function B(Y,Z){if(u=Z.getViewerPose(c||o),p=Z,u!==null){const Q=u.views;h!==null&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let re=!1;Q.length!==R.cameras.length&&(R.cameras.length=0,re=!0);for(let J=0;J<Q.length;J++){const ae=Q[J];let se=null;if(h!==null)se=h.getViewport(ae);else{const ue=f.getViewSubImage(d,ae);se=ue.viewport,J===0&&(e.setRenderTargetTextures(g,ue.colorTexture,d.ignoreDepthValues?void 0:ue.depthStencilTexture),e.setRenderTarget(g))}let fe=N[J];fe===void 0&&(fe=new fr,fe.layers.enable(J),fe.viewport=new on,N[J]=fe),fe.matrix.fromArray(ae.transform.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.projectionMatrix.fromArray(ae.projectionMatrix),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert(),fe.viewport.set(se.x,se.y,se.width,se.height),J===0&&(R.matrix.copy(fe.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),re===!0&&R.cameras.push(fe)}}for(let Q=0;Q<_.length;Q++){const re=w[Q],J=_[Q];re!==null&&J!==void 0&&J.update(re,Z,c||o)}z&&z(Y,Z),Z.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Z}),p=null}const G=new wQ;G.setAnimationLoop(B),this.setAnimationLoop=function(Y){z=Y},this.dispose=function(){}}}function qDe(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,vQ(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,_,w,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),f(y,g)):g.isMeshPhongMaterial?(s(y,g),u(y,g)):g.isMeshStandardMaterial?(s(y,g),d(y,g),g.isMeshPhysicalMaterial&&h(y,g,b)):g.isMeshMatcapMaterial?(s(y,g),p(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),v(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,_,w):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===Ki&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===Ki&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(y.envMap.value=_,y.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap){y.lightMap.value=g.lightMap;const w=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=g.lightMapIntensity*w,n(g.lightMap,y.lightMapTransform)}g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,_,w){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*_,y.scale.value=w*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function f(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function d(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),e.get(g).envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function h(y,g,_){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ki&&y.clearcoatNormalScale.value.negate())),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function p(y,g){g.matcap&&(y.matcap.value=g.matcap)}function v(y,g){const _=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function ZDe(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,w){const b=w.program;r.uniformBlockBinding(_,b)}function c(_,w){let b=i[_.id];b===void 0&&(p(_),b=u(_),i[_.id]=b,_.addEventListener("dispose",y));const M=w.program;r.updateUBOMapping(_,M);const A=e.render.frame;s[_.id]!==A&&(d(_),s[_.id]=A)}function u(_){const w=f();_.__bindingPointIndex=w;const b=t.createBuffer(),M=_.__size,A=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,M,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,b),b}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const w=i[_.id],b=_.uniforms,M=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let A=0,C=b.length;A<C;A++){const N=Array.isArray(b[A])?b[A]:[b[A]];for(let R=0,D=N.length;R<D;R++){const F=N[R];if(h(F,A,R,M)===!0){const U=F.__offset,$=Array.isArray(F.value)?F.value:[F.value];let I=0;for(let V=0;V<$.length;V++){const j=$[V],X=v(j);typeof j=="number"||typeof j=="boolean"?(F.__data[0]=j,t.bufferSubData(t.UNIFORM_BUFFER,U+I,F.__data)):j.isMatrix3?(F.__data[0]=j.elements[0],F.__data[1]=j.elements[1],F.__data[2]=j.elements[2],F.__data[3]=0,F.__data[4]=j.elements[3],F.__data[5]=j.elements[4],F.__data[6]=j.elements[5],F.__data[7]=0,F.__data[8]=j.elements[6],F.__data[9]=j.elements[7],F.__data[10]=j.elements[8],F.__data[11]=0):(j.toArray(F.__data,I),I+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,U,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(_,w,b,M){const A=_.value,C=w+"_"+b;if(M[C]===void 0)return typeof A=="number"||typeof A=="boolean"?M[C]=A:M[C]=A.clone(),!0;{const N=M[C];if(typeof A=="number"||typeof A=="boolean"){if(N!==A)return M[C]=A,!0}else if(N.equals(A)===!1)return N.copy(A),!0}return!1}function p(_){const w=_.uniforms;let b=0;const M=16;for(let C=0,N=w.length;C<N;C++){const R=Array.isArray(w[C])?w[C]:[w[C]];for(let D=0,F=R.length;D<F;D++){const U=R[D],$=Array.isArray(U.value)?U.value:[U.value];for(let I=0,V=$.length;I<V;I++){const j=$[I],X=v(j),L=b%M;L!==0&&M-L<X.boundary&&(b+=M-L),U.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=b,b+=X.storage}}}const A=b%M;return A>0&&(b+=M-A),_.__size=b,_.__cache={},this}function v(_){const w={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(w.boundary=4,w.storage=4):_.isVector2?(w.boundary=8,w.storage=8):_.isVector3||_.isColor?(w.boundary=16,w.storage=12):_.isVector4?(w.boundary=16,w.storage=16):_.isMatrix3?(w.boundary=48,w.storage=48):_.isMatrix4?(w.boundary=64,w.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),w}function y(_){const w=_.target;w.removeEventListener("dispose",y);const b=o.indexOf(w.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function g(){for(const _ in i)t.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}class UO{constructor(e={}){const{canvas:n=pQ(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=o;const h=new Uint32Array(4),p=new Int32Array(4);let v=null,y=null;const g=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Pr,this._useLegacyLights=!1,this.toneMapping=La,this.toneMappingExposure=1;const w=this;let b=!1,M=0,A=0,C=null,N=-1,R=null;const D=new on,F=new on;let U=null;const $=new it(0);let I=0,V=n.width,j=n.height,X=1,L=null,k=null;const z=new on(0,0,V,j),B=new on(0,0,V,j);let G=!1;const Y=new gy;let Z=!1,Q=!1,re=null;const J=new Ct,ae=new Fe,se=new te,fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ue(){return C===null?X:1}let H=r;function he(ee,we){for(let Me=0;Me<ee.length;Me++){const Pe=ee[Me],Ee=n.getContext(Pe,we);if(Ee!==null)return Ee}return null}try{const ee={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${uy}`),n.addEventListener("webglcontextlost",xe,!1),n.addEventListener("webglcontextrestored",ce,!1),n.addEventListener("webglcontextcreationerror",We,!1),H===null){const we=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&we.shift(),H=he(we,ee),H===null)throw he(we)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&H instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let le,me,de,ke,_e,q,K,ne,be,pe,ve,Re,Be,Te,je,$e,Ae,st,tt,Xe,Ge,Ie,oe,Ce;function De(){le=new fIe(H),me=new sIe(H,le,e),le.init(me),Ie=new TQ(H,le,me),de=new $De(H,le,me),ke=new pIe(H),_e=new LDe,q=new XDe(H,le,de,_e,me,Ie,ke),K=new aIe(w),ne=new uIe(w),be=new bPe(H,me),oe=new rIe(H,le,be,me),pe=new dIe(H,be,ke,oe),ve=new yIe(H,pe,be,ke),tt=new vIe(H,me,q),$e=new oIe(_e),Re=new DDe(w,K,ne,le,me,oe,$e),Be=new qDe(w,_e),Te=new kDe,je=new VDe(le,me),st=new nIe(w,K,ne,de,ve,d,l),Ae=new GDe(w,ve,me),Ce=new ZDe(H,ke,me,de),Xe=new iIe(H,le,ke,me),Ge=new hIe(H,le,ke,me),ke.programs=Re.programs,w.capabilities=me,w.extensions=le,w.properties=_e,w.renderLists=Te,w.shadowMap=Ae,w.state=de,w.info=ke}De();const Ue=new KDe(w,H);this.xr=Ue,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const ee=le.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=le.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(ee){ee!==void 0&&(X=ee,this.setSize(V,j,!1))},this.getSize=function(ee){return ee.set(V,j)},this.setSize=function(ee,we,Me=!0){if(Ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}V=ee,j=we,n.width=Math.floor(ee*X),n.height=Math.floor(we*X),Me===!0&&(n.style.width=ee+"px",n.style.height=we+"px"),this.setViewport(0,0,ee,we)},this.getDrawingBufferSize=function(ee){return ee.set(V*X,j*X).floor()},this.setDrawingBufferSize=function(ee,we,Me){V=ee,j=we,X=Me,n.width=Math.floor(ee*Me),n.height=Math.floor(we*Me),this.setViewport(0,0,ee,we)},this.getCurrentViewport=function(ee){return ee.copy(D)},this.getViewport=function(ee){return ee.copy(z)},this.setViewport=function(ee,we,Me,Pe){ee.isVector4?z.set(ee.x,ee.y,ee.z,ee.w):z.set(ee,we,Me,Pe),de.viewport(D.copy(z).multiplyScalar(X).floor())},this.getScissor=function(ee){return ee.copy(B)},this.setScissor=function(ee,we,Me,Pe){ee.isVector4?B.set(ee.x,ee.y,ee.z,ee.w):B.set(ee,we,Me,Pe),de.scissor(F.copy(B).multiplyScalar(X).floor())},this.getScissorTest=function(){return G},this.setScissorTest=function(ee){de.setScissorTest(G=ee)},this.setOpaqueSort=function(ee){L=ee},this.setTransparentSort=function(ee){k=ee},this.getClearColor=function(ee){return ee.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor.apply(st,arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha.apply(st,arguments)},this.clear=function(ee=!0,we=!0,Me=!0){let Pe=0;if(ee){let Ee=!1;if(C!==null){const nt=C.texture.format;Ee=nt===SO||nt===bO||nt===_O}if(Ee){const nt=C.texture.type,dt=nt===Oa||nt===xl||nt===_E||nt===nu||nt===xO||nt===wO,mt=st.getClearColor(),He=st.getClearAlpha(),_t=mt.r,Tt=mt.g,wt=mt.b;dt?(h[0]=_t,h[1]=Tt,h[2]=wt,h[3]=He,H.clearBufferuiv(H.COLOR,0,h)):(p[0]=_t,p[1]=Tt,p[2]=wt,p[3]=He,H.clearBufferiv(H.COLOR,0,p))}else Pe|=H.COLOR_BUFFER_BIT}we&&(Pe|=H.DEPTH_BUFFER_BIT),Me&&(Pe|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(Pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",xe,!1),n.removeEventListener("webglcontextrestored",ce,!1),n.removeEventListener("webglcontextcreationerror",We,!1),Te.dispose(),je.dispose(),_e.dispose(),K.dispose(),ne.dispose(),ve.dispose(),oe.dispose(),Ce.dispose(),Re.dispose(),Ue.dispose(),Ue.removeEventListener("sessionstart",Dt),Ue.removeEventListener("sessionend",bt),re&&(re.dispose(),re=null),Vt.stop()};function xe(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const ee=ke.autoReset,we=Ae.enabled,Me=Ae.autoUpdate,Pe=Ae.needsUpdate,Ee=Ae.type;De(),ke.autoReset=ee,Ae.enabled=we,Ae.autoUpdate=Me,Ae.needsUpdate=Pe,Ae.type=Ee}function We(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function ze(ee){const we=ee.target;we.removeEventListener("dispose",ze),Ye(we)}function Ye(ee){Ze(ee),_e.remove(ee)}function Ze(ee){const we=_e.get(ee).programs;we!==void 0&&(we.forEach(function(Me){Re.releaseProgram(Me)}),ee.isShaderMaterial&&Re.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,we,Me,Pe,Ee,nt){we===null&&(we=fe);const dt=Ee.isMesh&&Ee.matrixWorld.determinant()<0,mt=ec(ee,we,Me,Pe,Ee);de.setMaterial(Pe,dt);let He=Me.index,_t=1;if(Pe.wireframe===!0){if(He=pe.getWireframeAttribute(Me),He===void 0)return;_t=2}const Tt=Me.drawRange,wt=Me.attributes.position;let an=Tt.start*_t,Gn=(Tt.start+Tt.count)*_t;nt!==null&&(an=Math.max(an,nt.start*_t),Gn=Math.min(Gn,(nt.start+nt.count)*_t)),He!==null?(an=Math.max(an,0),Gn=Math.min(Gn,He.count)):wt!=null&&(an=Math.max(an,0),Gn=Math.min(Gn,wt.count));const sn=Gn-an;if(sn<0||sn===1/0)return;oe.setup(Ee,Pe,mt,Me,He);let yn,yt=Xe;if(He!==null&&(yn=be.get(He),yt=Ge,yt.setIndex(yn)),Ee.isMesh)Pe.wireframe===!0?(de.setLineWidth(Pe.wireframeLinewidth*ue()),yt.setMode(H.LINES)):yt.setMode(H.TRIANGLES);else if(Ee.isLine){let at=Pe.linewidth;at===void 0&&(at=1),de.setLineWidth(at*ue()),Ee.isLineSegments?yt.setMode(H.LINES):Ee.isLineLoop?yt.setMode(H.LINE_LOOP):yt.setMode(H.LINE_STRIP)}else Ee.isPoints?yt.setMode(H.POINTS):Ee.isSprite&&yt.setMode(H.TRIANGLES);if(Ee.isBatchedMesh)yt.renderMultiDraw(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount);else if(Ee.isInstancedMesh)yt.renderInstances(an,sn,Ee.count);else if(Me.isInstancedBufferGeometry){const at=Me._maxInstanceCount!==void 0?Me._maxInstanceCount:1/0,Tr=Math.min(Me.instanceCount,at);yt.renderInstances(an,sn,Tr)}else yt.render(an,sn)};function ut(ee,we,Me){ee.transparent===!0&&ee.side===$o&&ee.forceSinglePass===!1?(ee.side=Ki,ee.needsUpdate=!0,Or(ee,we,Me),ee.side=jl,ee.needsUpdate=!0,Or(ee,we,Me),ee.side=$o):Or(ee,we,Me)}this.compile=function(ee,we,Me=null){Me===null&&(Me=ee),y=je.get(Me),y.init(),_.push(y),Me.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(we.layers)&&(y.pushLight(Ee),Ee.castShadow&&y.pushShadow(Ee))}),ee!==Me&&ee.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(we.layers)&&(y.pushLight(Ee),Ee.castShadow&&y.pushShadow(Ee))}),y.setupLights(w._useLegacyLights);const Pe=new Set;return ee.traverse(function(Ee){const nt=Ee.material;if(nt)if(Array.isArray(nt))for(let dt=0;dt<nt.length;dt++){const mt=nt[dt];ut(mt,Me,Ee),Pe.add(mt)}else ut(nt,Me,Ee),Pe.add(nt)}),_.pop(),y=null,Pe},this.compileAsync=function(ee,we,Me=null){const Pe=this.compile(ee,we,Me);return new Promise(Ee=>{function nt(){if(Pe.forEach(function(dt){_e.get(dt).currentProgram.isReady()&&Pe.delete(dt)}),Pe.size===0){Ee(ee);return}setTimeout(nt,10)}le.get("KHR_parallel_shader_compile")!==null?nt():setTimeout(nt,10)})};let et=null;function xt(ee){et&&et(ee)}function Dt(){Vt.stop()}function bt(){Vt.start()}const Vt=new wQ;Vt.setAnimationLoop(xt),typeof self<"u"&&Vt.setContext(self),this.setAnimationLoop=function(ee){et=ee,Ue.setAnimationLoop(ee),ee===null?Vt.stop():Vt.start()},Ue.addEventListener("sessionstart",Dt),Ue.addEventListener("sessionend",bt),this.render=function(ee,we){if(we!==void 0&&we.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),we.parent===null&&we.matrixWorldAutoUpdate===!0&&we.updateMatrixWorld(),Ue.enabled===!0&&Ue.isPresenting===!0&&(Ue.cameraAutoUpdate===!0&&Ue.updateCamera(we),we=Ue.getCamera()),ee.isScene===!0&&ee.onBeforeRender(w,ee,we,C),y=je.get(ee,_.length),y.init(),_.push(y),J.multiplyMatrices(we.projectionMatrix,we.matrixWorldInverse),Y.setFromProjectionMatrix(J),Q=this.localClippingEnabled,Z=$e.init(this.clippingPlanes,Q),v=Te.get(ee,g.length),v.init(),g.push(v),vn(ee,we,0,w.sortObjects),v.finish(),w.sortObjects===!0&&v.sort(L,k),this.info.render.frame++,Z===!0&&$e.beginShadows();const Me=y.state.shadowsArray;if(Ae.render(Me,ee,we),Z===!0&&$e.endShadows(),this.info.autoReset===!0&&this.info.reset(),st.render(v,ee),y.setupLights(w._useLegacyLights),we.isArrayCamera){const Pe=we.cameras;for(let Ee=0,nt=Pe.length;Ee<nt;Ee++){const dt=Pe[Ee];ui(v,ee,dt,dt.viewport)}}else ui(v,ee,we);C!==null&&(q.updateMultisampleRenderTarget(C),q.updateRenderTargetMipmap(C)),ee.isScene===!0&&ee.onAfterRender(w,ee,we),oe.resetDefaultState(),N=-1,R=null,_.pop(),_.length>0?y=_[_.length-1]:y=null,g.pop(),g.length>0?v=g[g.length-1]:v=null};function vn(ee,we,Me,Pe){if(ee.visible===!1)return;if(ee.layers.test(we.layers)){if(ee.isGroup)Me=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(we);else if(ee.isLight)y.pushLight(ee),ee.castShadow&&y.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||Y.intersectsSprite(ee)){Pe&&se.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(J);const dt=ve.update(ee),mt=ee.material;mt.visible&&v.push(ee,dt,mt,Me,se.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||Y.intersectsObject(ee))){const dt=ve.update(ee),mt=ee.material;if(Pe&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),se.copy(ee.boundingSphere.center)):(dt.boundingSphere===null&&dt.computeBoundingSphere(),se.copy(dt.boundingSphere.center)),se.applyMatrix4(ee.matrixWorld).applyMatrix4(J)),Array.isArray(mt)){const He=dt.groups;for(let _t=0,Tt=He.length;_t<Tt;_t++){const wt=He[_t],an=mt[wt.materialIndex];an&&an.visible&&v.push(ee,dt,an,Me,se.z,wt)}}else mt.visible&&v.push(ee,dt,mt,Me,se.z,null)}}const nt=ee.children;for(let dt=0,mt=nt.length;dt<mt;dt++)vn(nt[dt],we,Me,Pe)}function ui(ee,we,Me,Pe){const Ee=ee.opaque,nt=ee.transmissive,dt=ee.transparent;y.setupLightsView(Me),Z===!0&&$e.setGlobalState(w.clippingPlanes,Me),nt.length>0&&qr(Ee,nt,we,Me),Pe&&de.viewport(D.copy(Pe)),Ee.length>0&&Zr(Ee,we,Me),nt.length>0&&Zr(nt,we,Me),dt.length>0&&Zr(dt,we,Me),de.buffers.depth.setTest(!0),de.buffers.depth.setMask(!0),de.buffers.color.setMask(!0),de.setPolygonOffset(!1)}function qr(ee,we,Me,Pe){if((Me.isScene===!0?Me.overrideMaterial:null)!==null)return;const nt=me.isWebGL2;re===null&&(re=new ra(1,1,{generateMipmaps:!0,type:le.has("EXT_color_buffer_half_float")?Xp:Oa,minFilter:vu,samples:nt?4:0})),w.getDrawingBufferSize(ae),nt?re.setSize(ae.x,ae.y):re.setSize(Tb(ae.x),Tb(ae.y));const dt=w.getRenderTarget();w.setRenderTarget(re),w.getClearColor($),I=w.getClearAlpha(),I<1&&w.setClearColor(16777215,.5),w.clear();const mt=w.toneMapping;w.toneMapping=La,Zr(ee,Me,Pe),q.updateMultisampleRenderTarget(re),q.updateRenderTargetMipmap(re);let He=!1;for(let _t=0,Tt=we.length;_t<Tt;_t++){const wt=we[_t],an=wt.object,Gn=wt.geometry,sn=wt.material,yn=wt.group;if(sn.side===$o&&an.layers.test(Pe.layers)){const yt=sn.side;sn.side=Ki,sn.needsUpdate=!0,Lr(an,Me,Pe,Gn,sn,yn),sn.side=yt,sn.needsUpdate=!0,He=!0}}He===!0&&(q.updateMultisampleRenderTarget(re),q.updateRenderTargetMipmap(re)),w.setRenderTarget(dt),w.setClearColor($,I),w.toneMapping=mt}function Zr(ee,we,Me){const Pe=we.isScene===!0?we.overrideMaterial:null;for(let Ee=0,nt=ee.length;Ee<nt;Ee++){const dt=ee[Ee],mt=dt.object,He=dt.geometry,_t=Pe===null?dt.material:Pe,Tt=dt.group;mt.layers.test(Me.layers)&&Lr(mt,we,Me,He,_t,Tt)}}function Lr(ee,we,Me,Pe,Ee,nt){ee.onBeforeRender(w,we,Me,Pe,Ee,nt),ee.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),Ee.onBeforeRender(w,we,Me,Pe,ee,nt),Ee.transparent===!0&&Ee.side===$o&&Ee.forceSinglePass===!1?(Ee.side=Ki,Ee.needsUpdate=!0,w.renderBufferDirect(Me,we,Pe,Ee,ee,nt),Ee.side=jl,Ee.needsUpdate=!0,w.renderBufferDirect(Me,we,Pe,Ee,ee,nt),Ee.side=$o):w.renderBufferDirect(Me,we,Pe,Ee,ee,nt),ee.onAfterRender(w,we,Me,Pe,Ee,nt)}function Or(ee,we,Me){we.isScene!==!0&&(we=fe);const Pe=_e.get(ee),Ee=y.state.lights,nt=y.state.shadowsArray,dt=Ee.state.version,mt=Re.getParameters(ee,Ee.state,nt,we,Me),He=Re.getProgramCacheKey(mt);let _t=Pe.programs;Pe.environment=ee.isMeshStandardMaterial?we.environment:null,Pe.fog=we.fog,Pe.envMap=(ee.isMeshStandardMaterial?ne:K).get(ee.envMap||Pe.environment),_t===void 0&&(ee.addEventListener("dispose",ze),_t=new Map,Pe.programs=_t);let Tt=_t.get(He);if(Tt!==void 0){if(Pe.currentProgram===Tt&&Pe.lightsStateVersion===dt)return Ji(ee,mt),Tt}else mt.uniforms=Re.getUniforms(ee),ee.onBuild(Me,mt,w),ee.onBeforeCompile(mt,w),Tt=Re.acquireProgram(mt,He),_t.set(He,Tt),Pe.uniforms=mt.uniforms;const wt=Pe.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(wt.clippingPlanes=$e.uniform),Ji(ee,mt),Pe.needsLights=tc(ee),Pe.lightsStateVersion=dt,Pe.needsLights&&(wt.ambientLightColor.value=Ee.state.ambient,wt.lightProbe.value=Ee.state.probe,wt.directionalLights.value=Ee.state.directional,wt.directionalLightShadows.value=Ee.state.directionalShadow,wt.spotLights.value=Ee.state.spot,wt.spotLightShadows.value=Ee.state.spotShadow,wt.rectAreaLights.value=Ee.state.rectArea,wt.ltc_1.value=Ee.state.rectAreaLTC1,wt.ltc_2.value=Ee.state.rectAreaLTC2,wt.pointLights.value=Ee.state.point,wt.pointLightShadows.value=Ee.state.pointShadow,wt.hemisphereLights.value=Ee.state.hemi,wt.directionalShadowMap.value=Ee.state.directionalShadowMap,wt.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,wt.spotShadowMap.value=Ee.state.spotShadowMap,wt.spotLightMatrix.value=Ee.state.spotLightMatrix,wt.spotLightMap.value=Ee.state.spotLightMap,wt.pointShadowMap.value=Ee.state.pointShadowMap,wt.pointShadowMatrix.value=Ee.state.pointShadowMatrix),Pe.currentProgram=Tt,Pe.uniformsList=null,Tt}function Wn(ee){if(ee.uniformsList===null){const we=ee.currentProgram.getUniforms();ee.uniformsList=Vw.seqWithValue(we.seq,ee.uniforms)}return ee.uniformsList}function Ji(ee,we){const Me=_e.get(ee);Me.outputColorSpace=we.outputColorSpace,Me.batching=we.batching,Me.instancing=we.instancing,Me.instancingColor=we.instancingColor,Me.skinning=we.skinning,Me.morphTargets=we.morphTargets,Me.morphNormals=we.morphNormals,Me.morphColors=we.morphColors,Me.morphTargetsCount=we.morphTargetsCount,Me.numClippingPlanes=we.numClippingPlanes,Me.numIntersection=we.numClipIntersection,Me.vertexAlphas=we.vertexAlphas,Me.vertexTangents=we.vertexTangents,Me.toneMapping=we.toneMapping}function ec(ee,we,Me,Pe,Ee){we.isScene!==!0&&(we=fe),q.resetTextureUnits();const nt=we.fog,dt=Pe.isMeshStandardMaterial?we.environment:null,mt=C===null?w.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Ba,He=(Pe.isMeshStandardMaterial?ne:K).get(Pe.envMap||dt),_t=Pe.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,Tt=!!Me.attributes.tangent&&(!!Pe.normalMap||Pe.anisotropy>0),wt=!!Me.morphAttributes.position,an=!!Me.morphAttributes.normal,Gn=!!Me.morphAttributes.color;let sn=La;Pe.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(sn=w.toneMapping);const yn=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,yt=yn!==void 0?yn.length:0,at=_e.get(Pe),Tr=y.state.lights;if(Z===!0&&(Q===!0||ee!==R)){const Dn=ee===R&&Pe.id===N;$e.setState(Pe,ee,Dn)}let Pt=!1;Pe.version===at.__version?(at.needsLights&&at.lightsStateVersion!==Tr.state.version||at.outputColorSpace!==mt||Ee.isBatchedMesh&&at.batching===!1||!Ee.isBatchedMesh&&at.batching===!0||Ee.isInstancedMesh&&at.instancing===!1||!Ee.isInstancedMesh&&at.instancing===!0||Ee.isSkinnedMesh&&at.skinning===!1||!Ee.isSkinnedMesh&&at.skinning===!0||Ee.isInstancedMesh&&at.instancingColor===!0&&Ee.instanceColor===null||Ee.isInstancedMesh&&at.instancingColor===!1&&Ee.instanceColor!==null||at.envMap!==He||Pe.fog===!0&&at.fog!==nt||at.numClippingPlanes!==void 0&&(at.numClippingPlanes!==$e.numPlanes||at.numIntersection!==$e.numIntersection)||at.vertexAlphas!==_t||at.vertexTangents!==Tt||at.morphTargets!==wt||at.morphNormals!==an||at.morphColors!==Gn||at.toneMapping!==sn||me.isWebGL2===!0&&at.morphTargetsCount!==yt)&&(Pt=!0):(Pt=!0,at.__version=Pe.version);let hn=at.currentProgram;Pt===!0&&(hn=Or(Pe,we,Ee));let Di=!1,mr=!1,An=!1;const qt=hn.getUniforms(),fi=at.uniforms;if(de.useProgram(hn.program)&&(Di=!0,mr=!0,An=!0),Pe.id!==N&&(N=Pe.id,mr=!0),Di||R!==ee){qt.setValue(H,"projectionMatrix",ee.projectionMatrix),qt.setValue(H,"viewMatrix",ee.matrixWorldInverse);const Dn=qt.map.cameraPosition;Dn!==void 0&&Dn.setValue(H,se.setFromMatrixPosition(ee.matrixWorld)),me.logarithmicDepthBuffer&&qt.setValue(H,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Pe.isMeshPhongMaterial||Pe.isMeshToonMaterial||Pe.isMeshLambertMaterial||Pe.isMeshBasicMaterial||Pe.isMeshStandardMaterial||Pe.isShaderMaterial)&&qt.setValue(H,"isOrthographic",ee.isOrthographicCamera===!0),R!==ee&&(R=ee,mr=!0,An=!0)}if(Ee.isSkinnedMesh){qt.setOptional(H,Ee,"bindMatrix"),qt.setOptional(H,Ee,"bindMatrixInverse");const Dn=Ee.skeleton;Dn&&(me.floatVertexTextures?(Dn.boneTexture===null&&Dn.computeBoneTexture(),qt.setValue(H,"boneTexture",Dn.boneTexture,q)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Ee.isBatchedMesh&&(qt.setOptional(H,Ee,"batchingTexture"),qt.setValue(H,"batchingTexture",Ee._matricesTexture,q));const $s=Me.morphAttributes;if(($s.position!==void 0||$s.normal!==void 0||$s.color!==void 0&&me.isWebGL2===!0)&&tt.update(Ee,Me,hn),(mr||at.receiveShadow!==Ee.receiveShadow)&&(at.receiveShadow=Ee.receiveShadow,qt.setValue(H,"receiveShadow",Ee.receiveShadow)),Pe.isMeshGouraudMaterial&&Pe.envMap!==null&&(fi.envMap.value=He,fi.flipEnvMap.value=He.isCubeTexture&&He.isRenderTargetTexture===!1?-1:1),mr&&(qt.setValue(H,"toneMappingExposure",w.toneMappingExposure),at.needsLights&&ua(fi,An),nt&&Pe.fog===!0&&Be.refreshFogUniforms(fi,nt),Be.refreshMaterialUniforms(fi,Pe,X,j,re),Vw.upload(H,Wn(at),fi,q)),Pe.isShaderMaterial&&Pe.uniformsNeedUpdate===!0&&(Vw.upload(H,Wn(at),fi,q),Pe.uniformsNeedUpdate=!1),Pe.isSpriteMaterial&&qt.setValue(H,"center",Ee.center),qt.setValue(H,"modelViewMatrix",Ee.modelViewMatrix),qt.setValue(H,"normalMatrix",Ee.normalMatrix),qt.setValue(H,"modelMatrix",Ee.matrixWorld),Pe.isShaderMaterial||Pe.isRawShaderMaterial){const Dn=Pe.uniformsGroups;for(let tr=0,Qr=Dn.length;tr<Qr;tr++)if(me.isWebGL2){const Mo=Dn[tr];Ce.update(Mo,hn),Ce.bind(Mo,hn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return hn}function ua(ee,we){ee.ambientLightColor.needsUpdate=we,ee.lightProbe.needsUpdate=we,ee.directionalLights.needsUpdate=we,ee.directionalLightShadows.needsUpdate=we,ee.pointLights.needsUpdate=we,ee.pointLightShadows.needsUpdate=we,ee.spotLights.needsUpdate=we,ee.spotLightShadows.needsUpdate=we,ee.rectAreaLights.needsUpdate=we,ee.hemisphereLights.needsUpdate=we}function tc(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(ee,we,Me){_e.get(ee.texture).__webglTexture=we,_e.get(ee.depthTexture).__webglTexture=Me;const Pe=_e.get(ee);Pe.__hasExternalTextures=!0,Pe.__hasExternalTextures&&(Pe.__autoAllocateDepthBuffer=Me===void 0,Pe.__autoAllocateDepthBuffer||le.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Pe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ee,we){const Me=_e.get(ee);Me.__webglFramebuffer=we,Me.__useDefaultFramebuffer=we===void 0},this.setRenderTarget=function(ee,we=0,Me=0){C=ee,M=we,A=Me;let Pe=!0,Ee=null,nt=!1,dt=!1;if(ee){const He=_e.get(ee);He.__useDefaultFramebuffer!==void 0?(de.bindFramebuffer(H.FRAMEBUFFER,null),Pe=!1):He.__webglFramebuffer===void 0?q.setupRenderTarget(ee):He.__hasExternalTextures&&q.rebindTextures(ee,_e.get(ee.texture).__webglTexture,_e.get(ee.depthTexture).__webglTexture);const _t=ee.texture;(_t.isData3DTexture||_t.isDataArrayTexture||_t.isCompressedArrayTexture)&&(dt=!0);const Tt=_e.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(Tt[we])?Ee=Tt[we][Me]:Ee=Tt[we],nt=!0):me.isWebGL2&&ee.samples>0&&q.useMultisampledRTT(ee)===!1?Ee=_e.get(ee).__webglMultisampledFramebuffer:Array.isArray(Tt)?Ee=Tt[Me]:Ee=Tt,D.copy(ee.viewport),F.copy(ee.scissor),U=ee.scissorTest}else D.copy(z).multiplyScalar(X).floor(),F.copy(B).multiplyScalar(X).floor(),U=G;if(de.bindFramebuffer(H.FRAMEBUFFER,Ee)&&me.drawBuffers&&Pe&&de.drawBuffers(ee,Ee),de.viewport(D),de.scissor(F),de.setScissorTest(U),nt){const He=_e.get(ee.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+we,He.__webglTexture,Me)}else if(dt){const He=_e.get(ee.texture),_t=we||0;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,He.__webglTexture,Me||0,_t)}N=-1},this.readRenderTargetPixels=function(ee,we,Me,Pe,Ee,nt,dt){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let mt=_e.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&dt!==void 0&&(mt=mt[dt]),mt){de.bindFramebuffer(H.FRAMEBUFFER,mt);try{const He=ee.texture,_t=He.format,Tt=He.type;if(_t!==Gi&&Ie.convert(_t)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=Tt===Xp&&(le.has("EXT_color_buffer_half_float")||me.isWebGL2&&le.has("EXT_color_buffer_float"));if(Tt!==Oa&&Ie.convert(Tt)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Tt===Xo&&(me.isWebGL2||le.has("OES_texture_float")||le.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}we>=0&&we<=ee.width-Pe&&Me>=0&&Me<=ee.height-Ee&&H.readPixels(we,Me,Pe,Ee,Ie.convert(_t),Ie.convert(Tt),nt)}finally{const He=C!==null?_e.get(C).__webglFramebuffer:null;de.bindFramebuffer(H.FRAMEBUFFER,He)}}},this.copyFramebufferToTexture=function(ee,we,Me=0){const Pe=Math.pow(2,-Me),Ee=Math.floor(we.image.width*Pe),nt=Math.floor(we.image.height*Pe);q.setTexture2D(we,0),H.copyTexSubImage2D(H.TEXTURE_2D,Me,0,0,ee.x,ee.y,Ee,nt),de.unbindTexture()},this.copyTextureToTexture=function(ee,we,Me,Pe=0){const Ee=we.image.width,nt=we.image.height,dt=Ie.convert(Me.format),mt=Ie.convert(Me.type);q.setTexture2D(Me,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Me.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Me.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Me.unpackAlignment),we.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,Pe,ee.x,ee.y,Ee,nt,dt,mt,we.image.data):we.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,Pe,ee.x,ee.y,we.mipmaps[0].width,we.mipmaps[0].height,dt,we.mipmaps[0].data):H.texSubImage2D(H.TEXTURE_2D,Pe,ee.x,ee.y,dt,mt,we.image),Pe===0&&Me.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),de.unbindTexture()},this.copyTextureToTexture3D=function(ee,we,Me,Pe,Ee=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const nt=ee.max.x-ee.min.x+1,dt=ee.max.y-ee.min.y+1,mt=ee.max.z-ee.min.z+1,He=Ie.convert(Pe.format),_t=Ie.convert(Pe.type);let Tt;if(Pe.isData3DTexture)q.setTexture3D(Pe,0),Tt=H.TEXTURE_3D;else if(Pe.isDataArrayTexture||Pe.isCompressedArrayTexture)q.setTexture2DArray(Pe,0),Tt=H.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Pe.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Pe.unpackAlignment);const wt=H.getParameter(H.UNPACK_ROW_LENGTH),an=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Gn=H.getParameter(H.UNPACK_SKIP_PIXELS),sn=H.getParameter(H.UNPACK_SKIP_ROWS),yn=H.getParameter(H.UNPACK_SKIP_IMAGES),yt=Me.isCompressedTexture?Me.mipmaps[Ee]:Me.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,yt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,yt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,ee.min.x),H.pixelStorei(H.UNPACK_SKIP_ROWS,ee.min.y),H.pixelStorei(H.UNPACK_SKIP_IMAGES,ee.min.z),Me.isDataTexture||Me.isData3DTexture?H.texSubImage3D(Tt,Ee,we.x,we.y,we.z,nt,dt,mt,He,_t,yt.data):Me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(Tt,Ee,we.x,we.y,we.z,nt,dt,mt,He,yt.data)):H.texSubImage3D(Tt,Ee,we.x,we.y,we.z,nt,dt,mt,He,_t,yt),H.pixelStorei(H.UNPACK_ROW_LENGTH,wt),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,an),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Gn),H.pixelStorei(H.UNPACK_SKIP_ROWS,sn),H.pixelStorei(H.UNPACK_SKIP_IMAGES,yn),Ee===0&&Pe.generateMipmaps&&H.generateMipmap(Tt),de.unbindTexture()},this.initTexture=function(ee){ee.isCubeTexture?q.setTextureCube(ee,0):ee.isData3DTexture?q.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?q.setTexture2DArray(ee,0):q.setTexture2D(ee,0),de.unbindTexture()},this.resetState=function(){M=0,A=0,C=null,de.reset(),oe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Yo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===SE?"display-p3":"srgb",n.unpackColorSpace=cn.workingColorSpace===dy?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Pr?iu:TO}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===iu?Pr:Ba}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class CQ extends UO{}CQ.prototype.isWebGL1Renderer=!0;class CE{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new it(e),this.density=n}clone(){return new CE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class PE{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new it(e),this.near=n,this.far=r}clone(){return new PE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let FO=class extends tn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}};class RE{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=y0,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Bs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Bs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Bs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zi=new te;class dd{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)zi.fromBufferAttribute(this,n),zi.applyMatrix4(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)zi.fromBufferAttribute(this,n),zi.applyNormalMatrix(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)zi.fromBufferAttribute(this,n),zi.transformDirection(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ls(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ls(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ls(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ls(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new dn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new dd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class BO extends Ii{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new it(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vh;const Eg=new te,yh=new te,xh=new te,wh=new Fe,Mg=new Fe,PQ=new Ct,P1=new te,Tg=new te,R1=new te,Rj=new Fe,e2=new Fe,Nj=new Fe;class RQ extends tn{constructor(e=new BO){if(super(),this.isSprite=!0,this.type="Sprite",vh===void 0){vh=new jt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new RE(n,5);vh.setIndex([0,1,2,0,2,3]),vh.setAttribute("position",new dd(r,3,0,!1)),vh.setAttribute("uv",new dd(r,2,3,!1))}this.geometry=vh,this.material=e,this.center=new Fe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yh.setFromMatrixScale(this.matrixWorld),PQ.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&yh.multiplyScalar(-xh.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;N1(P1.set(-.5,-.5,0),xh,o,yh,i,s),N1(Tg.set(.5,-.5,0),xh,o,yh,i,s),N1(R1.set(.5,.5,0),xh,o,yh,i,s),Rj.set(0,0),e2.set(1,0),Nj.set(1,1);let a=e.ray.intersectTriangle(P1,Tg,R1,!1,Eg);if(a===null&&(N1(Tg.set(-.5,.5,0),xh,o,yh,i,s),e2.set(0,1),a=e.ray.intersectTriangle(P1,R1,Tg,!1,Eg),a===null))return;const l=e.ray.origin.distanceTo(Eg);l<e.near||l>e.far||n.push({distance:l,point:Eg.clone(),uv:as.getInterpolation(Eg,P1,Tg,R1,Rj,e2,Nj,new Fe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function N1(t,e,n,r,i,s){wh.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Mg.x=s*wh.x-i*wh.y,Mg.y=i*wh.x+s*wh.y):Mg.copy(wh),t.copy(e),t.x+=Mg.x,t.y+=Mg.y,t.applyMatrix4(PQ)}const I1=new te,Ij=new te;class NQ extends tn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){I1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(I1);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){I1.setFromMatrixPosition(e.matrixWorld),Ij.setFromMatrixPosition(this.matrixWorld);const r=I1.distanceTo(Ij)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const Dj=new te,Lj=new on,Oj=new on,QDe=new te,kj=new Ct,D1=new te,t2=new ai,Uj=new Ct,n2=new Nd;class IQ extends Jn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=yR,this.bindMatrix=new Ct,this.bindMatrixInverse=new Ct,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new oi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,D1),this.boundingBox.expandByPoint(D1)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ai),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,D1),this.boundingSphere.expandByPoint(D1)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),t2.copy(this.boundingSphere),t2.applyMatrix4(i),e.ray.intersectsSphere(t2)!==!1&&(Uj.copy(i).invert(),n2.copy(e.ray).applyMatrix4(Uj),!(this.boundingBox!==null&&n2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,n2)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new on,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===yR?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$Z?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;Lj.fromBufferAttribute(i.attributes.skinIndex,e),Oj.fromBufferAttribute(i.attributes.skinWeight,e),Dj.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=Oj.getComponent(s);if(o!==0){const a=Lj.getComponent(s);kj.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(QDe.copy(Dj).applyMatrix4(kj),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class zO extends tn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Gf extends er{constructor(e=null,n=1,r=1,i,s,o,a,l,c=cr,u=cr,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Fj=new Ct,JDe=new Ct;class NE{constructor(e=[],n=[]){this.uuid=Bs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ct;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:JDe;Fj.multiplyMatrices(a,n[s]),Fj.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new NE(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Gf(n,e,e,Gi,Xo);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new zO),this.bones.push(o),this.boneInverses.push(new Ct().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class hd extends dn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _h=new Ct,Bj=new Ct,L1=[],zj=new oi,eLe=new Ct,Ag=new Jn,Cg=new ai;class DQ extends Jn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new hd(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,eLe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new oi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,_h),zj.copy(e.boundingBox).applyMatrix4(_h),this.boundingBox.union(zj)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ai),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,_h),Cg.copy(e.boundingSphere).applyMatrix4(_h),this.boundingSphere.union(Cg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Ag.geometry=this.geometry,Ag.material=this.material,Ag.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Cg.copy(this.boundingSphere),Cg.applyMatrix4(r),e.ray.intersectsSphere(Cg)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,_h),Bj.multiplyMatrices(r,_h),Ag.matrixWorld=Bj,Ag.raycast(e,L1);for(let o=0,a=L1.length;o<a;o++){const l=L1[o];l.instanceId=s,l.object=this,n.push(l)}L1.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new hd(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function tLe(t,e){return t.z-e.z}function nLe(t,e){return e.z-t.z}class rLe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const bh="batchId",bc=new Ct,jj=new Ct,iLe=new Ct,Vj=new Ct,r2=new gy,O1=new oi,Zu=new ai,Pg=new te,i2=new rLe,bi=new Jn,k1=[];function sLe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class LQ extends Jn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new jt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Gf(n,e,e,Gi,Xo);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:f}=l,d=new c.constructor(r*u),h=new l.constructor(d,u,f);h.setUsage(l.usage),n.setAttribute(a,h)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new dn(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(bh,new dn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(bh))throw new Error(`BatchedMesh: Geometry cannot use attribute "${bh}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===bh)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new oi);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,bc),this.getBoundingBoxAt(i,O1).applyMatrix4(bc),n.union(O1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ai);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,bc),this.getBoundingSphereAt(i,Zu).applyMatrix4(bc),n.union(Zu))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,d=this._active,h=this._matricesTexture,p=this._matricesTexture.image.data;f.push(!0),d.push(!0);const v=this._geometryCount;this._geometryCount++,iLe.toArray(p,v*16),h.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new oi,sphereInitialized:!1,sphere:new ai});const y=this.geometry.getAttribute(bh);for(let g=0;g<i.vertexCount;g++)y.setX(i.vertexStart+g,v);return y.needsUpdate=!0,this.setGeometryAt(v,e),v}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const h in r.attributes){if(h===bh)continue;const p=n.getAttribute(h),v=r.getAttribute(h);sLe(p,v,l);const y=p.itemSize;for(let g=p.count,_=c;g<_;g++){const w=l+g;for(let b=0;b<y;b++)v.setComponent(w,b,0)}v.needsUpdate=!0}if(i){const h=a.indexStart;for(let p=0;p<o.count;p++)s.setX(h+p,l+o.getX(p));for(let p=o.count,v=a.indexCount;p<v;p++)s.setX(h+p,l);s.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const f=this._drawRanges[e],d=n.getAttribute("position");return f.count=i?o.count:d.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,f=c.start+c.count;u<f;u++){let d=u;a&&(d=a.getX(d)),s.expandByPoint(Pg.fromBufferAttribute(l,d))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,O1),O1.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let f=c.start,d=c.start+c.count;f<d;f++){let h=f;a&&(h=a.getX(h)),Pg.fromBufferAttribute(l,h),u=Math.max(u,s.center.distanceToSquared(Pg))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;bi.material=this.material,bi.geometry.index=l.index,bi.geometry.attributes=l.attributes,bi.geometry.boundingBox===null&&(bi.geometry.boundingBox=new oi),bi.geometry.boundingSphere===null&&(bi.geometry.boundingSphere=new ai);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];bi.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,bi.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,bi.geometry.boundingBox),this.getBoundingSphereAt(c,bi.geometry.boundingSphere),bi.raycast(e,k1);for(let f=0,d=k1.length;f<d;f++){const h=k1[f];h.object=this,h.batchId=c,n.push(h)}k1.length=0}bi.material=null,bi.geometry.index=null,bi.geometry.attributes={},bi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._drawRanges,d=this.perObjectFrustumCulled;d&&(Vj.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),r2.setFromProjectionMatrix(Vj,e.isWebGPURenderer?Yp:Yo));let h=0;if(this.sortObjects){jj.copy(this.matrixWorld).invert(),Pg.setFromMatrixPosition(r.matrixWorld).applyMatrix4(jj);for(let y=0,g=l.length;y<g;y++)if(l[y]){this.getMatrixAt(y,bc),this.getBoundingSphereAt(y,Zu).applyMatrix4(bc);let _=!1;if(d&&(_=!r2.intersectsSphere(Zu)),!_){const w=Pg.distanceTo(Zu.center);i2.push(f[y],w)}}const p=i2.list,v=this.customSort;v===null?p.sort(s.transparent?nLe:tLe):v.call(this,p,r);for(let y=0,g=p.length;y<g;y++){const _=p[y];c[h]=_.start*a,u[h]=_.count,h++}i2.reset()}else for(let p=0,v=l.length;p<v;p++)if(l[p]){let y=!1;if(d&&(this.getMatrixAt(p,bc),this.getBoundingSphereAt(p,Zu).applyMatrix4(bc),y=!r2.intersectsSphere(Zu)),!y){const g=f[p];c[h]=g.start*a,u[h]=g.count,h++}}this._multiDrawCount=h,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Qi extends Ii{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new it(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Hj=new te,Wj=new te,Gj=new Ct,s2=new Nd,U1=new ai;class yu extends tn{constructor(e=new jt,n=new Qi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)Hj.fromBufferAttribute(n,i-1),Wj.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Hj.distanceTo(Wj);e.setAttribute("lineDistance",new ht(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),U1.copy(r.boundingSphere),U1.applyMatrix4(i),U1.radius+=s,e.ray.intersectsSphere(U1)===!1)return;Gj.copy(i).invert(),s2.copy(e.ray).applyMatrix4(Gj);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new te,u=new te,f=new te,d=new te,h=this.isLineSegments?2:1,p=r.index,y=r.attributes.position;if(p!==null){const g=Math.max(0,o.start),_=Math.min(p.count,o.start+o.count);for(let w=g,b=_-1;w<b;w+=h){const M=p.getX(w),A=p.getX(w+1);if(c.fromBufferAttribute(y,M),u.fromBufferAttribute(y,A),s2.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const N=e.ray.origin.distanceTo(d);N<e.near||N>e.far||n.push({distance:N,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let w=g,b=_-1;w<b;w+=h){if(c.fromBufferAttribute(y,w),u.fromBufferAttribute(y,w+1),s2.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(d);A<e.near||A>e.far||n.push({distance:A,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const $j=new te,Xj=new te;class Va extends yu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)$j.fromBufferAttribute(n,i),Xj.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+$j.distanceTo(Xj);e.setAttribute("lineDistance",new ht(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class OQ extends yu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class jO extends Ii{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new it(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Yj=new Ct,KR=new Nd,F1=new ai,B1=new te;class kQ extends tn{constructor(e=new jt,n=new jO){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),F1.copy(r.boundingSphere),F1.applyMatrix4(i),F1.radius+=s,e.ray.intersectsSphere(F1)===!1)return;Yj.copy(i).invert(),KR.copy(e.ray).applyMatrix4(Yj);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let p=d,v=h;p<v;p++){const y=c.getX(p);B1.fromBufferAttribute(f,y),Kj(B1,y,l,i,e,n,this)}}else{const d=Math.max(0,o.start),h=Math.min(f.count,o.start+o.count);for(let p=d,v=h;p<v;p++)B1.fromBufferAttribute(f,p),Kj(B1,p,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Kj(t,e,n,r,i,s,o){const a=KR.distanceSqToPoint(t);if(a<n){const l=new te;KR.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class oLe extends er{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Un,this.magFilter=s!==void 0?s:Un,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class aLe extends er{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=cr,this.minFilter=cr,this.generateMipmaps=!1,this.needsUpdate=!0}}class IE extends er{constructor(e,n,r,i,s,o,a,l,c,u,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class lLe extends IE{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Mi}}class cLe extends IE{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Vl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class uLe extends er{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class aa{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],d=r[i+1]-u,h=(o-u)/d;return(i+h)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Fe:new te);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new te,i=[],s=[],o=[],a=new te,l=new Ct;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new te)}s[0]=new te,o[0]=new te;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let h=1;h<=e;h++){if(s[h]=s[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(i[h-1],i[h]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(Qn(i[h-1].dot(i[h]),-1,1));s[h].applyMatrix4(l.makeRotationAxis(a,p))}o[h].crossVectors(i[h],s[h])}if(n===!0){let h=Math.acos(Qn(s[0].dot(s[e]),-1,1));h/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(h=-h);for(let p=1;p<=e;p++)s[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),o[p].crossVectors(i[p],s[p])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class DE extends aa{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Fe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=c-this.aY;l=d*u-h*f+this.aX,c=d*f+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class UQ extends DE{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function VO(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,h=(a-o)/u-(l-o)/(u+f)+(l-a)/f;d*=u,h*=u,i(o,a,d,h)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const z1=new te,o2=new VO,a2=new VO,l2=new VO;class FQ extends aa{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new te){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(z1.subVectors(i[0],i[1]).add(i[0]),c=z1);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(z1.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=z1),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(d),h),y=Math.pow(d.distanceToSquared(u),h);v<1e-4&&(v=1),p<1e-4&&(p=v),y<1e-4&&(y=v),o2.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,p,v,y),a2.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,p,v,y),l2.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,p,v,y)}else this.curveType==="catmullrom"&&(o2.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),a2.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),l2.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(o2.calc(l),a2.calc(l),l2.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new te().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function qj(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function fLe(t,e){const n=1-t;return n*n*e}function dLe(t,e){return 2*(1-t)*t*e}function hLe(t,e){return t*t*e}function pv(t,e,n,r){return fLe(t,e)+dLe(t,n)+hLe(t,r)}function pLe(t,e){const n=1-t;return n*n*n*e}function mLe(t,e){const n=1-t;return 3*n*n*t*e}function gLe(t,e){return 3*(1-t)*t*t*e}function vLe(t,e){return t*t*t*e}function mv(t,e,n,r,i){return pLe(t,e)+mLe(t,n)+gLe(t,r)+vLe(t,i)}class HO extends aa{constructor(e=new Fe,n=new Fe,r=new Fe,i=new Fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Fe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(mv(e,i.x,s.x,o.x,a.x),mv(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class BQ extends aa{constructor(e=new te,n=new te,r=new te,i=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new te){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(mv(e,i.x,s.x,o.x,a.x),mv(e,i.y,s.y,o.y,a.y),mv(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class WO extends aa{constructor(e=new Fe,n=new Fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Fe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Fe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zQ extends aa{constructor(e=new te,n=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new te){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GO extends aa{constructor(e=new Fe,n=new Fe,r=new Fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Fe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(pv(e,i.x,s.x,o.x),pv(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $O extends aa{constructor(e=new te,n=new te,r=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new te){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(pv(e,i.x,s.x,o.x),pv(e,i.y,s.y,o.y),pv(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XO extends aa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Fe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(qj(a,l.x,c.x,u.x,f.x),qj(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Fe().fromArray(i))}return this}}var Ab=Object.freeze({__proto__:null,ArcCurve:UQ,CatmullRomCurve3:FQ,CubicBezierCurve:HO,CubicBezierCurve3:BQ,EllipseCurve:DE,LineCurve:WO,LineCurve3:zQ,QuadraticBezierCurve:GO,QuadraticBezierCurve3:$O,SplineCurve:XO});class jQ extends aa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ab[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Ab[i.type]().fromJSON(i))}return this}}class w0 extends jQ{constructor(e){super(),this.type="Path",this.currentPoint=new Fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new WO(this.currentPoint.clone(),new Fe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new GO(this.currentPoint.clone(),new Fe(e,n),new Fe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new HO(this.currentPoint.clone(),new Fe(e,n),new Fe(r,i),new Fe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new XO(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new DE(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vy extends jt{constructor(e=[new Fe(0,-.5),new Fe(.5,0),new Fe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Qn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,f=new te,d=new Fe,h=new te,p=new te,v=new te;let y=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,h.x=g*1,h.y=-y,h.z=g*0,v.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,h.x=g*1,h.y=-y,h.z=g*0,p.copy(h),h.x+=v.x,h.y+=v.y,h.z+=v.z,h.normalize(),l.push(h.x,h.y,h.z),v.copy(p)}for(let _=0;_<=n;_++){const w=r+_*u*i,b=Math.sin(w),M=Math.cos(w);for(let A=0;A<=e.length-1;A++){f.x=e[A].x*b,f.y=e[A].y,f.z=e[A].x*M,o.push(f.x,f.y,f.z),d.x=_/n,d.y=A/(e.length-1),a.push(d.x,d.y);const C=l[3*A+0]*b,N=l[3*A+1],R=l[3*A+0]*M;c.push(C,N,R)}}for(let _=0;_<n;_++)for(let w=0;w<e.length-1;w++){const b=w+_*e.length,M=b,A=b+e.length,C=b+e.length+1,N=b+1;s.push(M,A,N),s.push(C,N,A)}this.setIndex(s),this.setAttribute("position",new ht(o,3)),this.setAttribute("uv",new ht(a,2)),this.setAttribute("normal",new ht(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vy(e.points,e.segments,e.phiStart,e.phiLength)}}class LE extends vy{constructor(e=1,n=1,r=4,i=8){const s=new w0;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new LE(e.radius,e.length,e.capSegments,e.radialSegments)}}class OE extends jt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new te,u=new Fe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const h=r+f/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new ht(o,3)),this.setAttribute("normal",new ht(a,3)),this.setAttribute("uv",new ht(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Am extends jt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],d=[],h=[];let p=0;const v=[],y=r/2;let g=0;_(),o===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new ht(f,3)),this.setAttribute("normal",new ht(d,3)),this.setAttribute("uv",new ht(h,2));function _(){const b=new te,M=new te;let A=0;const C=(n-e)/r;for(let N=0;N<=s;N++){const R=[],D=N/s,F=D*(n-e)+e;for(let U=0;U<=i;U++){const $=U/i,I=$*l+a,V=Math.sin(I),j=Math.cos(I);M.x=F*V,M.y=-D*r+y,M.z=F*j,f.push(M.x,M.y,M.z),b.set(V,C,j).normalize(),d.push(b.x,b.y,b.z),h.push($,1-D),R.push(p++)}v.push(R)}for(let N=0;N<i;N++)for(let R=0;R<s;R++){const D=v[R][N],F=v[R+1][N],U=v[R+1][N+1],$=v[R][N+1];u.push(D,F,$),u.push(F,U,$),A+=6}c.addGroup(g,A,0),g+=A}function w(b){const M=p,A=new Fe,C=new te;let N=0;const R=b===!0?e:n,D=b===!0?1:-1;for(let U=1;U<=i;U++)f.push(0,y*D,0),d.push(0,D,0),h.push(.5,.5),p++;const F=p;for(let U=0;U<=i;U++){const I=U/i*l+a,V=Math.cos(I),j=Math.sin(I);C.x=R*j,C.y=y*D,C.z=R*V,f.push(C.x,C.y,C.z),d.push(0,D,0),A.x=V*.5+.5,A.y=j*.5*D+.5,h.push(A.x,A.y),p++}for(let U=0;U<i;U++){const $=M+U,I=F+U;b===!0?u.push(I,I+1,$):u.push(I+1,I,$),N+=3}c.addGroup(g,N,b===!0?1:2),g+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Am(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kE extends Am{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new kE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Pu extends jt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new ht(s,3)),this.setAttribute("normal",new ht(s.slice(),3)),this.setAttribute("uv",new ht(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const w=new te,b=new te,M=new te;for(let A=0;A<n.length;A+=3)h(n[A+0],w),h(n[A+1],b),h(n[A+2],M),l(w,b,M,_)}function l(_,w,b,M){const A=M+1,C=[];for(let N=0;N<=A;N++){C[N]=[];const R=_.clone().lerp(b,N/A),D=w.clone().lerp(b,N/A),F=A-N;for(let U=0;U<=F;U++)U===0&&N===A?C[N][U]=R:C[N][U]=R.clone().lerp(D,U/F)}for(let N=0;N<A;N++)for(let R=0;R<2*(A-N)-1;R++){const D=Math.floor(R/2);R%2===0?(d(C[N][D+1]),d(C[N+1][D]),d(C[N][D])):(d(C[N][D+1]),d(C[N+1][D+1]),d(C[N+1][D]))}}function c(_){const w=new te;for(let b=0;b<s.length;b+=3)w.x=s[b+0],w.y=s[b+1],w.z=s[b+2],w.normalize().multiplyScalar(_),s[b+0]=w.x,s[b+1]=w.y,s[b+2]=w.z}function u(){const _=new te;for(let w=0;w<s.length;w+=3){_.x=s[w+0],_.y=s[w+1],_.z=s[w+2];const b=y(_)/2/Math.PI+.5,M=g(_)/Math.PI+.5;o.push(b,1-M)}p(),f()}function f(){for(let _=0;_<o.length;_+=6){const w=o[_+0],b=o[_+2],M=o[_+4],A=Math.max(w,b,M),C=Math.min(w,b,M);A>.9&&C<.1&&(w<.2&&(o[_+0]+=1),b<.2&&(o[_+2]+=1),M<.2&&(o[_+4]+=1))}}function d(_){s.push(_.x,_.y,_.z)}function h(_,w){const b=_*3;w.x=e[b+0],w.y=e[b+1],w.z=e[b+2]}function p(){const _=new te,w=new te,b=new te,M=new te,A=new Fe,C=new Fe,N=new Fe;for(let R=0,D=0;R<s.length;R+=9,D+=6){_.set(s[R+0],s[R+1],s[R+2]),w.set(s[R+3],s[R+4],s[R+5]),b.set(s[R+6],s[R+7],s[R+8]),A.set(o[D+0],o[D+1]),C.set(o[D+2],o[D+3]),N.set(o[D+4],o[D+5]),M.copy(_).add(w).add(b).divideScalar(3);const F=y(M);v(A,D+0,_,F),v(C,D+2,w,F),v(N,D+4,b,F)}}function v(_,w,b,M){M<0&&_.x===1&&(o[w]=_.x-1),b.x===0&&b.z===0&&(o[w]=M/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pu(e.vertices,e.indices,e.radius,e.details)}}class UE extends Pu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new UE(e.radius,e.detail)}}const j1=new te,V1=new te,c2=new te,H1=new as;class VQ extends jt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Hf*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},h=[];for(let p=0;p<l;p+=3){o?(c[0]=o.getX(p),c[1]=o.getX(p+1),c[2]=o.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:v,b:y,c:g}=H1;if(v.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),H1.getNormal(c2),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const w=(_+1)%3,b=f[_],M=f[w],A=H1[u[_]],C=H1[u[w]],N=`${b}_${M}`,R=`${M}_${b}`;R in d&&d[R]?(c2.dot(d[R].normal)<=s&&(h.push(A.x,A.y,A.z),h.push(C.x,C.y,C.z)),d[R]=null):N in d||(d[N]={index0:c[_],index1:c[w],normal:c2.clone()})}}for(const p in d)if(d[p]){const{index0:v,index1:y}=d[p];j1.fromBufferAttribute(a,v),V1.fromBufferAttribute(a,y),h.push(j1.x,j1.y,j1.z),h.push(V1.x,V1.y,V1.z)}this.setAttribute("position",new ht(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class $f extends w0{constructor(e){super(e),this.uuid=Bs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new w0().fromJSON(i))}return this}}const yLe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=HQ(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,d,h;if(r&&(s=SLe(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let p=n;p<i;p+=n)f=t[p],d=t[p+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);h=Math.max(c-a,u-l),h=h!==0?32767/h:0}return _0(s,o,n,a,l,h,0),o}};function HQ(t,e,n,r,i){let s,o;if(i===LLe(t,e,n,r)>0)for(s=e;s<n;s+=r)o=Zj(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=Zj(s,t[s],t[s+1],o);return o&&FE(o,o.next)&&(S0(o),o=o.next),o}function pd(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(FE(n,n.next)||Bn(n.prev,n,n.next)===0)){if(S0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function _0(t,e,n,r,i,s,o){if(!t)return;!o&&s&&CLe(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?wLe(t,r,i,s):xLe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),S0(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=_Le(pd(t),e,n),_0(t,e,n,r,i,s,2)):o===2&&bLe(t,e,n,r,i,s):_0(pd(t),e,n,r,i,s,1);break}}}function xLe(t){const e=t.prev,n=t,r=t.next;if(Bn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,d=i>s?i>o?i:o:s>o?s:o,h=a>l?a>c?a:c:l>c?l:c;let p=r.next;for(;p!==e;){if(p.x>=u&&p.x<=d&&p.y>=f&&p.y<=h&&ep(i,a,s,l,o,c,p.x,p.y)&&Bn(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function wLe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Bn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,d=o.y,h=a<l?a<c?a:c:l<c?l:c,p=u<f?u<d?u:d:f<d?f:d,v=a>l?a>c?a:c:l>c?l:c,y=u>f?u>d?u:d:f>d?f:d,g=qR(h,p,e,n,r),_=qR(v,y,e,n,r);let w=t.prevZ,b=t.nextZ;for(;w&&w.z>=g&&b&&b.z<=_;){if(w.x>=h&&w.x<=v&&w.y>=p&&w.y<=y&&w!==i&&w!==o&&ep(a,u,l,f,c,d,w.x,w.y)&&Bn(w.prev,w,w.next)>=0||(w=w.prevZ,b.x>=h&&b.x<=v&&b.y>=p&&b.y<=y&&b!==i&&b!==o&&ep(a,u,l,f,c,d,b.x,b.y)&&Bn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;w&&w.z>=g;){if(w.x>=h&&w.x<=v&&w.y>=p&&w.y<=y&&w!==i&&w!==o&&ep(a,u,l,f,c,d,w.x,w.y)&&Bn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=_;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=y&&b!==i&&b!==o&&ep(a,u,l,f,c,d,b.x,b.y)&&Bn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function _Le(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!FE(i,s)&&WQ(i,r,r.next,s)&&b0(i,s)&&b0(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),S0(r),S0(r.next),r=t=s),r=r.next}while(r!==t);return pd(r)}function bLe(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&NLe(o,a)){let l=GQ(o,a);o=pd(o,o.next),l=pd(l,l.next),_0(o,e,n,r,i,s,0),_0(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function SLe(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=HQ(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(RLe(c));for(i.sort(ELe),s=0;s<i.length;s++)n=MLe(i[s],n);return n}function ELe(t,e){return t.x-e.x}function MLe(t,e){const n=TLe(t,e);if(!n)return e;const r=GQ(n,t);return pd(r,r.next),pd(n,n.next)}function TLe(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const d=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=s&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&ep(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),b0(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&ALe(i,n)))&&(i=n,u=f)),n=n.next;while(n!==a);return i}function ALe(t,e){return Bn(t.prev,t,e.prev)<0&&Bn(e.next,t,t.next)<0}function CLe(t,e,n,r){let i=t;do i.z===0&&(i.z=qR(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,PLe(i)}function PLe(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function qR(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function RLe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ep(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function NLe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ILe(t,e)&&(b0(t,e)&&b0(e,t)&&DLe(t,e)&&(Bn(t.prev,t,e.prev)||Bn(t,e.prev,e))||FE(t,e)&&Bn(t.prev,t,t.next)>0&&Bn(e.prev,e,e.next)>0)}function Bn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function FE(t,e){return t.x===e.x&&t.y===e.y}function WQ(t,e,n,r){const i=G1(Bn(t,e,n)),s=G1(Bn(t,e,r)),o=G1(Bn(n,r,t)),a=G1(Bn(n,r,e));return!!(i!==s&&o!==a||i===0&&W1(t,n,e)||s===0&&W1(t,r,e)||o===0&&W1(n,t,r)||a===0&&W1(n,e,r))}function W1(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function G1(t){return t>0?1:t<0?-1:0}function ILe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&WQ(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function b0(t,e){return Bn(t.prev,t,t.next)<0?Bn(t,e,t.next)>=0&&Bn(t,t.prev,e)>=0:Bn(t,e,t.prev)<0||Bn(t,t.next,e)<0}function DLe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function GQ(t,e){const n=new ZR(t.i,t.x,t.y),r=new ZR(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Zj(t,e,n,r){const i=new ZR(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ZR(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function LLe(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class ka{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ka.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];Qj(e),Jj(r,e);let o=e.length;n.forEach(Qj);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,Jj(r,n[l]);const a=yLe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Qj(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Jj(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class BE extends jt{constructor(e=new $f([new Fe(.5,.5),new Fe(-.5,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new ht(i,3)),this.setAttribute("uv",new ht(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:h-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:OLe;let w,b=!1,M,A,C,N;g&&(w=g.getSpacedPoints(u),b=!0,d=!1,M=g.computeFrenetFrames(u,!1),A=new te,C=new te,N=new te),d||(y=0,h=0,p=0,v=0);const R=a.extractPoints(c);let D=R.shape;const F=R.holes;if(!ka.isClockWise(D)){D=D.reverse();for(let H=0,he=F.length;H<he;H++){const le=F[H];ka.isClockWise(le)&&(F[H]=le.reverse())}}const $=ka.triangulateShape(D,F),I=D;for(let H=0,he=F.length;H<he;H++){const le=F[H];D=D.concat(le)}function V(H,he,le){return he||console.error("THREE.ExtrudeGeometry: vec does not exist"),H.clone().addScaledVector(he,le)}const j=D.length,X=$.length;function L(H,he,le){let me,de,ke;const _e=H.x-he.x,q=H.y-he.y,K=le.x-H.x,ne=le.y-H.y,be=_e*_e+q*q,pe=_e*ne-q*K;if(Math.abs(pe)>Number.EPSILON){const ve=Math.sqrt(be),Re=Math.sqrt(K*K+ne*ne),Be=he.x-q/ve,Te=he.y+_e/ve,je=le.x-ne/Re,$e=le.y+K/Re,Ae=((je-Be)*ne-($e-Te)*K)/(_e*ne-q*K);me=Be+_e*Ae-H.x,de=Te+q*Ae-H.y;const st=me*me+de*de;if(st<=2)return new Fe(me,de);ke=Math.sqrt(st/2)}else{let ve=!1;_e>Number.EPSILON?K>Number.EPSILON&&(ve=!0):_e<-Number.EPSILON?K<-Number.EPSILON&&(ve=!0):Math.sign(q)===Math.sign(ne)&&(ve=!0),ve?(me=-q,de=_e,ke=Math.sqrt(be)):(me=_e,de=q,ke=Math.sqrt(be/2))}return new Fe(me/ke,de/ke)}const k=[];for(let H=0,he=I.length,le=he-1,me=H+1;H<he;H++,le++,me++)le===he&&(le=0),me===he&&(me=0),k[H]=L(I[H],I[le],I[me]);const z=[];let B,G=k.concat();for(let H=0,he=F.length;H<he;H++){const le=F[H];B=[];for(let me=0,de=le.length,ke=de-1,_e=me+1;me<de;me++,ke++,_e++)ke===de&&(ke=0),_e===de&&(_e=0),B[me]=L(le[me],le[ke],le[_e]);z.push(B),G=G.concat(B)}for(let H=0;H<y;H++){const he=H/y,le=h*Math.cos(he*Math.PI/2),me=p*Math.sin(he*Math.PI/2)+v;for(let de=0,ke=I.length;de<ke;de++){const _e=V(I[de],k[de],me);J(_e.x,_e.y,-le)}for(let de=0,ke=F.length;de<ke;de++){const _e=F[de];B=z[de];for(let q=0,K=_e.length;q<K;q++){const ne=V(_e[q],B[q],me);J(ne.x,ne.y,-le)}}}const Y=p+v;for(let H=0;H<j;H++){const he=d?V(D[H],G[H],Y):D[H];b?(C.copy(M.normals[0]).multiplyScalar(he.x),A.copy(M.binormals[0]).multiplyScalar(he.y),N.copy(w[0]).add(C).add(A),J(N.x,N.y,N.z)):J(he.x,he.y,0)}for(let H=1;H<=u;H++)for(let he=0;he<j;he++){const le=d?V(D[he],G[he],Y):D[he];b?(C.copy(M.normals[H]).multiplyScalar(le.x),A.copy(M.binormals[H]).multiplyScalar(le.y),N.copy(w[H]).add(C).add(A),J(N.x,N.y,N.z)):J(le.x,le.y,f/u*H)}for(let H=y-1;H>=0;H--){const he=H/y,le=h*Math.cos(he*Math.PI/2),me=p*Math.sin(he*Math.PI/2)+v;for(let de=0,ke=I.length;de<ke;de++){const _e=V(I[de],k[de],me);J(_e.x,_e.y,f+le)}for(let de=0,ke=F.length;de<ke;de++){const _e=F[de];B=z[de];for(let q=0,K=_e.length;q<K;q++){const ne=V(_e[q],B[q],me);b?J(ne.x,ne.y+w[u-1].y,w[u-1].x+le):J(ne.x,ne.y,f+le)}}}Z(),Q();function Z(){const H=i.length/3;if(d){let he=0,le=j*he;for(let me=0;me<X;me++){const de=$[me];ae(de[2]+le,de[1]+le,de[0]+le)}he=u+y*2,le=j*he;for(let me=0;me<X;me++){const de=$[me];ae(de[0]+le,de[1]+le,de[2]+le)}}else{for(let he=0;he<X;he++){const le=$[he];ae(le[2],le[1],le[0])}for(let he=0;he<X;he++){const le=$[he];ae(le[0]+j*u,le[1]+j*u,le[2]+j*u)}}r.addGroup(H,i.length/3-H,0)}function Q(){const H=i.length/3;let he=0;re(I,he),he+=I.length;for(let le=0,me=F.length;le<me;le++){const de=F[le];re(de,he),he+=de.length}r.addGroup(H,i.length/3-H,1)}function re(H,he){let le=H.length;for(;--le>=0;){const me=le;let de=le-1;de<0&&(de=H.length-1);for(let ke=0,_e=u+y*2;ke<_e;ke++){const q=j*ke,K=j*(ke+1),ne=he+me+q,be=he+de+q,pe=he+de+K,ve=he+me+K;se(ne,be,pe,ve)}}}function J(H,he,le){l.push(H),l.push(he),l.push(le)}function ae(H,he,le){fe(H),fe(he),fe(le);const me=i.length/3,de=_.generateTopUV(r,i,me-3,me-2,me-1);ue(de[0]),ue(de[1]),ue(de[2])}function se(H,he,le,me){fe(H),fe(he),fe(me),fe(he),fe(le),fe(me);const de=i.length/3,ke=_.generateSideWallUV(r,i,de-6,de-3,de-2,de-1);ue(ke[0]),ue(ke[1]),ue(ke[3]),ue(ke[1]),ue(ke[2]),ue(ke[3])}function fe(H){i.push(l[H*3+0]),i.push(l[H*3+1]),i.push(l[H*3+2])}function ue(H){s.push(H.x),s.push(H.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return kLe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Ab[i.type]().fromJSON(i)),new BE(r,e.options)}}const OLe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Fe(s,o),new Fe(a,l),new Fe(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],p=e[i*3+2],v=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Fe(o,1-l),new Fe(c,1-f),new Fe(d,1-p),new Fe(v,1-g)]:[new Fe(a,1-l),new Fe(u,1-f),new Fe(h,1-p),new Fe(y,1-g)]}};function kLe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class zE extends Pu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new zE(e.radius,e.detail)}}class yy extends Pu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yy(e.radius,e.detail)}}class jE extends jt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const d=(n-e)/i,h=new te,p=new Fe;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const g=s+y/r*o;h.x=f*Math.cos(g),h.y=f*Math.sin(g),l.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(h.x/n+1)/2,p.y=(h.y/n+1)/2,u.push(p.x,p.y)}f+=d}for(let v=0;v<i;v++){const y=v*(r+1);for(let g=0;g<r;g++){const _=g+y,w=_,b=_+r+1,M=_+r+2,A=_+1;a.push(w,b,A),a.push(b,M,A)}}this.setIndex(a),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class VE extends jt{constructor(e=new $f([new Fe(0,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ht(i,3)),this.setAttribute("normal",new ht(s,3)),this.setAttribute("uv",new ht(o,2));function c(u){const f=i.length/3,d=u.extractPoints(n);let h=d.shape;const p=d.holes;ka.isClockWise(h)===!1&&(h=h.reverse());for(let y=0,g=p.length;y<g;y++){const _=p[y];ka.isClockWise(_)===!0&&(p[y]=_.reverse())}const v=ka.triangulateShape(h,p);for(let y=0,g=p.length;y<g;y++){const _=p[y];h=h.concat(_)}for(let y=0,g=h.length;y<g;y++){const _=h[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,g=v.length;y<g;y++){const _=v[y],w=_[0]+f,b=_[1]+f,M=_[2]+f;r.push(w,b,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return ULe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new VE(r,e.curveSegments)}}function ULe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class xy extends jt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new te,d=new te,h=[],p=[],v=[],y=[];for(let g=0;g<=r;g++){const _=[],w=g/r;let b=0;g===0&&o===0?b=.5/n:g===r&&l===Math.PI&&(b=-.5/n);for(let M=0;M<=n;M++){const A=M/n;f.x=-e*Math.cos(i+A*s)*Math.sin(o+w*a),f.y=e*Math.cos(o+w*a),f.z=e*Math.sin(i+A*s)*Math.sin(o+w*a),p.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),y.push(A+b,1-w),_.push(c++)}u.push(_)}for(let g=0;g<r;g++)for(let _=0;_<n;_++){const w=u[g][_+1],b=u[g][_],M=u[g+1][_],A=u[g+1][_+1];(g!==0||o>0)&&h.push(w,b,A),(g!==r-1||l<Math.PI)&&h.push(b,M,A)}this.setIndex(h),this.setAttribute("position",new ht(p,3)),this.setAttribute("normal",new ht(v,3)),this.setAttribute("uv",new ht(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class HE extends Pu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new HE(e.radius,e.detail)}}class WE extends jt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new te,f=new te,d=new te;for(let h=0;h<=r;h++)for(let p=0;p<=i;p++){const v=p/i*s,y=h/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(v),f.y=(e+n*Math.cos(y))*Math.sin(v),f.z=n*Math.sin(y),a.push(f.x,f.y,f.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(p/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let p=1;p<=i;p++){const v=(i+1)*h+p-1,y=(i+1)*(h-1)+p-1,g=(i+1)*(h-1)+p,_=(i+1)*h+p;o.push(v,y,_),o.push(y,g,_)}this.setIndex(o),this.setAttribute("position",new ht(a,3)),this.setAttribute("normal",new ht(l,3)),this.setAttribute("uv",new ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class GE extends jt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new te,d=new te,h=new te,p=new te,v=new te,y=new te,g=new te;for(let w=0;w<=r;++w){const b=w/r*s*Math.PI*2;_(b,s,o,e,h),_(b+.01,s,o,e,p),y.subVectors(p,h),g.addVectors(p,h),v.crossVectors(y,g),g.crossVectors(v,y),v.normalize(),g.normalize();for(let M=0;M<=i;++M){const A=M/i*Math.PI*2,C=-n*Math.cos(A),N=n*Math.sin(A);f.x=h.x+(C*g.x+N*v.x),f.y=h.y+(C*g.y+N*v.y),f.z=h.z+(C*g.z+N*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),u.push(w/r),u.push(M/i)}}for(let w=1;w<=r;w++)for(let b=1;b<=i;b++){const M=(i+1)*(w-1)+(b-1),A=(i+1)*w+(b-1),C=(i+1)*w+b,N=(i+1)*(w-1)+b;a.push(M,A,N),a.push(A,C,N)}this.setIndex(a),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(u,2));function _(w,b,M,A,C){const N=Math.cos(w),R=Math.sin(w),D=M/b*w,F=Math.cos(D);C.x=A*(2+F)*.5*N,C.y=A*(2+F)*R*.5,C.z=A*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class $E extends jt{constructor(e=new $O(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new te,l=new te,c=new Fe;let u=new te;const f=[],d=[],h=[],p=[];v(),this.setIndex(p),this.setAttribute("position",new ht(f,3)),this.setAttribute("normal",new ht(d,3)),this.setAttribute("uv",new ht(h,2));function v(){for(let w=0;w<n;w++)y(w);y(s===!1?n:0),_(),g()}function y(w){u=e.getPointAt(w/n,u);const b=o.normals[w],M=o.binormals[w];for(let A=0;A<=i;A++){const C=A/i*Math.PI*2,N=Math.sin(C),R=-Math.cos(C);l.x=R*b.x+N*M.x,l.y=R*b.y+N*M.y,l.z=R*b.z+N*M.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let w=1;w<=n;w++)for(let b=1;b<=i;b++){const M=(i+1)*(w-1)+(b-1),A=(i+1)*w+(b-1),C=(i+1)*w+b,N=(i+1)*(w-1)+b;p.push(M,A,N),p.push(A,C,N)}}function _(){for(let w=0;w<=n;w++)for(let b=0;b<=i;b++)c.x=w/n,c.y=b/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new $E(new Ab[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class $Q extends jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new te,s=new te;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,h=f.count;for(let p=d,v=d+h;p<v;p+=3)for(let y=0;y<3;y++){const g=a.getX(p+y),_=a.getX(p+(y+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,_),eV(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),eV(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new ht(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function eV(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var tV=Object.freeze({__proto__:null,BoxGeometry:Id,CapsuleGeometry:LE,CircleGeometry:OE,ConeGeometry:kE,CylinderGeometry:Am,DodecahedronGeometry:UE,EdgesGeometry:VQ,ExtrudeGeometry:BE,IcosahedronGeometry:zE,LatheGeometry:vy,OctahedronGeometry:yy,PlaneGeometry:Cu,PolyhedronGeometry:Pu,RingGeometry:jE,ShapeGeometry:VE,SphereGeometry:xy,TetrahedronGeometry:HE,TorusGeometry:WE,TorusKnotGeometry:GE,TubeGeometry:$E,WireframeGeometry:$Q});class XQ extends Ii{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new it(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class YQ extends ia{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class YO extends Ii{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new it(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Au,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KQ extends YO{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new it(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new it(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new it(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class qQ extends Ii{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new it(16777215),this.specular=new it(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Au,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ZQ extends Ii{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new it(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Au,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class QQ extends Ii{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Au,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class JQ extends Ii{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new it(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Au,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eJ extends Ii{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new it(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Au,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tJ extends Qi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Cf(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function nJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rJ(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function QR(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function KO(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function FLe(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let h=0;h<c.times.length;++h){const p=c.times[h]*i;if(!(p<n||p>=r)){f.push(c.times[h]);for(let v=0;v<u;++v)d.push(c.values[h*u+v])}}f.length!==0&&(c.times=Cf(f,c.times.constructor),c.values=Cf(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function BLe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const p=a.times.length-1;let v;if(s<=a.times[0]){const g=u,_=f-u;v=a.values.slice(g,_)}else if(s>=a.times[p]){const g=p*f+u,_=g+f-u;v=a.values.slice(g,_)}else{const g=a.createInterpolant(),_=u,w=f-u;g.evaluate(s),v=g.resultBuffer.slice(_,w)}l==="quaternion"&&new Ci().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let g=0;g<y;++g){const _=g*h+d;if(l==="quaternion")Ci.multiplyQuaternionsFlat(c.values,_,v,0,c.values,_);else{const w=h-d*2;for(let b=0;b<w;++b)c.values[_+b]-=v[b]}}}return t.blendMode=MO,t}const zLe={convertArray:Cf,isTypedArray:nJ,getKeyframeOrder:rJ,sortedArray:QR,flattenJSON:KO,subclip:FLe,makeClipAdditive:BLe};class wy{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class iJ extends wy{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mf,endingEnd:Mf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Tf:s=e,a=2*n-r;break;case p0:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Tf:o=e,l=2*r-n;break;case p0:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(r-n)/(i-n),v=p*p,y=v*p,g=-d*y+2*d*v-d*p,_=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*p+1,w=(-1-h)*y+(1.5+h)*v+.5*p,b=h*y-h*v;for(let M=0;M!==a;++M)s[M]=g*o[u+M]+_*o[c+M]+w*o[l+M]+b*o[f+M];return s}}class qO extends wy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),f=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*f+o[l+d]*u;return s}}class sJ extends wy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class la{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Cf(n,this.TimeBufferType),this.values=Cf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Cf(e.times,Array),values:Cf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new sJ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new qO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new iJ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case d0:n=this.InterpolantFactoryMethodDiscrete;break;case h0:n=this.InterpolantFactoryMethodLinear;break;case jw:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return d0;case this.InterpolantFactoryMethodLinear:return h0;case this.InterpolantFactoryMethodSmooth:return jw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&nJ(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===jw,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,h=f+r;for(let p=0;p!==r;++p){const v=n[f+p];if(v!==n[d+p]||v!==n[h+p]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let h=0;h!==r;++h)n[d+h]=n[f+h]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}la.prototype.TimeBufferType=Float32Array;la.prototype.ValueBufferType=Float32Array;la.prototype.DefaultInterpolation=h0;class Dd extends la{}Dd.prototype.ValueTypeName="bool";Dd.prototype.ValueBufferType=Array;Dd.prototype.DefaultInterpolation=d0;Dd.prototype.InterpolantFactoryMethodLinear=void 0;Dd.prototype.InterpolantFactoryMethodSmooth=void 0;class ZO extends la{}ZO.prototype.ValueTypeName="color";class E0 extends la{}E0.prototype.ValueTypeName="number";class oJ extends wy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Ci.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Cm extends la{InterpolantFactoryMethodLinear(e){return new oJ(this.times,this.values,this.getValueSize(),e)}}Cm.prototype.ValueTypeName="quaternion";Cm.prototype.DefaultInterpolation=h0;Cm.prototype.InterpolantFactoryMethodSmooth=void 0;class Ld extends la{}Ld.prototype.ValueTypeName="string";Ld.prototype.ValueBufferType=Array;Ld.prototype.DefaultInterpolation=d0;Ld.prototype.InterpolantFactoryMethodLinear=void 0;Ld.prototype.InterpolantFactoryMethodSmooth=void 0;class M0 extends la{}M0.prototype.ValueTypeName="vector";class T0{constructor(e,n=-1,r,i=bE){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Bs(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(VLe(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(la.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=rJ(l);l=QR(l,1,u),c=QR(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new E0(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,p,v){if(h.length!==0){const y=[],g=[];KO(h,y,g,p),y.length!==0&&v.push(new f(d,y,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let v=0;v<d[p].morphTargets.length;v++)h[d[p].morphTargets[v]]=-1;for(const v in h){const y=[],g=[];for(let _=0;_!==d[p].morphTargets.length;++_){const w=d[p];y.push(w.time),g.push(w.morphTarget===v?1:0)}i.push(new E0(".morphTargetInfluence["+v+"]",y,g))}l=h.length*o}else{const h=".bones["+n[f].name+"]";r(M0,h+".position",d,"pos",i),r(Cm,h+".quaternion",d,"rot",i),r(M0,h+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function jLe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return E0;case"vector":case"vector2":case"vector3":case"vector4":return M0;case"color":return ZO;case"quaternion":return Cm;case"bool":case"boolean":return Dd;case"string":return Ld}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function VLe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=jLe(t.type);if(t.times===void 0){const n=[],r=[];KO(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const wl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class QO{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const h=c[f],p=c[f+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const aJ=new QO;class gs{constructor(e){this.manager=e!==void 0?e:aJ,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}gs.DEFAULT_MATERIAL_NAME="__DEFAULT";const ol={};class HLe extends Error{constructor(e,n){super(e),this.response=n}}class Hl extends gs{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=wl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ol[e]!==void 0){ol[e].push({onLoad:n,onProgress:r,onError:i});return}ol[e]=[],ol[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ol[e],f=c.body.getReader(),d=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),h=d?parseInt(d):0,p=h!==0;let v=0;const y=new ReadableStream({start(g){_();function _(){f.read().then(({done:w,value:b})=>{if(w)g.close();else{v+=b.byteLength;const M=new ProgressEvent("progress",{lengthComputable:p,loaded:v,total:h});for(let A=0,C=u.length;A<C;A++){const N=u[A];N.onProgress&&N.onProgress(M)}g.enqueue(b),_()}})}}});return new Response(y)}else throw new HLe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return c.arrayBuffer().then(p=>h.decode(p))}}}).then(c=>{wl.add(e,c);const u=ol[e];delete ol[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=ol[e];if(u===void 0)throw this.manager.itemError(e),c;delete ol[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class WLe extends gs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Hl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=T0.parse(e[r]);n.push(i)}return n}}class GLe extends gs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new IE,l=new Hl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const h=s.parse(d,!0);o[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(a.minFilter=Un),a.image=o,a.format=h.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let p=0;p<h;p++){o[p]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)o[p].mipmaps.push(d.mipmaps[p*d.mipmapCount+v]),o[p].format=d.format,o[p].width=d.width,o[p].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Un),a.format=d.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class A0 extends gs{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=x0("img");function l(){u(),wl.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class $Le extends gs{constructor(e){super(e)}load(e,n,r,i){const s=new my;s.colorSpace=Pr;const o=new A0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class XLe extends gs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Gf,a=new Hl(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Mi,o.wrapT=c.wrapT!==void 0?c.wrapT:Mi,o.magFilter=c.magFilter!==void 0?c.magFilter:Un,o.minFilter=c.minFilter!==void 0?c.minFilter:Un,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=vu),c.mipmapCount===1&&(o.minFilter=Un),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class YLe extends gs{constructor(e){super(e)}load(e,n,r,i){const s=new er,o=new A0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Ru extends tn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new it(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class lJ extends Ru{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new it(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const u2=new Ct,nV=new te,rV=new te;class JO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fe(512,512),this.map=null,this.mapPass=null,this.matrix=new Ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gy,this._frameExtents=new Fe(1,1),this._viewportCount=1,this._viewports=[new on(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;nV.setFromMatrixPosition(e.matrixWorld),n.position.copy(nV),rV.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(rV),n.updateMatrixWorld(),u2.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u2),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(u2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class KLe extends JO{constructor(){super(new fr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Kp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class cJ extends Ru{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new KLe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const iV=new Ct,Rg=new te,f2=new te;class qLe extends JO{constructor(){super(new fr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fe(4,2),this._viewportCount=6,this._viewports=[new on(2,1,1,1),new on(0,1,1,1),new on(3,1,1,1),new on(1,1,1,1),new on(3,0,1,1),new on(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Rg.setFromMatrixPosition(e.matrixWorld),r.position.copy(Rg),f2.copy(r.position),f2.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(f2),r.updateMatrixWorld(),i.makeTranslation(-Rg.x,-Rg.y,-Rg.z),iV.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iV)}}class uJ extends Ru{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new qLe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ZLe extends JO{constructor(){super(new su(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class fJ extends Ru{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.shadow=new ZLe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dJ extends Ru{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class hJ extends Ru{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class pJ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class mJ extends Ru{constructor(e=new pJ,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class XE extends gs{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Hl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=XE.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new it().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new it().setHex(o.value);break;case"v2":i.uniforms[s].value=new Fe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new te().fromArray(o.value);break;case"v4":i.uniforms[s].value=new on().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Ut().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ct().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Fe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Fe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:XQ,SpriteMaterial:BO,RawShaderMaterial:YQ,ShaderMaterial:ia,PointsMaterial:jO,MeshPhysicalMaterial:KQ,MeshStandardMaterial:YO,MeshPhongMaterial:qQ,MeshToonMaterial:ZQ,MeshNormalMaterial:QQ,MeshLambertMaterial:JQ,MeshDepthMaterial:TE,MeshDistanceMaterial:AE,MeshBasicMaterial:Ql,MeshMatcapMaterial:eJ,LineDashedMaterial:tJ,LineBasicMaterial:Qi,Material:Ii};return new n[e]}}class JR{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class e3 extends jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class gJ extends gs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Hl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,p){if(n[p]!==void 0)return n[p];const y=h.interleavedBuffers[p],g=s(h,y.buffer),_=qh(y.type,g),w=new RE(_,y.stride);return w.uuid=y.uuid,n[p]=w,w}function s(h,p){if(r[p]!==void 0)return r[p];const y=h.arrayBuffers[p],g=new Uint32Array(y).buffer;return r[p]=g,g}const o=e.isInstancedBufferGeometry?new e3:new jt,a=e.data.index;if(a!==void 0){const h=qh(a.type,a.array);o.setIndex(new dn(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let v;if(p.isInterleavedBufferAttribute){const y=i(e.data,p.data);v=new dd(y,p.itemSize,p.offset,p.normalized)}else{const y=qh(p.type,p.array),g=p.isInstancedBufferAttribute?hd:dn;v=new g(y,p.itemSize,p.normalized)}p.name!==void 0&&(v.name=p.name),p.usage!==void 0&&v.setUsage(p.usage),o.setAttribute(h,v)}const c=e.data.morphAttributes;if(c)for(const h in c){const p=c[h],v=[];for(let y=0,g=p.length;y<g;y++){const _=p[y];let w;if(_.isInterleavedBufferAttribute){const b=i(e.data,_.data);w=new dd(b,_.itemSize,_.offset,_.normalized)}else{const b=qh(_.type,_.array);w=new dn(b,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),v.push(w)}o.morphAttributes[h]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,p=f.length;h!==p;++h){const v=f[h];o.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const h=new te;d.center!==void 0&&h.fromArray(d.center),o.boundingSphere=new ai(h,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class QLe extends gs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?JR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Hl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?JR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Hl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new $f().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new NE().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new gJ;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in tV?a=tV[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new XE;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=T0.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:qh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new QO(n);s=new A0(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const h=[];for(let p=0,v=d.length;p<v;p++){const y=d[p],g=a(y);g!==null&&(g instanceof HTMLImageElement?h.push(g):h.push(new Gf(g.data,g.width,g.height)))}i[f.uuid]=new Af(h)}else{const h=a(f.url);i[f.uuid]=new Af(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:qh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new A0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f],p=await s(h);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new Gf(p.data,p.width,p.height)))}r[l.uuid]=new Af(u)}else{const u=await s(l.url);r[l.uuid]=new Af(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new my,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Gf:u=new er,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,JLe)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],sV),u.wrapT=r(a.wrap[1],sV)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,oV)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,oV)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let p=0,v=d.length;p<v;p++){const y=d[p];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),h.push(r[y])}return h}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":o=new FO,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new it(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new PE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new CE(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new fr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new su(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new dJ(e.color,e.intensity);break;case"DirectionalLight":o=new fJ(e.color,e.intensity);break;case"PointLight":o=new uJ(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new hJ(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new cJ(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new lJ(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new mJ().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new IQ(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Jn(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const d=e.count,h=e.instanceMatrix,p=e.instanceColor;o=new DQ(u,f,d),o.instanceMatrix=new hd(new Float32Array(h.array),16),p!==void 0&&(o.instanceColor=new hd(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":u=a(e.geometry),f=l(e.material),o=new LQ(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(v=>{const y=new oi;y.min.fromArray(v.boxMin),y.max.fromArray(v.boxMax);const g=new ai;return g.radius=v.sphereRadius,g.center.fromArray(v.sphereCenter),{boxInitialized:v.boxInitialized,box:y,sphereInitialized:v.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new NQ;break;case"Line":o=new yu(a(e.geometry),l(e.material));break;case"LineLoop":o=new OQ(a(e.geometry),l(e.material));break;case"LineSegments":o=new Va(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new kQ(a(e.geometry),l(e.material));break;case"Sprite":o=new RQ(l(e.material));break;case"Group":o=new Jh;break;case"Bone":o=new zO;break;default:o=new tn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)o.add(this.parseObject(d[h],n,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const p=d[h];o.animations.push(s[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const p=d[h],v=o.getObjectByProperty("uuid",p.object);v!==void 0&&o.addLevel(v,p.distance,p.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const JLe={UVMapping:wE,CubeReflectionMapping:Vl,CubeRefractionMapping:gu,EquirectangularReflectionMapping:l0,EquirectangularRefractionMapping:c0,CubeUVReflectionMapping:Mm},sV={RepeatWrapping:u0,ClampToEdgeWrapping:Mi,MirroredRepeatWrapping:f0},oV={NearestFilter:cr,NearestMipmapNearestFilter:Eb,NearestMipmapLinearFilter:fv,LinearFilter:Un,LinearMipmapNearestFilter:vO,LinearMipmapLinearFilter:vu};class eOe extends gs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wl.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return wl.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),wl.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});wl.add(e,l),s.manager.itemStart(e)}}let $1;class t3{static getContext(){return $1===void 0&&($1=new(window.AudioContext||window.webkitAudioContext)),$1}static setContext(e){$1=e}}class tOe extends gs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Hl(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);t3.getContext().decodeAudioData(c,function(f){n(f)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const aV=new Ct,lV=new Ct,Qu=new Ct;class nOe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Qu.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Hf*n.fov*.5)/n.zoom;let a,l;lV.elements[12]=-i,aV.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Qu.elements[0]=2*n.near/(l-a),Qu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Qu),a=-o*n.aspect-s,l=o*n.aspect-s,Qu.elements[0]=2*n.near/(l-a),Qu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Qu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(lV),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(aV)}}class n3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=cV(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=cV();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function cV(){return(typeof performance>"u"?Date:performance).now()}const Ju=new te,uV=new Ci,rOe=new te,ef=new te;class iOe extends tn{constructor(){super(),this.type="AudioListener",this.context=t3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new n3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ju,uV,rOe),ef.set(0,0,-1).applyQuaternion(uV),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ju.x,i),n.positionY.linearRampToValueAtTime(Ju.y,i),n.positionZ.linearRampToValueAtTime(Ju.z,i),n.forwardX.linearRampToValueAtTime(ef.x,i),n.forwardY.linearRampToValueAtTime(ef.y,i),n.forwardZ.linearRampToValueAtTime(ef.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Ju.x,Ju.y,Ju.z),n.setOrientation(ef.x,ef.y,ef.z,r.x,r.y,r.z)}}class vJ extends tn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const tf=new te,fV=new Ci,sOe=new te,nf=new te;class oOe extends vJ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(tf,fV,sOe),nf.set(0,0,1).applyQuaternion(fV);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(tf.x,r),n.positionY.linearRampToValueAtTime(tf.y,r),n.positionZ.linearRampToValueAtTime(tf.z,r),n.orientationX.linearRampToValueAtTime(nf.x,r),n.orientationY.linearRampToValueAtTime(nf.y,r),n.orientationZ.linearRampToValueAtTime(nf.z,r)}else n.setPosition(tf.x,tf.y,tf.z),n.setOrientation(nf.x,nf.y,nf.z)}}class aOe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class yJ{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Ci.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Ci.multiplyQuaternionsFlat(e,o,e,n,e,r),Ci.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const r3="\\[\\]\\.:\\/",lOe=new RegExp("["+r3+"]","g"),i3="[^"+r3+"]",cOe="[^"+r3.replace("\\.","")+"]",uOe=/((?:WC+[\/:])*)/.source.replace("WC",i3),fOe=/(WCOD+)?/.source.replace("WCOD",cOe),dOe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",i3),hOe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",i3),pOe=new RegExp("^"+uOe+fOe+dOe+hOe+"$"),mOe=["material","materials","bones","map"];class gOe{constructor(e,n,r){const i=r||Zt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Zt{constructor(e,n,r){this.path=n,this.parsedPath=r||Zt.parseTrackName(n),this.node=Zt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Zt.Composite(e,n,r):new Zt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(lOe,"")}static parseTrackName(e){const n=pOe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);mOe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Zt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Zt.Composite=gOe;Zt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Zt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Zt.prototype.GetterByBindingType=[Zt.prototype._getValue_direct,Zt.prototype._getValue_array,Zt.prototype._getValue_arrayElement,Zt.prototype._getValue_toArray];Zt.prototype.SetterByBindingTypeAndVersioning=[[Zt.prototype._setValue_direct,Zt.prototype._setValue_direct_setNeedsUpdate,Zt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_array,Zt.prototype._setValue_array_setNeedsUpdate,Zt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_arrayElement,Zt.prototype._setValue_arrayElement_setNeedsUpdate,Zt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_fromArray,Zt.prototype._setValue_fromArray_setNeedsUpdate,Zt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class vOe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Bs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],h=d.uuid;let p=n[h];if(p===void 0){p=l++,n[h]=p,e.push(d);for(let v=0,y=o;v!==y;++v)s[v].push(new Zt(d,r[v],i[v]))}else if(p<c){a=e[p];const v=--c,y=e[v];n[y.uuid]=p,e[p]=y,n[h]=v,e[v]=d;for(let g=0,_=o;g!==_;++g){const w=s[g],b=w[v];let M=w[p];w[p]=b,M===void 0&&(M=new Zt(d,r[g],i[g])),w[v]=M}}else e[p]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const f=s++,d=e[f];n[d.uuid]=u,e[u]=d,n[c]=f,e[f]=l;for(let h=0,p=i;h!==p;++h){const v=r[h],y=v[f],g=v[u];v[u]=y,v[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<s){const d=--s,h=e[d],p=--o,v=e[p];n[h.uuid]=f,e[f]=h,n[v.uuid]=d,e[d]=v,e.pop();for(let y=0,g=i;y!==g;++y){const _=r[y],w=_[d],b=_[p];_[f]=w,_[d]=b,_.pop()}}else{const d=--o,h=e[d];d>0&&(n[h.uuid]=f),e[f]=h,e.pop();for(let p=0,v=i;p!==v;++p){const y=r[p];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let d=u,h=l.length;d!==h;++d){const p=l[d];f[d]=new Zt(p,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class xJ{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Mf,endingEnd:Mf};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nQ,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case MO:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case bE:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===rQ;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===tQ){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Tf,i.endingEnd=Tf):(e?i.endingStart=this.zeroSlopeAtStart?Tf:Mf:i.endingStart=p0,n?i.endingEnd=this.zeroSlopeAtEnd?Tf:Mf:i.endingEnd=p0)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const yOe=new Float32Array(1);class xOe extends Zl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const d=i[f],h=d.name;let p=u[h];if(p!==void 0)++p.referenceCount,o[f]=p;else{if(p=o[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const v=n&&n._propertyBindings[f].binding.parsedPath;p=new yJ(Zt.create(r,h,v),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),o[f]=p}a[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new qO(new Float32Array(2),new Float32Array(2),1,yOe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?T0.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=bE),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new xJ(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?T0.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class s3{constructor(e){this.value=e}clone(){return new s3(this.value.clone===void 0?this.value:this.value.clone())}}let wOe=0;class _Oe extends Zl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:wOe++}),this.name="",this.usage=y0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class bOe extends RE{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class SOe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class wJ{constructor(e,n,r=0,i=1/0){this.ray=new Nd(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Wf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return eN(e,this,r,n),r.sort(dV),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)eN(e[i],this,r,n);return r.sort(dV),r}}function dV(t,e){return t.distance-e.distance}function eN(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)eN(i[s],e,n,!0)}}class Cb{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Qn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class EOe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const hV=new Fe;class MOe{constructor(e=new Fe(1/0,1/0),n=new Fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=hV.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hV).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const pV=new te,X1=new te;class TOe{constructor(e=new te,n=new te){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){pV.subVectors(e,this.start),X1.subVectors(this.end,this.start);const r=X1.dot(X1);let s=X1.dot(pV)/r;return n&&(s=Qn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const mV=new te;class AOe extends tn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new jt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new ht(i,3));const s=new Qi({fog:!1,toneMapped:!1});this.cone=new Va(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),mV.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(mV),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Sc=new te,Y1=new Ct,d2=new Ct;class COe extends Va{constructor(e){const n=_J(e),r=new jt,i=[],s=[],o=new it(0,0,1),a=new it(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ht(i,3)),r.setAttribute("color",new ht(s,3));const l=new Qi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");d2.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Y1.multiplyMatrices(d2,a.matrixWorld),Sc.setFromMatrixPosition(Y1),i.setXYZ(o,Sc.x,Sc.y,Sc.z),Y1.multiplyMatrices(d2,a.parent.matrixWorld),Sc.setFromMatrixPosition(Y1),i.setXYZ(o+1,Sc.x,Sc.y,Sc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function _J(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,_J(t.children[n]));return e}class POe extends Jn{constructor(e,n,r){const i=new xy(n,4,2),s=new Ql({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ROe=new te,gV=new it,vV=new it;class NOe extends tn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new yy(n);i.rotateY(Math.PI*.5),this.material=new Ql({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new dn(o,3)),this.add(new Jn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");gV.copy(this.light.color),vV.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?gV:vV;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ROe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class IOe extends Va{constructor(e=10,n=10,r=4473924,i=8947848){r=new it(r),i=new it(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let d=0,h=0,p=-a;d<=n;d++,p+=o){l.push(-a,0,p,a,0,p),l.push(p,0,-a,p,0,a);const v=d===s?r:i;v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3}const u=new jt;u.setAttribute("position",new ht(l,3)),u.setAttribute("color",new ht(c,3));const f=new Qi({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class DOe extends Va{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new it(s),o=new it(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),h=Math.sin(d)*e,p=Math.cos(d)*e;a.push(0,0,0),a.push(h,0,p);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const d=f&1?s:o,h=e-e/r*f;for(let p=0;p<i;p++){let v=p/i*(Math.PI*2),y=Math.sin(v)*h,g=Math.cos(v)*h;a.push(y,0,g),l.push(d.r,d.g,d.b),v=(p+1)/i*(Math.PI*2),y=Math.sin(v)*h,g=Math.cos(v)*h,a.push(y,0,g),l.push(d.r,d.g,d.b)}}const c=new jt;c.setAttribute("position",new ht(a,3)),c.setAttribute("color",new ht(l,3));const u=new Qi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const yV=new te,K1=new te,xV=new te;class LOe extends tn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new jt;i.setAttribute("position",new ht([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Qi({fog:!1,toneMapped:!1});this.lightPlane=new yu(i,s),this.add(this.lightPlane),i=new jt,i.setAttribute("position",new ht([0,0,0,0,0,1],3)),this.targetLine=new yu(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),yV.setFromMatrixPosition(this.light.matrixWorld),K1.setFromMatrixPosition(this.light.target.matrixWorld),xV.subVectors(K1,yV),this.lightPlane.lookAt(K1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(K1),this.targetLine.scale.z=xV.length()}}const q1=new te,Xn=new py;class OOe extends Va{constructor(e){const n=new jt,r=new Qi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(p,v){l(p),l(v)}function l(p){i.push(0,0,0),s.push(0,0,0),o[p]===void 0&&(o[p]=[]),o[p].push(i.length/3-1)}n.setAttribute("position",new ht(i,3)),n.setAttribute("color",new ht(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new it(16755200),u=new it(16711680),f=new it(43775),d=new it(16777215),h=new it(3355443);this.setColors(c,u,f,d,h)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Xn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),sr("c",n,e,Xn,0,0,-1),sr("t",n,e,Xn,0,0,1),sr("n1",n,e,Xn,-r,-i,-1),sr("n2",n,e,Xn,r,-i,-1),sr("n3",n,e,Xn,-r,i,-1),sr("n4",n,e,Xn,r,i,-1),sr("f1",n,e,Xn,-r,-i,1),sr("f2",n,e,Xn,r,-i,1),sr("f3",n,e,Xn,-r,i,1),sr("f4",n,e,Xn,r,i,1),sr("u1",n,e,Xn,r*.7,i*1.1,-1),sr("u2",n,e,Xn,-r*.7,i*1.1,-1),sr("u3",n,e,Xn,0,i*2,-1),sr("cf1",n,e,Xn,-r,0,1),sr("cf2",n,e,Xn,r,0,1),sr("cf3",n,e,Xn,0,-i,1),sr("cf4",n,e,Xn,0,i,1),sr("cn1",n,e,Xn,-r,0,-1),sr("cn2",n,e,Xn,r,0,-1),sr("cn3",n,e,Xn,0,-i,-1),sr("cn4",n,e,Xn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function sr(t,e,n,r,i,s,o){q1.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],q1.x,q1.y,q1.z)}}const Z1=new oi;class kOe extends Va{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new jt;s.setIndex(new dn(r,1)),s.setAttribute("position",new dn(i,3)),super(s,new Qi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Z1.setFromObject(this.object),Z1.isEmpty())return;const n=Z1.min,r=Z1.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UOe extends Va{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new jt;s.setIndex(new dn(r,1)),s.setAttribute("position",new ht(i,3)),super(s,new Qi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class FOe extends yu{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new jt;o.setAttribute("position",new ht(s,3)),o.computeBoundingSphere(),super(o,new Qi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new jt;l.setAttribute("position",new ht(a,3)),l.computeBoundingSphere(),this.add(new Jn(l,new Ql({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const wV=new te;let Q1,h2;class BOe extends tn{constructor(e=new te(0,0,1),n=new te(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Q1===void 0&&(Q1=new jt,Q1.setAttribute("position",new ht([0,0,0,0,1,0],3)),h2=new Am(0,.5,1,5,1),h2.translate(0,-.5,0)),this.position.copy(n),this.line=new yu(Q1,new Qi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Jn(h2,new Ql({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{wV.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(wV,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class zOe extends Va{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new jt;i.setAttribute("position",new ht(n,3)),i.setAttribute("color",new ht(r,3));const s=new Qi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new it,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jOe{constructor(){this.type="ShapePath",this.color=new it,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new w0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const _=[];for(let w=0,b=g.length;w<b;w++){const M=g[w],A=new $f;A.curves=M.curves,_.push(A)}return _}function r(g,_){const w=_.length;let b=!1;for(let M=w-1,A=0;A<w;M=A++){let C=_[M],N=_[A],R=N.x-C.x,D=N.y-C.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(C=_[A],R=-R,N=_[M],D=-D),g.y<C.y||g.y>N.y)continue;if(g.y===C.y){if(g.x===C.x)return!0}else{const F=D*(g.x-C.x)-R*(g.y-C.y);if(F===0)return!0;if(F<0)continue;b=!b}}else{if(g.y!==C.y)continue;if(N.x<=g.x&&g.x<=C.x||C.x<=g.x&&g.x<=N.x)return!0}}return b}const i=ka.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new $f,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],d=[];let h=[],p=0,v;d[p]=void 0,h[p]=[];for(let g=0,_=s.length;g<_;g++)a=s[g],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&d[p]&&p++,d[p]={s:new $f,p:v},d[p].s.curves=a.curves,u&&p++,h[p]=[]):h[p].push({h:a,p:v[0]});if(!d[0])return n(s);if(d.length>1){let g=!1,_=0;for(let w=0,b=d.length;w<b;w++)f[w]=[];for(let w=0,b=d.length;w<b;w++){const M=h[w];for(let A=0;A<M.length;A++){const C=M[A];let N=!0;for(let R=0;R<d.length;R++)r(C.p,d[R].p)&&(w!==R&&_++,N?(N=!1,f[R].push(C)):g=!0);N&&f[w].push(C)}}_>0&&g===!1&&(h=f)}let y;for(let g=0,_=d.length;g<_;g++){l=d[g].s,c.push(l),y=h[g];for(let w=0,b=y.length;w<b;w++)l.holes.push(y[w].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:uy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=uy);const VOe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:gO,AddEquation:Oc,AddOperation:zZ,AdditiveAnimationBlendMode:MO,AdditiveBlending:_b,AgXToneMapping:GZ,AlphaFormat:KZ,AlwaysCompare:dQ,AlwaysDepth:DZ,AlwaysStencilFunc:WR,AmbientLight:dJ,AnimationAction:xJ,AnimationClip:T0,AnimationLoader:WLe,AnimationMixer:xOe,AnimationObjectGroup:vOe,AnimationUtils:zLe,ArcCurve:UQ,ArrayCamera:AQ,ArrowHelper:BOe,AttachedBindMode:yR,Audio:vJ,AudioAnalyser:aOe,AudioContext:t3,AudioListener:iOe,AudioLoader:tOe,AxesHelper:zOe,BackSide:Ki,BasicDepthPacking:iQ,BasicShadowMap:mZ,BatchedMesh:LQ,Bone:zO,BooleanKeyframeTrack:Dd,Box2:MOe,Box3:oi,Box3Helper:UOe,BoxGeometry:Id,BoxHelper:kOe,BufferAttribute:dn,BufferGeometry:jt,BufferGeometryLoader:gJ,ByteType:XZ,Cache:wl,Camera:py,CameraHelper:OOe,CanvasTexture:uLe,CapsuleGeometry:LE,CatmullRomCurve3:FQ,CineonToneMapping:HZ,CircleGeometry:OE,ClampToEdgeWrapping:Mi,Clock:n3,Color:it,ColorKeyframeTrack:ZO,ColorManagement:cn,CompressedArrayTexture:lLe,CompressedCubeTexture:cLe,CompressedTexture:IE,CompressedTextureLoader:GLe,ConeGeometry:kE,ConstantAlphaFactor:RZ,ConstantColorFactor:CZ,CubeCamera:yQ,CubeReflectionMapping:Vl,CubeRefractionMapping:gu,CubeTexture:my,CubeTextureLoader:$Le,CubeUVReflectionMapping:Mm,CubicBezierCurve:HO,CubicBezierCurve3:BQ,CubicInterpolant:iJ,CullFaceBack:hR,CullFaceFront:pZ,CullFaceFrontBack:Z2e,CullFaceNone:hZ,Curve:aa,CurvePath:jQ,CustomBlending:gZ,CustomToneMapping:WZ,CylinderGeometry:Am,Cylindrical:EOe,Data3DTexture:NO,DataArrayTexture:EE,DataTexture:Gf,DataTextureLoader:XLe,DataUtils:aPe,DecrementStencilOp:cCe,DecrementWrapStencilOp:fCe,DefaultLoadingManager:aJ,DepthFormat:ru,DepthStencilFormat:fd,DepthTexture:kO,DetachedBindMode:$Z,DirectionalLight:fJ,DirectionalLightHelper:LOe,DiscreteInterpolant:sJ,DisplayP3ColorSpace:SE,DodecahedronGeometry:UE,DoubleSide:$o,DstAlphaFactor:SZ,DstColorFactor:MZ,DynamicCopyUsage:TCe,DynamicDrawUsage:wCe,DynamicReadUsage:SCe,EdgesGeometry:VQ,EllipseCurve:DE,EqualCompare:lQ,EqualDepth:OZ,EqualStencilFunc:mCe,EquirectangularReflectionMapping:l0,EquirectangularRefractionMapping:c0,Euler:hy,EventDispatcher:Zl,ExtrudeGeometry:BE,FileLoader:Hl,Float16BufferAttribute:hPe,Float32BufferAttribute:ht,Float64BufferAttribute:pPe,FloatType:Xo,Fog:PE,FogExp2:CE,FramebufferTexture:aLe,FrontSide:jl,Frustum:gy,GLBufferAttribute:SOe,GLSL1:CCe,GLSL3:GR,GreaterCompare:cQ,GreaterDepth:UZ,GreaterEqualCompare:fQ,GreaterEqualDepth:kZ,GreaterEqualStencilFunc:xCe,GreaterStencilFunc:vCe,GridHelper:IOe,Group:Jh,HalfFloatType:Xp,HemisphereLight:lJ,HemisphereLightHelper:NOe,IcosahedronGeometry:zE,ImageBitmapLoader:eOe,ImageLoader:A0,ImageUtils:RO,IncrementStencilOp:lCe,IncrementWrapStencilOp:uCe,InstancedBufferAttribute:hd,InstancedBufferGeometry:e3,InstancedInterleavedBuffer:bOe,InstancedMesh:DQ,Int16BufferAttribute:fPe,Int32BufferAttribute:dPe,Int8BufferAttribute:lPe,IntType:yO,InterleavedBuffer:RE,InterleavedBufferAttribute:dd,Interpolant:wy,InterpolateDiscrete:d0,InterpolateLinear:h0,InterpolateSmooth:jw,InvertStencilOp:dCe,KeepStencilOp:hf,KeyframeTrack:la,LOD:NQ,LatheGeometry:vy,Layers:Wf,LessCompare:aQ,LessDepth:LZ,LessEqualCompare:CO,LessEqualDepth:a0,LessEqualStencilFunc:gCe,LessStencilFunc:pCe,Light:Ru,LightProbe:mJ,Line:yu,Line3:TOe,LineBasicMaterial:Qi,LineCurve:WO,LineCurve3:zQ,LineDashedMaterial:tJ,LineLoop:OQ,LineSegments:Va,LinearDisplayP3ColorSpace:dy,LinearEncoding:TO,LinearFilter:Un,LinearInterpolant:qO,LinearMipMapLinearFilter:nCe,LinearMipMapNearestFilter:tCe,LinearMipmapLinearFilter:vu,LinearMipmapNearestFilter:vO,LinearSRGBColorSpace:Ba,LinearToneMapping:jZ,LinearTransfer:m0,Loader:gs,LoaderUtils:JR,LoadingManager:QO,LoopOnce:tQ,LoopPingPong:rQ,LoopRepeat:nQ,LuminanceAlphaFormat:ZZ,LuminanceFormat:qZ,MOUSE:ff,Material:Ii,MaterialLoader:XE,MathUtils:HCe,Matrix3:Ut,Matrix4:Ct,MaxEquation:vR,Mesh:Jn,MeshBasicMaterial:Ql,MeshDepthMaterial:TE,MeshDistanceMaterial:AE,MeshLambertMaterial:JQ,MeshMatcapMaterial:eJ,MeshNormalMaterial:QQ,MeshPhongMaterial:qQ,MeshPhysicalMaterial:KQ,MeshStandardMaterial:YO,MeshToonMaterial:ZQ,MinEquation:gR,MirroredRepeatWrapping:f0,MixOperation:BZ,MultiplyBlending:mR,MultiplyOperation:fy,NearestFilter:cr,NearestMipMapLinearFilter:eCe,NearestMipMapNearestFilter:J2e,NearestMipmapLinearFilter:fv,NearestMipmapNearestFilter:Eb,NeverCompare:oQ,NeverDepth:IZ,NeverStencilFunc:hCe,NoBlending:Al,NoColorSpace:Is,NoToneMapping:La,NormalAnimationBlendMode:bE,NormalBlending:Vf,NotEqualCompare:uQ,NotEqualDepth:FZ,NotEqualStencilFunc:yCe,NumberKeyframeTrack:E0,Object3D:tn,ObjectLoader:QLe,ObjectSpaceNormalMap:sQ,OctahedronGeometry:yy,OneFactor:wZ,OneMinusConstantAlphaFactor:NZ,OneMinusConstantColorFactor:PZ,OneMinusDstAlphaFactor:EZ,OneMinusDstColorFactor:TZ,OneMinusSrcAlphaFactor:Sb,OneMinusSrcColorFactor:bZ,OrthographicCamera:su,P3Primaries:v0,PCFShadowMap:xE,PCFSoftShadowMap:uv,PMREMGenerator:XR,Path:w0,PerspectiveCamera:fr,Plane:dl,PlaneGeometry:Cu,PlaneHelper:FOe,PointLight:uJ,PointLightHelper:POe,Points:kQ,PointsMaterial:jO,PolarGridHelper:DOe,PolyhedronGeometry:Pu,PositionalAudio:oOe,PropertyBinding:Zt,PropertyMixer:yJ,QuadraticBezierCurve:GO,QuadraticBezierCurve3:$O,Quaternion:Ci,QuaternionKeyframeTrack:Cm,QuaternionLinearInterpolant:oJ,RED_GREEN_RGTC2_Format:VR,RED_RGTC1_Format:eQ,REVISION:uy,RGBADepthPacking:AO,RGBAFormat:Gi,RGBAIntegerFormat:SO,RGBA_ASTC_10x10_Format:kR,RGBA_ASTC_10x5_Format:DR,RGBA_ASTC_10x6_Format:LR,RGBA_ASTC_10x8_Format:OR,RGBA_ASTC_12x10_Format:UR,RGBA_ASTC_12x12_Format:FR,RGBA_ASTC_4x4_Format:MR,RGBA_ASTC_5x4_Format:TR,RGBA_ASTC_5x5_Format:AR,RGBA_ASTC_6x5_Format:CR,RGBA_ASTC_6x6_Format:PR,RGBA_ASTC_8x5_Format:RR,RGBA_ASTC_8x6_Format:NR,RGBA_ASTC_8x8_Format:IR,RGBA_BPTC_Format:zw,RGBA_ETC2_EAC_Format:ER,RGBA_PVRTC_2BPPV1_Format:bR,RGBA_PVRTC_4BPPV1_Format:_R,RGBA_S3TC_DXT1_Format:Uw,RGBA_S3TC_DXT3_Format:Fw,RGBA_S3TC_DXT5_Format:Bw,RGB_BPTC_SIGNED_Format:BR,RGB_BPTC_UNSIGNED_Format:zR,RGB_ETC1_Format:EO,RGB_ETC2_Format:SR,RGB_PVRTC_2BPPV1_Format:wR,RGB_PVRTC_4BPPV1_Format:xR,RGB_S3TC_DXT1_Format:kw,RGFormat:JZ,RGIntegerFormat:bO,RawShaderMaterial:YQ,Ray:Nd,Raycaster:wJ,Rec709Primaries:g0,RectAreaLight:hJ,RedFormat:QZ,RedIntegerFormat:_O,ReinhardToneMapping:VZ,RenderTarget:mQ,RepeatWrapping:u0,ReplaceStencilOp:aCe,ReverseSubtractEquation:yZ,RingGeometry:jE,SIGNED_RED_GREEN_RGTC2_Format:HR,SIGNED_RED_RGTC1_Format:jR,SRGBColorSpace:Pr,SRGBTransfer:xn,Scene:FO,ShaderChunk:Lt,ShaderLib:Vo,ShaderMaterial:ia,ShadowMaterial:XQ,Shape:$f,ShapeGeometry:VE,ShapePath:jOe,ShapeUtils:ka,ShortType:YZ,Skeleton:NE,SkeletonHelper:COe,SkinnedMesh:IQ,Source:Af,Sphere:ai,SphereGeometry:xy,Spherical:Cb,SphericalHarmonics3:pJ,SplineCurve:XO,SpotLight:cJ,SpotLightHelper:AOe,Sprite:RQ,SpriteMaterial:BO,SrcAlphaFactor:bb,SrcAlphaSaturateFactor:AZ,SrcColorFactor:_Z,StaticCopyUsage:MCe,StaticDrawUsage:y0,StaticReadUsage:bCe,StereoCamera:nOe,StreamCopyUsage:ACe,StreamDrawUsage:_Ce,StreamReadUsage:ECe,StringKeyframeTrack:Ld,SubtractEquation:vZ,SubtractiveBlending:pR,TOUCH:df,TangentSpaceNormalMap:Au,TetrahedronGeometry:HE,Texture:er,TextureLoader:YLe,TorusGeometry:WE,TorusKnotGeometry:GE,Triangle:as,TriangleFanDrawMode:sCe,TriangleStripDrawMode:iCe,TrianglesDrawMode:rCe,TubeGeometry:$E,TwoPassDoubleSide:Q2e,UVMapping:wE,Uint16BufferAttribute:IO,Uint32BufferAttribute:DO,Uint8BufferAttribute:cPe,Uint8ClampedBufferAttribute:uPe,Uniform:s3,UniformsGroup:_Oe,UniformsLib:Je,UniformsUtils:LO,UnsignedByteType:Oa,UnsignedInt248Type:nu,UnsignedIntType:xl,UnsignedShort4444Type:xO,UnsignedShort5551Type:wO,UnsignedShortType:_E,VSMShadowMap:ko,Vector2:Fe,Vector3:te,Vector4:on,VectorKeyframeTrack:M0,VideoTexture:oLe,WebGL1Renderer:CQ,WebGL3DRenderTarget:KCe,WebGLArrayRenderTarget:YCe,WebGLCoordinateSystem:Yo,WebGLCubeRenderTarget:xQ,WebGLMultipleRenderTargets:qCe,WebGLRenderTarget:ra,WebGLRenderer:UO,WebGLUtils:TQ,WebGPUCoordinateSystem:Yp,WireframeGeometry:$Q,WrapAroundEnding:p0,ZeroCurvatureEnding:Mf,ZeroFactor:xZ,ZeroSlopeEnding:Tf,ZeroStencilOp:oCe,_SRGBAFormat:Mb,createCanvasElement:pQ,sRGBEncoding:iu},Symbol.toStringTag,{value:"Module"}));var bJ={exports:{}},Od={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Od.ConcurrentRoot=1;Od.ContinuousEventPriority=4;Od.DefaultEventPriority=16;Od.DiscreteEventPriority=1;Od.IdleEventPriority=536870912;Od.LegacyRoot=0;bJ.exports=Od;var tp=bJ.exports;function HOe(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function h(){const p=u(e);if(!f(d,p)){const v=d;c(d=p,v)}}return n.add(h),()=>n.delete(h)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const WOe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_V=WOe?T.useEffect:T.useLayoutEffect;function GOe(t){const e=typeof t=="function"?HOe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=T.useReducer(y=>y+1,0),o=e.getState(),a=T.useRef(o),l=T.useRef(r),c=T.useRef(i),u=T.useRef(!1),f=T.useRef();f.current===void 0&&(f.current=r(o));let d,h=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(d=r(o),h=!i(f.current,d)),_V(()=>{h&&(f.current=d),a.current=o,l.current=r,c.current=i,u.current=!1});const p=T.useRef(o);_V(()=>{const y=()=>{try{const _=e.getState(),w=l.current(_);c.current(f.current,w)||(a.current=_,f.current=w,s())}catch{u.current=!0,s()}},g=e.subscribe(y);return e.getState()!==p.current&&y(),g},[]);const v=h?d:f.current;return T.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const $Oe=t=>typeof t=="object"&&typeof t.then=="function",J1=[];function XOe(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function YOe(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of J1)if(XOe(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=J1.indexOf(i);s!==-1&&J1.splice(s,1)},promise:($Oe(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(J1.push(i),!n)throw i.promise}const KOe=(t,e,n)=>YOe(t,e,!1,n);var SJ={exports:{}},p2={exports:{}},m2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bV;function qOe(){return bV||(bV=1,function(t){function e(L,k){var z=L.length;L.push(k);e:for(;0<z;){var B=z-1>>>1,G=L[B];if(0<i(G,k))L[B]=k,L[z]=G,z=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var k=L[0],z=L.pop();if(z!==k){L[0]=z;e:for(var B=0,G=L.length,Y=G>>>1;B<Y;){var Z=2*(B+1)-1,Q=L[Z],re=Z+1,J=L[re];if(0>i(Q,z))re<G&&0>i(J,Q)?(L[B]=J,L[re]=z,B=re):(L[B]=Q,L[Z]=z,B=Z);else if(re<G&&0>i(J,z))L[B]=J,L[re]=z,B=re;else break e}}return k}function i(L,k){var z=L.sortIndex-k.sortIndex;return z!==0?z:L.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=L)r(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(c)}}function b(L){if(v=!1,w(L),!p)if(n(l)!==null)p=!0,j(M);else{var k=n(c);k!==null&&X(b,k.startTime-L)}}function M(L,k){p=!1,v&&(v=!1,g(N),N=-1),h=!0;var z=d;try{for(w(k),f=n(l);f!==null&&(!(f.expirationTime>k)||L&&!F());){var B=f.callback;if(typeof B=="function"){f.callback=null,d=f.priorityLevel;var G=B(f.expirationTime<=k);k=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),w(k)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var Z=n(c);Z!==null&&X(b,Z.startTime-k),Y=!1}return Y}finally{f=null,d=z,h=!1}}var A=!1,C=null,N=-1,R=5,D=-1;function F(){return!(t.unstable_now()-D<R)}function U(){if(C!==null){var L=t.unstable_now();D=L;var k=!0;try{k=C(!0,L)}finally{k?$():(A=!1,C=null)}}else A=!1}var $;if(typeof _=="function")$=function(){_(U)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,V=I.port2;I.port1.onmessage=U,$=function(){V.postMessage(null)}}else $=function(){y(U,0)};function j(L){C=L,A||(A=!0,$())}function X(L,k){N=y(function(){L(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,j(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var z=d;d=k;try{return L()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,k){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=d;d=L;try{return k()}finally{d=z}},t.unstable_scheduleCallback=function(L,k,z){var B=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,L={id:u++,callback:k,priorityLevel:L,startTime:z,expirationTime:G,sortIndex:-1},z>B?(L.sortIndex=z,e(c,L),n(l)===null&&L===n(c)&&(v?(g(N),N=-1):v=!0,X(b,z-B))):(L.sortIndex=G,e(l,L),p||h||(p=!0,j(M))),L},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(L){var k=d;return function(){var z=d;d=k;try{return L.apply(this,arguments)}finally{d=z}}}}(m2)),m2}var SV;function ZOe(){return SV||(SV=1,p2.exports=qOe()),p2.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QOe=function(e){var n={},r=T,i=ZOe(),s=Object.assign;function o(m){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+m,E=1;E<arguments.length;E++)x+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+m+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),M=Symbol.iterator;function A(m){return m===null||typeof m!="object"?null:(m=M&&m[M]||m["@@iterator"],typeof m=="function"?m:null)}function C(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case p:return(m.displayName||"Context")+".Consumer";case h:return(m._context.displayName||"Context")+".Provider";case v:var x=m.render;return m=m.displayName,m||(m=x.displayName||x.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case _:return x=m.displayName||null,x!==null?x:C(m.type)||"Memo";case w:x=m._payload,m=m._init;try{return C(m(x))}catch{}}return null}function N(m){var x=m.type;switch(m.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=x.render,m=m.displayName||m.name||"",x.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(x);case 8:return x===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function R(m){var x=m,E=m;if(m.alternate)for(;x.return;)x=x.return;else{m=x;do x=m,x.flags&4098&&(E=x.return),m=x.return;while(m)}return x.tag===3?E:null}function D(m){if(R(m)!==m)throw Error(o(188))}function F(m){var x=m.alternate;if(!x){if(x=R(m),x===null)throw Error(o(188));return x!==m?null:m}for(var E=m,P=x;;){var O=E.return;if(O===null)break;var W=O.alternate;if(W===null){if(P=O.return,P!==null){E=P;continue}break}if(O.child===W.child){for(W=O.child;W;){if(W===E)return D(O),m;if(W===P)return D(O),x;W=W.sibling}throw Error(o(188))}if(E.return!==P.return)E=O,P=W;else{for(var ie=!1,ge=O.child;ge;){if(ge===E){ie=!0,E=O,P=W;break}if(ge===P){ie=!0,P=O,E=W;break}ge=ge.sibling}if(!ie){for(ge=W.child;ge;){if(ge===E){ie=!0,E=W,P=O;break}if(ge===P){ie=!0,P=W,E=O;break}ge=ge.sibling}if(!ie)throw Error(o(189))}}if(E.alternate!==P)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?m:x}function U(m){return m=F(m),m!==null?$(m):null}function $(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var x=$(m);if(x!==null)return x;m=m.sibling}return null}function I(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var x=I(m);if(x!==null)return x}m=m.sibling}return null}var V=Array.isArray,j=e.getPublicInstance,X=e.getRootHostContext,L=e.getChildHostContext,k=e.prepareForCommit,z=e.resetAfterCommit,B=e.createInstance,G=e.appendInitialChild,Y=e.finalizeInitialChildren,Z=e.prepareUpdate,Q=e.shouldSetTextContent,re=e.createTextInstance,J=e.scheduleTimeout,ae=e.cancelTimeout,se=e.noTimeout,fe=e.isPrimaryRenderer,ue=e.supportsMutation,H=e.supportsPersistence,he=e.supportsHydration,le=e.getInstanceFromNode,me=e.preparePortalMount,de=e.getCurrentEventPriority,ke=e.detachDeletedInstance,_e=e.supportsMicrotasks,q=e.scheduleMicrotask,K=e.supportsTestSelectors,ne=e.findFiberRoot,be=e.getBoundingRect,pe=e.getTextContent,ve=e.isHiddenSubtree,Re=e.matchAccessibilityRole,Be=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,je=e.appendChild,$e=e.appendChildToContainer,Ae=e.commitTextUpdate,st=e.commitMount,tt=e.commitUpdate,Xe=e.insertBefore,Ge=e.insertInContainerBefore,Ie=e.removeChild,oe=e.removeChildFromContainer,Ce=e.resetTextContent,De=e.hideInstance,Ue=e.hideTextInstance,xe=e.unhideInstance,ce=e.unhideTextInstance,We=e.clearContainer,ze=e.cloneInstance,Ye=e.createContainerChildSet,Ze=e.appendChildToContainerChildSet,ut=e.finalizeContainerChildren,et=e.replaceContainerChildren,xt=e.cloneHiddenInstance,Dt=e.cloneHiddenTextInstance,bt=e.canHydrateInstance,Vt=e.canHydrateTextInstance,vn=e.canHydrateSuspenseInstance,ui=e.isSuspenseInstancePending,qr=e.isSuspenseInstanceFallback,Zr=e.registerSuspenseInstanceRetry,Lr=e.getNextHydratableSibling,Or=e.getFirstHydratableChild,Wn=e.getFirstHydratableChildWithinContainer,Ji=e.getFirstHydratableChildWithinSuspenseInstance,ec=e.hydrateInstance,ua=e.hydrateTextInstance,tc=e.hydrateSuspenseInstance,ee=e.getNextHydratableInstanceAfterSuspenseInstance,we=e.commitHydratedContainer,Me=e.commitHydratedSuspenseInstance,Pe=e.clearSuspenseBoundary,Ee=e.clearSuspenseBoundaryFromContainer,nt=e.shouldDeleteUnhydratedTailInstances,dt=e.didNotMatchHydratedContainerTextInstance,mt=e.didNotMatchHydratedTextInstance,He;function _t(m){if(He===void 0)try{throw Error()}catch(E){var x=E.stack.trim().match(/\n( *(at )?)/);He=x&&x[1]||""}return`
`+He+m}var Tt=!1;function wt(m,x){if(!m||Tt)return"";Tt=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(qe){var P=qe}Reflect.construct(m,[],x)}else{try{x.call()}catch(qe){P=qe}m.call(x.prototype)}else{try{throw Error()}catch(qe){P=qe}m()}}catch(qe){if(qe&&P&&typeof qe.stack=="string"){for(var O=qe.stack.split(`
`),W=P.stack.split(`
`),ie=O.length-1,ge=W.length-1;1<=ie&&0<=ge&&O[ie]!==W[ge];)ge--;for(;1<=ie&&0<=ge;ie--,ge--)if(O[ie]!==W[ge]){if(ie!==1||ge!==1)do if(ie--,ge--,0>ge||O[ie]!==W[ge]){var Oe=`
`+O[ie].replace(" at new "," at ");return m.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",m.displayName)),Oe}while(1<=ie&&0<=ge);break}}}finally{Tt=!1,Error.prepareStackTrace=E}return(m=m?m.displayName||m.name:"")?_t(m):""}var an=Object.prototype.hasOwnProperty,Gn=[],sn=-1;function yn(m){return{current:m}}function yt(m){0>sn||(m.current=Gn[sn],Gn[sn]=null,sn--)}function at(m,x){sn++,Gn[sn]=m.current,m.current=x}var Tr={},Pt=yn(Tr),hn=yn(!1),Di=Tr;function mr(m,x){var E=m.type.contextTypes;if(!E)return Tr;var P=m.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===x)return P.__reactInternalMemoizedMaskedChildContext;var O={},W;for(W in E)O[W]=x[W];return P&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=x,m.__reactInternalMemoizedMaskedChildContext=O),O}function An(m){return m=m.childContextTypes,m!=null}function qt(){yt(hn),yt(Pt)}function fi(m,x,E){if(Pt.current!==Tr)throw Error(o(168));at(Pt,x),at(hn,E)}function $s(m,x,E){var P=m.stateNode;if(x=x.childContextTypes,typeof P.getChildContext!="function")return E;P=P.getChildContext();for(var O in P)if(!(O in x))throw Error(o(108,N(m)||"Unknown",O));return s({},E,P)}function Dn(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Tr,Di=Pt.current,at(Pt,m),at(hn,hn.current),!0}function tr(m,x,E){var P=m.stateNode;if(!P)throw Error(o(169));E?(m=$s(m,x,Di),P.__reactInternalMemoizedMergedChildContext=m,yt(hn),yt(Pt),at(Pt,m)):yt(hn),at(hn,E)}var Qr=Math.clz32?Math.clz32:Ty,Mo=Math.log,fa=Math.LN2;function Ty(m){return m>>>=0,m===0?32:31-(Mo(m)/fa|0)|0}var Wa=64,Ga=4194304;function $a(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Nu(m,x){var E=m.pendingLanes;if(E===0)return 0;var P=0,O=m.suspendedLanes,W=m.pingedLanes,ie=E&268435455;if(ie!==0){var ge=ie&~O;ge!==0?P=$a(ge):(W&=ie,W!==0&&(P=$a(W)))}else ie=E&~O,ie!==0?P=$a(ie):W!==0&&(P=$a(W));if(P===0)return 0;if(x!==0&&x!==P&&!(x&O)&&(O=P&-P,W=x&-x,O>=W||O===16&&(W&4194240)!==0))return x;if(P&4&&(P|=E&16),x=m.entangledLanes,x!==0)for(m=m.entanglements,x&=P;0<x;)E=31-Qr(x),O=1<<E,P|=m[E],x&=~O;return P}function Ay(m,x){switch(m){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nm(m,x){for(var E=m.suspendedLanes,P=m.pingedLanes,O=m.expirationTimes,W=m.pendingLanes;0<W;){var ie=31-Qr(W),ge=1<<ie,Oe=O[ie];Oe===-1?(!(ge&E)||ge&P)&&(O[ie]=Ay(ge,x)):Oe<=x&&(m.expiredLanes|=ge),W&=~ge}}function Xa(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function kd(m){for(var x=[],E=0;31>E;E++)x.push(m);return x}function da(m,x,E){m.pendingLanes|=x,x!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,x=31-Qr(x),m[x]=E}function nc(m,x){var E=m.pendingLanes&~x;m.pendingLanes=x,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=x,m.mutableReadLanes&=x,m.entangledLanes&=x,x=m.entanglements;var P=m.eventTimes;for(m=m.expirationTimes;0<E;){var O=31-Qr(E),W=1<<O;x[O]=0,P[O]=-1,m[O]=-1,E&=~W}}function ha(m,x){var E=m.entangledLanes|=x;for(m=m.entanglements;E;){var P=31-Qr(E),O=1<<P;O&x|m[P]&x&&(m[P]|=x),E&=~O}}var Wt=0;function Im(m){return m&=-m,1<m?4<m?m&268435455?16:536870912:4:1}var Ya=i.unstable_scheduleCallback,Ud=i.unstable_cancelCallback,Dm=i.unstable_shouldYield,Cy=i.unstable_requestPaint,Ln=i.unstable_now,Iu=i.unstable_ImmediatePriority,Py=i.unstable_UserBlockingPriority,Li=i.unstable_NormalPriority,Lm=i.unstable_IdlePriority,Du=null,vs=null;function Om(m){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Du,m,void 0,(m.current.flags&128)===128)}catch{}}function Ry(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var ys=typeof Object.is=="function"?Object.is:Ry,Oi=null,pa=!1,Xs=!1;function km(m){Oi===null?Oi=[m]:Oi.push(m)}function Um(m){pa=!0,km(m)}function es(){if(!Xs&&Oi!==null){Xs=!0;var m=0,x=Wt;try{var E=Oi;for(Wt=1;m<E.length;m++){var P=E[m];do P=P(!0);while(P!==null)}Oi=null,pa=!1}catch(O){throw Oi!==null&&(Oi=Oi.slice(m+1)),Ya(Iu,es),O}finally{Wt=x,Xs=!1}}return null}var Lu=a.ReactCurrentBatchConfig;function Ou(m,x){if(ys(m,x))return!0;if(typeof m!="object"||m===null||typeof x!="object"||x===null)return!1;var E=Object.keys(m),P=Object.keys(x);if(E.length!==P.length)return!1;for(P=0;P<E.length;P++){var O=E[P];if(!an.call(x,O)||!ys(m[O],x[O]))return!1}return!0}function ku(m){switch(m.tag){case 5:return _t(m.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 2:case 15:return m=wt(m.type,!1),m;case 11:return m=wt(m.type.render,!1),m;case 1:return m=wt(m.type,!0),m;default:return""}}function ki(m,x){if(m&&m.defaultProps){x=s({},x),m=m.defaultProps;for(var E in m)x[E]===void 0&&(x[E]=m[E]);return x}return x}var kr=yn(null),Fd=null,To=null,rc=null;function Bd(){rc=To=Fd=null}function Ny(m,x,E){fe?(at(kr,x._currentValue),x._currentValue=E):(at(kr,x._currentValue2),x._currentValue2=E)}function Ur(m){var x=kr.current;yt(kr),fe?m._currentValue=x:m._currentValue2=x}function Ui(m,x,E){for(;m!==null;){var P=m.alternate;if((m.childLanes&x)!==x?(m.childLanes|=x,P!==null&&(P.childLanes|=x)):P!==null&&(P.childLanes&x)!==x&&(P.childLanes|=x),m===E)break;m=m.return}}function nr(m,x){Fd=m,rc=To=null,m=m.dependencies,m!==null&&m.firstContext!==null&&(m.lanes&x&&(bs=!0),m.firstContext=null)}function rr(m){var x=fe?m._currentValue:m._currentValue2;if(rc!==m)if(m={context:m,memoizedValue:x,next:null},To===null){if(Fd===null)throw Error(o(308));To=m,Fd.dependencies={lanes:0,firstContext:m}}else To=To.next=m;return x}var xs=null,ic=!1;function uM(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C3(m,x){m=m.updateQueue,x.updateQueue===m&&(x.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Ka(m,x){return{eventTime:m,lane:x,tag:0,payload:null,callback:null,next:null}}function sc(m,x){var E=m.updateQueue;E!==null&&(E=E.shared,gr!==null&&m.mode&1&&!(Ht&2)?(m=E.interleaved,m===null?(x.next=x,xs===null?xs=[E]:xs.push(E)):(x.next=m.next,m.next=x),E.interleaved=x):(m=E.pending,m===null?x.next=x:(x.next=m.next,m.next=x),E.pending=x))}function Iy(m,x,E){if(x=x.updateQueue,x!==null&&(x=x.shared,(E&4194240)!==0)){var P=x.lanes;P&=m.pendingLanes,E|=P,x.lanes=E,ha(m,E)}}function P3(m,x){var E=m.updateQueue,P=m.alternate;if(P!==null&&(P=P.updateQueue,E===P)){var O=null,W=null;if(E=E.firstBaseUpdate,E!==null){do{var ie={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};W===null?O=W=ie:W=W.next=ie,E=E.next}while(E!==null);W===null?O=W=x:W=W.next=x}else O=W=x;E={baseState:P.baseState,firstBaseUpdate:O,lastBaseUpdate:W,shared:P.shared,effects:P.effects},m.updateQueue=E;return}m=E.lastBaseUpdate,m===null?E.firstBaseUpdate=x:m.next=x,E.lastBaseUpdate=x}function Dy(m,x,E,P){var O=m.updateQueue;ic=!1;var W=O.firstBaseUpdate,ie=O.lastBaseUpdate,ge=O.shared.pending;if(ge!==null){O.shared.pending=null;var Oe=ge,qe=Oe.next;Oe.next=null,ie===null?W=qe:ie.next=qe,ie=Oe;var ft=m.alternate;ft!==null&&(ft=ft.updateQueue,ge=ft.lastBaseUpdate,ge!==ie&&(ge===null?ft.firstBaseUpdate=qe:ge.next=qe,ft.lastBaseUpdate=Oe))}if(W!==null){var Nt=O.baseState;ie=0,ft=qe=Oe=null,ge=W;do{var St=ge.lane,pn=ge.eventTime;if((P&St)===St){ft!==null&&(ft=ft.next={eventTime:pn,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var gt=m,mi=ge;switch(St=x,pn=E,mi.tag){case 1:if(gt=mi.payload,typeof gt=="function"){Nt=gt.call(pn,Nt,St);break e}Nt=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=mi.payload,St=typeof gt=="function"?gt.call(pn,Nt,St):gt,St==null)break e;Nt=s({},Nt,St);break e;case 2:ic=!0}}ge.callback!==null&&ge.lane!==0&&(m.flags|=64,St=O.effects,St===null?O.effects=[ge]:St.push(ge))}else pn={eventTime:pn,lane:St,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ft===null?(qe=ft=pn,Oe=Nt):ft=ft.next=pn,ie|=St;if(ge=ge.next,ge===null){if(ge=O.shared.pending,ge===null)break;St=ge,ge=St.next,St.next=null,O.lastBaseUpdate=St,O.shared.pending=null}}while(!0);if(ft===null&&(Oe=Nt),O.baseState=Oe,O.firstBaseUpdate=qe,O.lastBaseUpdate=ft,x=O.shared.interleaved,x!==null){O=x;do ie|=O.lane,O=O.next;while(O!==x)}else W===null&&(O.shared.lanes=0);Yd|=ie,m.lanes=ie,m.memoizedState=Nt}}function R3(m,x,E){if(m=x.effects,x.effects=null,m!==null)for(x=0;x<m.length;x++){var P=m[x],O=P.callback;if(O!==null){if(P.callback=null,P=E,typeof O!="function")throw Error(o(191,O));O.call(P)}}}var N3=new r.Component().refs;function fM(m,x,E,P){x=m.memoizedState,E=E(P,x),E=E==null?x:s({},x,E),m.memoizedState=E,m.lanes===0&&(m.updateQueue.baseState=E)}var Ly={isMounted:function(m){return(m=m._reactInternals)?R(m)===m:!1},enqueueSetState:function(m,x,E){m=m._reactInternals;var P=Bi(),O=lc(m),W=Ka(P,O);W.payload=x,E!=null&&(W.callback=E),sc(m,W),x=Qs(m,O,P),x!==null&&Iy(x,m,O)},enqueueReplaceState:function(m,x,E){m=m._reactInternals;var P=Bi(),O=lc(m),W=Ka(P,O);W.tag=1,W.payload=x,E!=null&&(W.callback=E),sc(m,W),x=Qs(m,O,P),x!==null&&Iy(x,m,O)},enqueueForceUpdate:function(m,x){m=m._reactInternals;var E=Bi(),P=lc(m),O=Ka(E,P);O.tag=2,x!=null&&(O.callback=x),sc(m,O),x=Qs(m,P,E),x!==null&&Iy(x,m,P)}};function I3(m,x,E,P,O,W,ie){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(P,W,ie):x.prototype&&x.prototype.isPureReactComponent?!Ou(E,P)||!Ou(O,W):!0}function D3(m,x,E){var P=!1,O=Tr,W=x.contextType;return typeof W=="object"&&W!==null?W=rr(W):(O=An(x)?Di:Pt.current,P=x.contextTypes,W=(P=P!=null)?mr(m,O):Tr),x=new x(E,W),m.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ly,m.stateNode=x,x._reactInternals=m,P&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=O,m.__reactInternalMemoizedMaskedChildContext=W),x}function L3(m,x,E,P){m=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(E,P),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(E,P),x.state!==m&&Ly.enqueueReplaceState(x,x.state,null)}function dM(m,x,E,P){var O=m.stateNode;O.props=E,O.state=m.memoizedState,O.refs=N3,uM(m);var W=x.contextType;typeof W=="object"&&W!==null?O.context=rr(W):(W=An(x)?Di:Pt.current,O.context=mr(m,W)),O.state=m.memoizedState,W=x.getDerivedStateFromProps,typeof W=="function"&&(fM(m,x,W,E),O.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(x=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),x!==O.state&&Ly.enqueueReplaceState(O,O.state,null),Dy(m,E,O,P),O.state=m.memoizedState),typeof O.componentDidMount=="function"&&(m.flags|=4194308)}var zd=[],jd=0,Oy=null,ky=0,Ys=[],Ks=0,Uu=null,qa=1,Za="";function Fu(m,x){zd[jd++]=ky,zd[jd++]=Oy,Oy=m,ky=x}function O3(m,x,E){Ys[Ks++]=qa,Ys[Ks++]=Za,Ys[Ks++]=Uu,Uu=m;var P=qa;m=Za;var O=32-Qr(P)-1;P&=~(1<<O),E+=1;var W=32-Qr(x)+O;if(30<W){var ie=O-O%5;W=(P&(1<<ie)-1).toString(32),P>>=ie,O-=ie,qa=1<<32-Qr(x)+O|E<<O|P,Za=W+m}else qa=1<<W|E<<O|P,Za=m}function hM(m){m.return!==null&&(Fu(m,1),O3(m,1,0))}function pM(m){for(;m===Oy;)Oy=zd[--jd],zd[jd]=null,ky=zd[--jd],zd[jd]=null;for(;m===Uu;)Uu=Ys[--Ks],Ys[Ks]=null,Za=Ys[--Ks],Ys[Ks]=null,qa=Ys[--Ks],Ys[Ks]=null}var ws=null,_s=null,Cn=!1,Fm=!1,Ao=null;function k3(m,x){var E=Js(5,null,null,0);E.elementType="DELETED",E.stateNode=x,E.return=m,x=m.deletions,x===null?(m.deletions=[E],m.flags|=16):x.push(E)}function U3(m,x){switch(m.tag){case 5:return x=bt(x,m.type,m.pendingProps),x!==null?(m.stateNode=x,ws=m,_s=Or(x),!0):!1;case 6:return x=Vt(x,m.pendingProps),x!==null?(m.stateNode=x,ws=m,_s=null,!0):!1;case 13:if(x=vn(x),x!==null){var E=Uu!==null?{id:qa,overflow:Za}:null;return m.memoizedState={dehydrated:x,treeContext:E,retryLane:1073741824},E=Js(18,null,null,0),E.stateNode=x,E.return=m,m.child=E,ws=m,_s=null,!0}return!1;default:return!1}}function mM(m){return(m.mode&1)!==0&&(m.flags&128)===0}function gM(m){if(Cn){var x=_s;if(x){var E=x;if(!U3(m,x)){if(mM(m))throw Error(o(418));x=Lr(E);var P=ws;x&&U3(m,x)?k3(P,E):(m.flags=m.flags&-4097|2,Cn=!1,ws=m)}}else{if(mM(m))throw Error(o(418));m.flags=m.flags&-4097|2,Cn=!1,ws=m}}}function F3(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;ws=m}function Bm(m){if(!he||m!==ws)return!1;if(!Cn)return F3(m),Cn=!0,!1;if(m.tag!==3&&(m.tag!==5||nt(m.type)&&!Q(m.type,m.memoizedProps))){var x=_s;if(x){if(mM(m)){for(m=_s;m;)m=Lr(m);throw Error(o(418))}for(;x;)k3(m,x),x=Lr(x)}}if(F3(m),m.tag===13){if(!he)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));_s=ee(m)}else _s=ws?Lr(m.stateNode):null;return!0}function Vd(){he&&(_s=ws=null,Fm=Cn=!1)}function vM(m){Ao===null?Ao=[m]:Ao.push(m)}function zm(m,x,E){if(m=E.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(o(309));var P=E.stateNode}if(!P)throw Error(o(147,m));var O=P,W=""+m;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===W?x.ref:(x=function(ie){var ge=O.refs;ge===N3&&(ge=O.refs={}),ie===null?delete ge[W]:ge[W]=ie},x._stringRef=W,x)}if(typeof m!="string")throw Error(o(284));if(!E._owner)throw Error(o(290,m))}return m}function Uy(m,x){throw m=Object.prototype.toString.call(x),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":m))}function B3(m){var x=m._init;return x(m._payload)}function z3(m){function x(Se,ye){if(m){var Ne=Se.deletions;Ne===null?(Se.deletions=[ye],Se.flags|=16):Ne.push(ye)}}function E(Se,ye){if(!m)return null;for(;ye!==null;)x(Se,ye),ye=ye.sibling;return null}function P(Se,ye){for(Se=new Map;ye!==null;)ye.key!==null?Se.set(ye.key,ye):Se.set(ye.index,ye),ye=ye.sibling;return Se}function O(Se,ye){return Se=uc(Se,ye),Se.index=0,Se.sibling=null,Se}function W(Se,ye,Ne){return Se.index=Ne,m?(Ne=Se.alternate,Ne!==null?(Ne=Ne.index,Ne<ye?(Se.flags|=2,ye):Ne):(Se.flags|=2,ye)):(Se.flags|=1048576,ye)}function ie(Se){return m&&Se.alternate===null&&(Se.flags|=2),Se}function ge(Se,ye,Ne,ot){return ye===null||ye.tag!==6?(ye=eT(Ne,Se.mode,ot),ye.return=Se,ye):(ye=O(ye,Ne),ye.return=Se,ye)}function Oe(Se,ye,Ne,ot){var pt=Ne.type;return pt===u?ft(Se,ye,Ne.props.children,ot,Ne.key):ye!==null&&(ye.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&B3(pt)===ye.type)?(ot=O(ye,Ne.props),ot.ref=zm(Se,ye,Ne),ot.return=Se,ot):(ot=px(Ne.type,Ne.key,Ne.props,null,Se.mode,ot),ot.ref=zm(Se,ye,Ne),ot.return=Se,ot)}function qe(Se,ye,Ne,ot){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ne.containerInfo||ye.stateNode.implementation!==Ne.implementation?(ye=tT(Ne,Se.mode,ot),ye.return=Se,ye):(ye=O(ye,Ne.children||[]),ye.return=Se,ye)}function ft(Se,ye,Ne,ot,pt){return ye===null||ye.tag!==7?(ye=Gu(Ne,Se.mode,ot,pt),ye.return=Se,ye):(ye=O(ye,Ne),ye.return=Se,ye)}function Nt(Se,ye,Ne){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=eT(""+ye,Se.mode,Ne),ye.return=Se,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case l:return Ne=px(ye.type,ye.key,ye.props,null,Se.mode,Ne),Ne.ref=zm(Se,null,ye),Ne.return=Se,Ne;case c:return ye=tT(ye,Se.mode,Ne),ye.return=Se,ye;case w:var ot=ye._init;return Nt(Se,ot(ye._payload),Ne)}if(V(ye)||A(ye))return ye=Gu(ye,Se.mode,Ne,null),ye.return=Se,ye;Uy(Se,ye)}return null}function St(Se,ye,Ne,ot){var pt=ye!==null?ye.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return pt!==null?null:ge(Se,ye,""+Ne,ot);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:return Ne.key===pt?Oe(Se,ye,Ne,ot):null;case c:return Ne.key===pt?qe(Se,ye,Ne,ot):null;case w:return pt=Ne._init,St(Se,ye,pt(Ne._payload),ot)}if(V(Ne)||A(Ne))return pt!==null?null:ft(Se,ye,Ne,ot,null);Uy(Se,Ne)}return null}function pn(Se,ye,Ne,ot,pt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Se=Se.get(Ne)||null,ge(ye,Se,""+ot,pt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case l:return Se=Se.get(ot.key===null?Ne:ot.key)||null,Oe(ye,Se,ot,pt);case c:return Se=Se.get(ot.key===null?Ne:ot.key)||null,qe(ye,Se,ot,pt);case w:var Bt=ot._init;return pn(Se,ye,Ne,Bt(ot._payload),pt)}if(V(ot)||A(ot))return Se=Se.get(Ne)||null,ft(ye,Se,ot,pt,null);Uy(ye,ot)}return null}function gt(Se,ye,Ne,ot){for(var pt=null,Bt=null,It=ye,Jt=ye=0,Br=null;It!==null&&Jt<Ne.length;Jt++){It.index>Jt?(Br=It,It=null):Br=It.sibling;var en=St(Se,It,Ne[Jt],ot);if(en===null){It===null&&(It=Br);break}m&&It&&en.alternate===null&&x(Se,It),ye=W(en,ye,Jt),Bt===null?pt=en:Bt.sibling=en,Bt=en,It=Br}if(Jt===Ne.length)return E(Se,It),Cn&&Fu(Se,Jt),pt;if(It===null){for(;Jt<Ne.length;Jt++)It=Nt(Se,Ne[Jt],ot),It!==null&&(ye=W(It,ye,Jt),Bt===null?pt=It:Bt.sibling=It,Bt=It);return Cn&&Fu(Se,Jt),pt}for(It=P(Se,It);Jt<Ne.length;Jt++)Br=pn(It,Se,Jt,Ne[Jt],ot),Br!==null&&(m&&Br.alternate!==null&&It.delete(Br.key===null?Jt:Br.key),ye=W(Br,ye,Jt),Bt===null?pt=Br:Bt.sibling=Br,Bt=Br);return m&&It.forEach(function(fc){return x(Se,fc)}),Cn&&Fu(Se,Jt),pt}function mi(Se,ye,Ne,ot){var pt=A(Ne);if(typeof pt!="function")throw Error(o(150));if(Ne=pt.call(Ne),Ne==null)throw Error(o(151));for(var Bt=pt=null,It=ye,Jt=ye=0,Br=null,en=Ne.next();It!==null&&!en.done;Jt++,en=Ne.next()){It.index>Jt?(Br=It,It=null):Br=It.sibling;var fc=St(Se,It,en.value,ot);if(fc===null){It===null&&(It=Br);break}m&&It&&fc.alternate===null&&x(Se,It),ye=W(fc,ye,Jt),Bt===null?pt=fc:Bt.sibling=fc,Bt=fc,It=Br}if(en.done)return E(Se,It),Cn&&Fu(Se,Jt),pt;if(It===null){for(;!en.done;Jt++,en=Ne.next())en=Nt(Se,en.value,ot),en!==null&&(ye=W(en,ye,Jt),Bt===null?pt=en:Bt.sibling=en,Bt=en);return Cn&&Fu(Se,Jt),pt}for(It=P(Se,It);!en.done;Jt++,en=Ne.next())en=pn(It,Se,Jt,en.value,ot),en!==null&&(m&&en.alternate!==null&&It.delete(en.key===null?Jt:en.key),ye=W(en,ye,Jt),Bt===null?pt=en:Bt.sibling=en,Bt=en);return m&&It.forEach(function(Vne){return x(Se,Vne)}),Cn&&Fu(Se,Jt),pt}function eo(Se,ye,Ne,ot){if(typeof Ne=="object"&&Ne!==null&&Ne.type===u&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:e:{for(var pt=Ne.key,Bt=ye;Bt!==null;){if(Bt.key===pt){if(pt=Ne.type,pt===u){if(Bt.tag===7){E(Se,Bt.sibling),ye=O(Bt,Ne.props.children),ye.return=Se,Se=ye;break e}}else if(Bt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&B3(pt)===Bt.type){E(Se,Bt.sibling),ye=O(Bt,Ne.props),ye.ref=zm(Se,Bt,Ne),ye.return=Se,Se=ye;break e}E(Se,Bt);break}else x(Se,Bt);Bt=Bt.sibling}Ne.type===u?(ye=Gu(Ne.props.children,Se.mode,ot,Ne.key),ye.return=Se,Se=ye):(ot=px(Ne.type,Ne.key,Ne.props,null,Se.mode,ot),ot.ref=zm(Se,ye,Ne),ot.return=Se,Se=ot)}return ie(Se);case c:e:{for(Bt=Ne.key;ye!==null;){if(ye.key===Bt)if(ye.tag===4&&ye.stateNode.containerInfo===Ne.containerInfo&&ye.stateNode.implementation===Ne.implementation){E(Se,ye.sibling),ye=O(ye,Ne.children||[]),ye.return=Se,Se=ye;break e}else{E(Se,ye);break}else x(Se,ye);ye=ye.sibling}ye=tT(Ne,Se.mode,ot),ye.return=Se,Se=ye}return ie(Se);case w:return Bt=Ne._init,eo(Se,ye,Bt(Ne._payload),ot)}if(V(Ne))return gt(Se,ye,Ne,ot);if(A(Ne))return mi(Se,ye,Ne,ot);Uy(Se,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,ye!==null&&ye.tag===6?(E(Se,ye.sibling),ye=O(ye,Ne),ye.return=Se,Se=ye):(E(Se,ye),ye=eT(Ne,Se.mode,ot),ye.return=Se,Se=ye),ie(Se)):E(Se,ye)}return eo}var Hd=z3(!0),j3=z3(!1),jm={},qs=yn(jm),Vm=yn(jm),Wd=yn(jm);function ma(m){if(m===jm)throw Error(o(174));return m}function yM(m,x){at(Wd,x),at(Vm,m),at(qs,jm),m=X(x),yt(qs),at(qs,m)}function Gd(){yt(qs),yt(Vm),yt(Wd)}function V3(m){var x=ma(Wd.current),E=ma(qs.current);x=L(E,m.type,x),E!==x&&(at(Vm,m),at(qs,x))}function xM(m){Vm.current===m&&(yt(qs),yt(Vm))}var On=yn(0);function Fy(m){for(var x=m;x!==null;){if(x.tag===13){var E=x.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||ui(E)||qr(E)))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if(x.flags&128)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var wM=[];function _M(){for(var m=0;m<wM.length;m++){var x=wM[m];fe?x._workInProgressVersionPrimary=null:x._workInProgressVersionSecondary=null}wM.length=0}var By=a.ReactCurrentDispatcher,Zs=a.ReactCurrentBatchConfig,$d=0,$n=null,di=null,Fr=null,zy=!1,Hm=!1,Wm=0,hne=0;function hi(){throw Error(o(321))}function bM(m,x){if(x===null)return!1;for(var E=0;E<x.length&&E<m.length;E++)if(!ys(m[E],x[E]))return!1;return!0}function SM(m,x,E,P,O,W){if($d=W,$n=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,By.current=m===null||m.memoizedState===null?vne:yne,m=E(P,O),Hm){W=0;do{if(Hm=!1,Wm=0,25<=W)throw Error(o(301));W+=1,Fr=di=null,x.updateQueue=null,By.current=xne,m=E(P,O)}while(Hm)}if(By.current=Gy,x=di!==null&&di.next!==null,$d=0,Fr=di=$n=null,zy=!1,x)throw Error(o(300));return m}function EM(){var m=Wm!==0;return Wm=0,m}function Qa(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?$n.memoizedState=Fr=m:Fr=Fr.next=m,Fr}function ga(){if(di===null){var m=$n.alternate;m=m!==null?m.memoizedState:null}else m=di.next;var x=Fr===null?$n.memoizedState:Fr.next;if(x!==null)Fr=x,di=m;else{if(m===null)throw Error(o(310));di=m,m={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},Fr===null?$n.memoizedState=Fr=m:Fr=Fr.next=m}return Fr}function Bu(m,x){return typeof x=="function"?x(m):x}function jy(m){var x=ga(),E=x.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=m;var P=di,O=P.baseQueue,W=E.pending;if(W!==null){if(O!==null){var ie=O.next;O.next=W.next,W.next=ie}P.baseQueue=O=W,E.pending=null}if(O!==null){W=O.next,P=P.baseState;var ge=ie=null,Oe=null,qe=W;do{var ft=qe.lane;if(($d&ft)===ft)Oe!==null&&(Oe=Oe.next={lane:0,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),P=qe.hasEagerState?qe.eagerState:m(P,qe.action);else{var Nt={lane:ft,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null};Oe===null?(ge=Oe=Nt,ie=P):Oe=Oe.next=Nt,$n.lanes|=ft,Yd|=ft}qe=qe.next}while(qe!==null&&qe!==W);Oe===null?ie=P:Oe.next=ge,ys(P,x.memoizedState)||(bs=!0),x.memoizedState=P,x.baseState=ie,x.baseQueue=Oe,E.lastRenderedState=P}if(m=E.interleaved,m!==null){O=m;do W=O.lane,$n.lanes|=W,Yd|=W,O=O.next;while(O!==m)}else O===null&&(E.lanes=0);return[x.memoizedState,E.dispatch]}function Vy(m){var x=ga(),E=x.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=m;var P=E.dispatch,O=E.pending,W=x.memoizedState;if(O!==null){E.pending=null;var ie=O=O.next;do W=m(W,ie.action),ie=ie.next;while(ie!==O);ys(W,x.memoizedState)||(bs=!0),x.memoizedState=W,x.baseQueue===null&&(x.baseState=W),E.lastRenderedState=W}return[W,P]}function H3(){}function W3(m,x){var E=$n,P=ga(),O=x(),W=!ys(P.memoizedState,O);if(W&&(P.memoizedState=O,bs=!0),P=P.queue,$m(X3.bind(null,E,P,m),[m]),P.getSnapshot!==x||W||Fr!==null&&Fr.memoizedState.tag&1){if(E.flags|=2048,Gm(9,$3.bind(null,E,P,O,x),void 0,null),gr===null)throw Error(o(349));$d&30||G3(E,x,O)}return O}function G3(m,x,E){m.flags|=16384,m={getSnapshot:x,value:E},x=$n.updateQueue,x===null?(x={lastEffect:null,stores:null},$n.updateQueue=x,x.stores=[m]):(E=x.stores,E===null?x.stores=[m]:E.push(m))}function $3(m,x,E,P){x.value=E,x.getSnapshot=P,Y3(x)&&Qs(m,1,-1)}function X3(m,x,E){return E(function(){Y3(x)&&Qs(m,1,-1)})}function Y3(m){var x=m.getSnapshot;m=m.value;try{var E=x();return!ys(m,E)}catch{return!0}}function MM(m){var x=Qa();return typeof m=="function"&&(m=m()),x.memoizedState=x.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:m},x.queue=m,m=m.dispatch=gne.bind(null,$n,m),[x.memoizedState,m]}function Gm(m,x,E,P){return m={tag:m,create:x,destroy:E,deps:P,next:null},x=$n.updateQueue,x===null?(x={lastEffect:null,stores:null},$n.updateQueue=x,x.lastEffect=m.next=m):(E=x.lastEffect,E===null?x.lastEffect=m.next=m:(P=E.next,E.next=m,m.next=P,x.lastEffect=m)),m}function K3(){return ga().memoizedState}function Hy(m,x,E,P){var O=Qa();$n.flags|=m,O.memoizedState=Gm(1|x,E,void 0,P===void 0?null:P)}function Wy(m,x,E,P){var O=ga();P=P===void 0?null:P;var W=void 0;if(di!==null){var ie=di.memoizedState;if(W=ie.destroy,P!==null&&bM(P,ie.deps)){O.memoizedState=Gm(x,E,W,P);return}}$n.flags|=m,O.memoizedState=Gm(1|x,E,W,P)}function TM(m,x){return Hy(8390656,8,m,x)}function $m(m,x){return Wy(2048,8,m,x)}function q3(m,x){return Wy(4,2,m,x)}function Z3(m,x){return Wy(4,4,m,x)}function Q3(m,x){if(typeof x=="function")return m=m(),x(m),function(){x(null)};if(x!=null)return m=m(),x.current=m,function(){x.current=null}}function J3(m,x,E){return E=E!=null?E.concat([m]):null,Wy(4,4,Q3.bind(null,x,m),E)}function AM(){}function ek(m,x){var E=ga();x=x===void 0?null:x;var P=E.memoizedState;return P!==null&&x!==null&&bM(x,P[1])?P[0]:(E.memoizedState=[m,x],m)}function tk(m,x){var E=ga();x=x===void 0?null:x;var P=E.memoizedState;return P!==null&&x!==null&&bM(x,P[1])?P[0]:(m=m(),E.memoizedState=[m,x],m)}function pne(m,x){var E=Wt;Wt=E!==0&&4>E?E:4,m(!0);var P=Zs.transition;Zs.transition={};try{m(!1),x()}finally{Wt=E,Zs.transition=P}}function nk(){return ga().memoizedState}function mne(m,x,E){var P=lc(m);E={lane:P,action:E,hasEagerState:!1,eagerState:null,next:null},rk(m)?ik(x,E):(sk(m,x,E),E=Bi(),m=Qs(m,P,E),m!==null&&ok(m,x,P))}function gne(m,x,E){var P=lc(m),O={lane:P,action:E,hasEagerState:!1,eagerState:null,next:null};if(rk(m))ik(x,O);else{sk(m,x,O);var W=m.alternate;if(m.lanes===0&&(W===null||W.lanes===0)&&(W=x.lastRenderedReducer,W!==null))try{var ie=x.lastRenderedState,ge=W(ie,E);if(O.hasEagerState=!0,O.eagerState=ge,ys(ge,ie))return}catch{}finally{}E=Bi(),m=Qs(m,P,E),m!==null&&ok(m,x,P)}}function rk(m){var x=m.alternate;return m===$n||x!==null&&x===$n}function ik(m,x){Hm=zy=!0;var E=m.pending;E===null?x.next=x:(x.next=E.next,E.next=x),m.pending=x}function sk(m,x,E){gr!==null&&m.mode&1&&!(Ht&2)?(m=x.interleaved,m===null?(E.next=E,xs===null?xs=[x]:xs.push(x)):(E.next=m.next,m.next=E),x.interleaved=E):(m=x.pending,m===null?E.next=E:(E.next=m.next,m.next=E),x.pending=E)}function ok(m,x,E){if(E&4194240){var P=x.lanes;P&=m.pendingLanes,E|=P,x.lanes=E,ha(m,E)}}var Gy={readContext:rr,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},vne={readContext:rr,useCallback:function(m,x){return Qa().memoizedState=[m,x===void 0?null:x],m},useContext:rr,useEffect:TM,useImperativeHandle:function(m,x,E){return E=E!=null?E.concat([m]):null,Hy(4194308,4,Q3.bind(null,x,m),E)},useLayoutEffect:function(m,x){return Hy(4194308,4,m,x)},useInsertionEffect:function(m,x){return Hy(4,2,m,x)},useMemo:function(m,x){var E=Qa();return x=x===void 0?null:x,m=m(),E.memoizedState=[m,x],m},useReducer:function(m,x,E){var P=Qa();return x=E!==void 0?E(x):x,P.memoizedState=P.baseState=x,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:x},P.queue=m,m=m.dispatch=mne.bind(null,$n,m),[P.memoizedState,m]},useRef:function(m){var x=Qa();return m={current:m},x.memoizedState=m},useState:MM,useDebugValue:AM,useDeferredValue:function(m){var x=MM(m),E=x[0],P=x[1];return TM(function(){var O=Zs.transition;Zs.transition={};try{P(m)}finally{Zs.transition=O}},[m]),E},useTransition:function(){var m=MM(!1),x=m[0];return m=pne.bind(null,m[1]),Qa().memoizedState=m,[x,m]},useMutableSource:function(){},useSyncExternalStore:function(m,x,E){var P=$n,O=Qa();if(Cn){if(E===void 0)throw Error(o(407));E=E()}else{if(E=x(),gr===null)throw Error(o(349));$d&30||G3(P,x,E)}O.memoizedState=E;var W={value:E,getSnapshot:x};return O.queue=W,TM(X3.bind(null,P,W,m),[m]),P.flags|=2048,Gm(9,$3.bind(null,P,W,E,x),void 0,null),E},useId:function(){var m=Qa(),x=gr.identifierPrefix;if(Cn){var E=Za,P=qa;E=(P&~(1<<32-Qr(P)-1)).toString(32)+E,x=":"+x+"R"+E,E=Wm++,0<E&&(x+="H"+E.toString(32)),x+=":"}else E=hne++,x=":"+x+"r"+E.toString(32)+":";return m.memoizedState=x},unstable_isNewReconciler:!1},yne={readContext:rr,useCallback:ek,useContext:rr,useEffect:$m,useImperativeHandle:J3,useInsertionEffect:q3,useLayoutEffect:Z3,useMemo:tk,useReducer:jy,useRef:K3,useState:function(){return jy(Bu)},useDebugValue:AM,useDeferredValue:function(m){var x=jy(Bu),E=x[0],P=x[1];return $m(function(){var O=Zs.transition;Zs.transition={};try{P(m)}finally{Zs.transition=O}},[m]),E},useTransition:function(){var m=jy(Bu)[0],x=ga().memoizedState;return[m,x]},useMutableSource:H3,useSyncExternalStore:W3,useId:nk,unstable_isNewReconciler:!1},xne={readContext:rr,useCallback:ek,useContext:rr,useEffect:$m,useImperativeHandle:J3,useInsertionEffect:q3,useLayoutEffect:Z3,useMemo:tk,useReducer:Vy,useRef:K3,useState:function(){return Vy(Bu)},useDebugValue:AM,useDeferredValue:function(m){var x=Vy(Bu),E=x[0],P=x[1];return $m(function(){var O=Zs.transition;Zs.transition={};try{P(m)}finally{Zs.transition=O}},[m]),E},useTransition:function(){var m=Vy(Bu)[0],x=ga().memoizedState;return[m,x]},useMutableSource:H3,useSyncExternalStore:W3,useId:nk,unstable_isNewReconciler:!1};function CM(m,x){try{var E="",P=x;do E+=ku(P),P=P.return;while(P);var O=E}catch(W){O=`
Error generating stack: `+W.message+`
`+W.stack}return{value:m,source:x,stack:O}}function PM(m,x){try{console.error(x.value)}catch(E){setTimeout(function(){throw E})}}var wne=typeof WeakMap=="function"?WeakMap:Map;function ak(m,x,E){E=Ka(-1,E),E.tag=3,E.payload={element:null};var P=x.value;return E.callback=function(){ax||(ax=!0,XM=P),PM(m,x)},E}function lk(m,x,E){E=Ka(-1,E),E.tag=3;var P=m.type.getDerivedStateFromError;if(typeof P=="function"){var O=x.value;E.payload=function(){return P(O)},E.callback=function(){PM(m,x)}}var W=m.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(E.callback=function(){PM(m,x),typeof P!="function"&&(oc===null?oc=new Set([this]):oc.add(this));var ie=x.stack;this.componentDidCatch(x.value,{componentStack:ie!==null?ie:""})}),E}function ck(m,x,E){var P=m.pingCache;if(P===null){P=m.pingCache=new wne;var O=new Set;P.set(x,O)}else O=P.get(x),O===void 0&&(O=new Set,P.set(x,O));O.has(E)||(O.add(E),m=Lne.bind(null,m,x,E),x.then(m,m))}function uk(m){do{var x;if((x=m.tag===13)&&(x=m.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return m;m=m.return}while(m!==null);return null}function fk(m,x,E,P,O){return m.mode&1?(m.flags|=65536,m.lanes=O,m):(m===x?m.flags|=65536:(m.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(x=Ka(-1,1),x.tag=2,sc(E,x))),E.lanes|=1),m)}function va(m){m.flags|=4}function dk(m,x){if(m!==null&&m.child===x.child)return!0;if(x.flags&16)return!1;for(m=x.child;m!==null;){if(m.flags&12854||m.subtreeFlags&12854)return!1;m=m.sibling}return!0}var Xm,Ym,$y,Xy;if(ue)Xm=function(m,x){for(var E=x.child;E!==null;){if(E.tag===5||E.tag===6)G(m,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===x)break;for(;E.sibling===null;){if(E.return===null||E.return===x)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},Ym=function(){},$y=function(m,x,E,P,O){if(m=m.memoizedProps,m!==P){var W=x.stateNode,ie=ma(qs.current);E=Z(W,E,m,P,O,ie),(x.updateQueue=E)&&va(x)}},Xy=function(m,x,E,P){E!==P&&va(x)};else if(H){Xm=function(m,x,E,P){for(var O=x.child;O!==null;){if(O.tag===5){var W=O.stateNode;E&&P&&(W=xt(W,O.type,O.memoizedProps,O)),G(m,W)}else if(O.tag===6)W=O.stateNode,E&&P&&(W=Dt(W,O.memoizedProps,O)),G(m,W);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)W=O.child,W!==null&&(W.return=O),Xm(m,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===x)break;for(;O.sibling===null;){if(O.return===null||O.return===x)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var hk=function(m,x,E,P){for(var O=x.child;O!==null;){if(O.tag===5){var W=O.stateNode;E&&P&&(W=xt(W,O.type,O.memoizedProps,O)),Ze(m,W)}else if(O.tag===6)W=O.stateNode,E&&P&&(W=Dt(W,O.memoizedProps,O)),Ze(m,W);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)W=O.child,W!==null&&(W.return=O),hk(m,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===x)break;for(;O.sibling===null;){if(O.return===null||O.return===x)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};Ym=function(m,x){var E=x.stateNode;if(!dk(m,x)){m=E.containerInfo;var P=Ye(m);hk(P,x,!1,!1),E.pendingChildren=P,va(x),ut(m,P)}},$y=function(m,x,E,P,O){var W=m.stateNode,ie=m.memoizedProps;if((m=dk(m,x))&&ie===P)x.stateNode=W;else{var ge=x.stateNode,Oe=ma(qs.current),qe=null;ie!==P&&(qe=Z(ge,E,ie,P,O,Oe)),m&&qe===null?x.stateNode=W:(W=ze(W,qe,E,ie,P,x,m,ge),Y(W,E,P,O,Oe)&&va(x),x.stateNode=W,m?va(x):Xm(W,x,!1,!1))}},Xy=function(m,x,E,P){E!==P?(m=ma(Wd.current),E=ma(qs.current),x.stateNode=re(P,m,E,x),va(x)):x.stateNode=m.stateNode}}else Ym=function(){},$y=function(){},Xy=function(){};function Km(m,x){if(!Cn)switch(m.tailMode){case"hidden":x=m.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?m.tail=null:E.sibling=null;break;case"collapsed":E=m.tail;for(var P=null;E!==null;)E.alternate!==null&&(P=E),E=E.sibling;P===null?x||m.tail===null?m.tail=null:m.tail.sibling=null:P.sibling=null}}function pi(m){var x=m.alternate!==null&&m.alternate.child===m.child,E=0,P=0;if(x)for(var O=m.child;O!==null;)E|=O.lanes|O.childLanes,P|=O.subtreeFlags&14680064,P|=O.flags&14680064,O.return=m,O=O.sibling;else for(O=m.child;O!==null;)E|=O.lanes|O.childLanes,P|=O.subtreeFlags,P|=O.flags,O.return=m,O=O.sibling;return m.subtreeFlags|=P,m.childLanes=E,x}function _ne(m,x,E){var P=x.pendingProps;switch(pM(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(x),null;case 1:return An(x.type)&&qt(),pi(x),null;case 3:return P=x.stateNode,Gd(),yt(hn),yt(Pt),_M(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(m===null||m.child===null)&&(Bm(x)?va(x):m===null||m.memoizedState.isDehydrated&&!(x.flags&256)||(x.flags|=1024,Ao!==null&&(qM(Ao),Ao=null))),Ym(m,x),pi(x),null;case 5:xM(x),E=ma(Wd.current);var O=x.type;if(m!==null&&x.stateNode!=null)$y(m,x,O,P,E),m.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!P){if(x.stateNode===null)throw Error(o(166));return pi(x),null}if(m=ma(qs.current),Bm(x)){if(!he)throw Error(o(175));m=ec(x.stateNode,x.type,x.memoizedProps,E,m,x,!Fm),x.updateQueue=m,m!==null&&va(x)}else{var W=B(O,P,E,m,x);Xm(W,x,!1,!1),x.stateNode=W,Y(W,O,P,E,m)&&va(x)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return pi(x),null;case 6:if(m&&x.stateNode!=null)Xy(m,x,m.memoizedProps,P);else{if(typeof P!="string"&&x.stateNode===null)throw Error(o(166));if(m=ma(Wd.current),E=ma(qs.current),Bm(x)){if(!he)throw Error(o(176));if(m=x.stateNode,P=x.memoizedProps,(E=ua(m,P,x,!Fm))&&(O=ws,O!==null))switch(W=(O.mode&1)!==0,O.tag){case 3:dt(O.stateNode.containerInfo,m,P,W);break;case 5:mt(O.type,O.memoizedProps,O.stateNode,m,P,W)}E&&va(x)}else x.stateNode=re(P,m,E,x)}return pi(x),null;case 13:if(yt(On),P=x.memoizedState,Cn&&_s!==null&&x.mode&1&&!(x.flags&128)){for(m=_s;m;)m=Lr(m);return Vd(),x.flags|=98560,x}if(P!==null&&P.dehydrated!==null){if(P=Bm(x),m===null){if(!P)throw Error(o(318));if(!he)throw Error(o(344));if(m=x.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));tc(m,x)}else Vd(),!(x.flags&128)&&(x.memoizedState=null),x.flags|=4;return pi(x),null}return Ao!==null&&(qM(Ao),Ao=null),x.flags&128?(x.lanes=E,x):(P=P!==null,E=!1,m===null?Bm(x):E=m.memoizedState!==null,P&&!E&&(x.child.flags|=8192,x.mode&1&&(m===null||On.current&1?Ar===0&&(Ar=3):QM())),x.updateQueue!==null&&(x.flags|=4),pi(x),null);case 4:return Gd(),Ym(m,x),m===null&&me(x.stateNode.containerInfo),pi(x),null;case 10:return Ur(x.type._context),pi(x),null;case 17:return An(x.type)&&qt(),pi(x),null;case 19:if(yt(On),O=x.memoizedState,O===null)return pi(x),null;if(P=(x.flags&128)!==0,W=O.rendering,W===null)if(P)Km(O,!1);else{if(Ar!==0||m!==null&&m.flags&128)for(m=x.child;m!==null;){if(W=Fy(m),W!==null){for(x.flags|=128,Km(O,!1),m=W.updateQueue,m!==null&&(x.updateQueue=m,x.flags|=4),x.subtreeFlags=0,m=E,P=x.child;P!==null;)E=P,O=m,E.flags&=14680066,W=E.alternate,W===null?(E.childLanes=0,E.lanes=O,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=W.childLanes,E.lanes=W.lanes,E.child=W.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=W.memoizedProps,E.memoizedState=W.memoizedState,E.updateQueue=W.updateQueue,E.type=W.type,O=W.dependencies,E.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),P=P.sibling;return at(On,On.current&1|2),x.child}m=m.sibling}O.tail!==null&&Ln()>$M&&(x.flags|=128,P=!0,Km(O,!1),x.lanes=4194304)}else{if(!P)if(m=Fy(W),m!==null){if(x.flags|=128,P=!0,m=m.updateQueue,m!==null&&(x.updateQueue=m,x.flags|=4),Km(O,!0),O.tail===null&&O.tailMode==="hidden"&&!W.alternate&&!Cn)return pi(x),null}else 2*Ln()-O.renderingStartTime>$M&&E!==1073741824&&(x.flags|=128,P=!0,Km(O,!1),x.lanes=4194304);O.isBackwards?(W.sibling=x.child,x.child=W):(m=O.last,m!==null?m.sibling=W:x.child=W,O.last=W)}return O.tail!==null?(x=O.tail,O.rendering=x,O.tail=x.sibling,O.renderingStartTime=Ln(),x.sibling=null,m=On.current,at(On,P?m&1|2:m&1),x):(pi(x),null);case 22:case 23:return ZM(),P=x.memoizedState!==null,m!==null&&m.memoizedState!==null!==P&&(x.flags|=8192),P&&x.mode&1?Ss&1073741824&&(pi(x),ue&&x.subtreeFlags&6&&(x.flags|=8192)):pi(x),null;case 24:return null;case 25:return null}throw Error(o(156,x.tag))}var bne=a.ReactCurrentOwner,bs=!1;function Fi(m,x,E,P){x.child=m===null?j3(x,null,E,P):Hd(x,m.child,E,P)}function pk(m,x,E,P,O){E=E.render;var W=x.ref;return nr(x,O),P=SM(m,x,E,P,W,O),E=EM(),m!==null&&!bs?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~O,Ja(m,x,O)):(Cn&&E&&hM(x),x.flags|=1,Fi(m,x,P,O),x.child)}function mk(m,x,E,P,O){if(m===null){var W=E.type;return typeof W=="function"&&!JM(W)&&W.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(x.tag=15,x.type=W,gk(m,x,W,P,O)):(m=px(E.type,null,P,x,x.mode,O),m.ref=x.ref,m.return=x,x.child=m)}if(W=m.child,!(m.lanes&O)){var ie=W.memoizedProps;if(E=E.compare,E=E!==null?E:Ou,E(ie,P)&&m.ref===x.ref)return Ja(m,x,O)}return x.flags|=1,m=uc(W,P),m.ref=x.ref,m.return=x,x.child=m}function gk(m,x,E,P,O){if(m!==null&&Ou(m.memoizedProps,P)&&m.ref===x.ref)if(bs=!1,(m.lanes&O)!==0)m.flags&131072&&(bs=!0);else return x.lanes=m.lanes,Ja(m,x,O);return RM(m,x,E,P,O)}function vk(m,x,E){var P=x.pendingProps,O=P.children,W=m!==null?m.memoizedState:null;if(P.mode==="hidden")if(!(x.mode&1))x.memoizedState={baseLanes:0,cachePool:null},at(Xd,Ss),Ss|=E;else if(E&1073741824)x.memoizedState={baseLanes:0,cachePool:null},P=W!==null?W.baseLanes:E,at(Xd,Ss),Ss|=P;else return m=W!==null?W.baseLanes|E:E,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:m,cachePool:null},x.updateQueue=null,at(Xd,Ss),Ss|=m,null;else W!==null?(P=W.baseLanes|E,x.memoizedState=null):P=E,at(Xd,Ss),Ss|=P;return Fi(m,x,O,E),x.child}function yk(m,x){var E=x.ref;(m===null&&E!==null||m!==null&&m.ref!==E)&&(x.flags|=512,x.flags|=2097152)}function RM(m,x,E,P,O){var W=An(E)?Di:Pt.current;return W=mr(x,W),nr(x,O),E=SM(m,x,E,P,W,O),P=EM(),m!==null&&!bs?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~O,Ja(m,x,O)):(Cn&&P&&hM(x),x.flags|=1,Fi(m,x,E,O),x.child)}function xk(m,x,E,P,O){if(An(E)){var W=!0;Dn(x)}else W=!1;if(nr(x,O),x.stateNode===null)m!==null&&(m.alternate=null,x.alternate=null,x.flags|=2),D3(x,E,P),dM(x,E,P,O),P=!0;else if(m===null){var ie=x.stateNode,ge=x.memoizedProps;ie.props=ge;var Oe=ie.context,qe=E.contextType;typeof qe=="object"&&qe!==null?qe=rr(qe):(qe=An(E)?Di:Pt.current,qe=mr(x,qe));var ft=E.getDerivedStateFromProps,Nt=typeof ft=="function"||typeof ie.getSnapshotBeforeUpdate=="function";Nt||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(ge!==P||Oe!==qe)&&L3(x,ie,P,qe),ic=!1;var St=x.memoizedState;ie.state=St,Dy(x,P,ie,O),Oe=x.memoizedState,ge!==P||St!==Oe||hn.current||ic?(typeof ft=="function"&&(fM(x,E,ft,P),Oe=x.memoizedState),(ge=ic||I3(x,E,ge,P,St,Oe,qe))?(Nt||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=P,x.memoizedState=Oe),ie.props=P,ie.state=Oe,ie.context=qe,P=ge):(typeof ie.componentDidMount=="function"&&(x.flags|=4194308),P=!1)}else{ie=x.stateNode,C3(m,x),ge=x.memoizedProps,qe=x.type===x.elementType?ge:ki(x.type,ge),ie.props=qe,Nt=x.pendingProps,St=ie.context,Oe=E.contextType,typeof Oe=="object"&&Oe!==null?Oe=rr(Oe):(Oe=An(E)?Di:Pt.current,Oe=mr(x,Oe));var pn=E.getDerivedStateFromProps;(ft=typeof pn=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(ge!==Nt||St!==Oe)&&L3(x,ie,P,Oe),ic=!1,St=x.memoizedState,ie.state=St,Dy(x,P,ie,O);var gt=x.memoizedState;ge!==Nt||St!==gt||hn.current||ic?(typeof pn=="function"&&(fM(x,E,pn,P),gt=x.memoizedState),(qe=ic||I3(x,E,qe,P,St,gt,Oe)||!1)?(ft||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(P,gt,Oe),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(P,gt,Oe)),typeof ie.componentDidUpdate=="function"&&(x.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ie.componentDidUpdate!="function"||ge===m.memoizedProps&&St===m.memoizedState||(x.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||ge===m.memoizedProps&&St===m.memoizedState||(x.flags|=1024),x.memoizedProps=P,x.memoizedState=gt),ie.props=P,ie.state=gt,ie.context=Oe,P=qe):(typeof ie.componentDidUpdate!="function"||ge===m.memoizedProps&&St===m.memoizedState||(x.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||ge===m.memoizedProps&&St===m.memoizedState||(x.flags|=1024),P=!1)}return NM(m,x,E,P,W,O)}function NM(m,x,E,P,O,W){yk(m,x);var ie=(x.flags&128)!==0;if(!P&&!ie)return O&&tr(x,E,!1),Ja(m,x,W);P=x.stateNode,bne.current=x;var ge=ie&&typeof E.getDerivedStateFromError!="function"?null:P.render();return x.flags|=1,m!==null&&ie?(x.child=Hd(x,m.child,null,W),x.child=Hd(x,null,ge,W)):Fi(m,x,ge,W),x.memoizedState=P.state,O&&tr(x,E,!0),x.child}function wk(m){var x=m.stateNode;x.pendingContext?fi(m,x.pendingContext,x.pendingContext!==x.context):x.context&&fi(m,x.context,!1),yM(m,x.containerInfo)}function _k(m,x,E,P,O){return Vd(),vM(O),x.flags|=256,Fi(m,x,E,P),x.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function Ky(m){return{baseLanes:m,cachePool:null}}function bk(m,x,E){var P=x.pendingProps,O=On.current,W=!1,ie=(x.flags&128)!==0,ge;if((ge=ie)||(ge=m!==null&&m.memoizedState===null?!1:(O&2)!==0),ge?(W=!0,x.flags&=-129):(m===null||m.memoizedState!==null)&&(O|=1),at(On,O&1),m===null)return gM(x),m=x.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?(x.mode&1?qr(m)?x.lanes=8:x.lanes=1073741824:x.lanes=1,null):(O=P.children,m=P.fallback,W?(P=x.mode,W=x.child,O={mode:"hidden",children:O},!(P&1)&&W!==null?(W.childLanes=0,W.pendingProps=O):W=mx(O,P,0,null),m=Gu(m,P,E,null),W.return=x,m.return=x,W.sibling=m,x.child=W,x.child.memoizedState=Ky(E),x.memoizedState=Yy,m):IM(x,O));if(O=m.memoizedState,O!==null){if(ge=O.dehydrated,ge!==null){if(ie)return x.flags&256?(x.flags&=-257,qy(m,x,E,Error(o(422)))):x.memoizedState!==null?(x.child=m.child,x.flags|=128,null):(W=P.fallback,O=x.mode,P=mx({mode:"visible",children:P.children},O,0,null),W=Gu(W,O,E,null),W.flags|=2,P.return=x,W.return=x,P.sibling=W,x.child=P,x.mode&1&&Hd(x,m.child,null,E),x.child.memoizedState=Ky(E),x.memoizedState=Yy,W);if(!(x.mode&1))x=qy(m,x,E,null);else if(qr(ge))x=qy(m,x,E,Error(o(419)));else if(P=(E&m.childLanes)!==0,bs||P){if(P=gr,P!==null){switch(E&-E){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}P=W&(P.suspendedLanes|E)?0:W,P!==0&&P!==O.retryLane&&(O.retryLane=P,Qs(m,P,-1))}QM(),x=qy(m,x,E,Error(o(421)))}else ui(ge)?(x.flags|=128,x.child=m.child,x=One.bind(null,m),Zr(ge,x),x=null):(E=O.treeContext,he&&(_s=Ji(ge),ws=x,Cn=!0,Ao=null,Fm=!1,E!==null&&(Ys[Ks++]=qa,Ys[Ks++]=Za,Ys[Ks++]=Uu,qa=E.id,Za=E.overflow,Uu=x)),x=IM(x,x.pendingProps.children),x.flags|=4096);return x}return W?(P=Ek(m,x,P.children,P.fallback,E),W=x.child,O=m.child.memoizedState,W.memoizedState=O===null?Ky(E):{baseLanes:O.baseLanes|E,cachePool:null},W.childLanes=m.childLanes&~E,x.memoizedState=Yy,P):(E=Sk(m,x,P.children,E),x.memoizedState=null,E)}return W?(P=Ek(m,x,P.children,P.fallback,E),W=x.child,O=m.child.memoizedState,W.memoizedState=O===null?Ky(E):{baseLanes:O.baseLanes|E,cachePool:null},W.childLanes=m.childLanes&~E,x.memoizedState=Yy,P):(E=Sk(m,x,P.children,E),x.memoizedState=null,E)}function IM(m,x){return x=mx({mode:"visible",children:x},m.mode,0,null),x.return=m,m.child=x}function Sk(m,x,E,P){var O=m.child;return m=O.sibling,E=uc(O,{mode:"visible",children:E}),!(x.mode&1)&&(E.lanes=P),E.return=x,E.sibling=null,m!==null&&(P=x.deletions,P===null?(x.deletions=[m],x.flags|=16):P.push(m)),x.child=E}function Ek(m,x,E,P,O){var W=x.mode;m=m.child;var ie=m.sibling,ge={mode:"hidden",children:E};return!(W&1)&&x.child!==m?(E=x.child,E.childLanes=0,E.pendingProps=ge,x.deletions=null):(E=uc(m,ge),E.subtreeFlags=m.subtreeFlags&14680064),ie!==null?P=uc(ie,P):(P=Gu(P,W,O,null),P.flags|=2),P.return=x,E.return=x,E.sibling=P,x.child=E,P}function qy(m,x,E,P){return P!==null&&vM(P),Hd(x,m.child,null,E),m=IM(x,x.pendingProps.children),m.flags|=2,x.memoizedState=null,m}function Mk(m,x,E){m.lanes|=x;var P=m.alternate;P!==null&&(P.lanes|=x),Ui(m.return,x,E)}function DM(m,x,E,P,O){var W=m.memoizedState;W===null?m.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:P,tail:E,tailMode:O}:(W.isBackwards=x,W.rendering=null,W.renderingStartTime=0,W.last=P,W.tail=E,W.tailMode=O)}function Tk(m,x,E){var P=x.pendingProps,O=P.revealOrder,W=P.tail;if(Fi(m,x,P.children,E),P=On.current,P&2)P=P&1|2,x.flags|=128;else{if(m!==null&&m.flags&128)e:for(m=x.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Mk(m,E,x);else if(m.tag===19)Mk(m,E,x);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===x)break e;for(;m.sibling===null;){if(m.return===null||m.return===x)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}P&=1}if(at(On,P),!(x.mode&1))x.memoizedState=null;else switch(O){case"forwards":for(E=x.child,O=null;E!==null;)m=E.alternate,m!==null&&Fy(m)===null&&(O=E),E=E.sibling;E=O,E===null?(O=x.child,x.child=null):(O=E.sibling,E.sibling=null),DM(x,!1,O,E,W);break;case"backwards":for(E=null,O=x.child,x.child=null;O!==null;){if(m=O.alternate,m!==null&&Fy(m)===null){x.child=O;break}m=O.sibling,O.sibling=E,E=O,O=m}DM(x,!0,E,null,W);break;case"together":DM(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Ja(m,x,E){if(m!==null&&(x.dependencies=m.dependencies),Yd|=x.lanes,!(E&x.childLanes))return null;if(m!==null&&x.child!==m.child)throw Error(o(153));if(x.child!==null){for(m=x.child,E=uc(m,m.pendingProps),x.child=E,E.return=x;m.sibling!==null;)m=m.sibling,E=E.sibling=uc(m,m.pendingProps),E.return=x;E.sibling=null}return x.child}function Sne(m,x,E){switch(x.tag){case 3:wk(x),Vd();break;case 5:V3(x);break;case 1:An(x.type)&&Dn(x);break;case 4:yM(x,x.stateNode.containerInfo);break;case 10:Ny(x,x.type._context,x.memoizedProps.value);break;case 13:var P=x.memoizedState;if(P!==null)return P.dehydrated!==null?(at(On,On.current&1),x.flags|=128,null):E&x.child.childLanes?bk(m,x,E):(at(On,On.current&1),m=Ja(m,x,E),m!==null?m.sibling:null);at(On,On.current&1);break;case 19:if(P=(E&x.childLanes)!==0,m.flags&128){if(P)return Tk(m,x,E);x.flags|=128}var O=x.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),at(On,On.current),P)break;return null;case 22:case 23:return x.lanes=0,vk(m,x,E)}return Ja(m,x,E)}function Ene(m,x){switch(pM(x),x.tag){case 1:return An(x.type)&&qt(),m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 3:return Gd(),yt(hn),yt(Pt),_M(),m=x.flags,m&65536&&!(m&128)?(x.flags=m&-65537|128,x):null;case 5:return xM(x),null;case 13:if(yt(On),m=x.memoizedState,m!==null&&m.dehydrated!==null){if(x.alternate===null)throw Error(o(340));Vd()}return m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 19:return yt(On),null;case 4:return Gd(),null;case 10:return Ur(x.type._context),null;case 22:case 23:return ZM(),null;case 24:return null;default:return null}}var Zy=!1,zu=!1,Mne=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Qy(m,x){var E=m.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(P){rs(m,x,P)}else E.current=null}function LM(m,x,E){try{E()}catch(P){rs(m,x,P)}}var Ak=!1;function Tne(m,x){for(k(m.containerInfo),rt=x;rt!==null;)if(m=rt,x=m.child,(m.subtreeFlags&1028)!==0&&x!==null)x.return=m,rt=x;else for(;rt!==null;){m=rt;try{var E=m.alternate;if(m.flags&1024)switch(m.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var P=E.memoizedProps,O=E.memoizedState,W=m.stateNode,ie=W.getSnapshotBeforeUpdate(m.elementType===m.type?P:ki(m.type,P),O);W.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:ue&&We(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ge){rs(m,m.return,ge)}if(x=m.sibling,x!==null){x.return=m.return,rt=x;break}rt=m.return}return E=Ak,Ak=!1,E}function ju(m,x,E){var P=x.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var O=P=P.next;do{if((O.tag&m)===m){var W=O.destroy;O.destroy=void 0,W!==void 0&&LM(x,E,W)}O=O.next}while(O!==P)}}function qm(m,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var E=x=x.next;do{if((E.tag&m)===m){var P=E.create;E.destroy=P()}E=E.next}while(E!==x)}}function OM(m){var x=m.ref;if(x!==null){var E=m.stateNode;switch(m.tag){case 5:m=j(E);break;default:m=E}typeof x=="function"?x(m):x.current=m}}function Ck(m,x,E){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Du,x)}catch{}switch(x.tag){case 0:case 11:case 14:case 15:if(m=x.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var P=m=m.next;do{var O=P,W=O.destroy;O=O.tag,W!==void 0&&(O&2||O&4)&&LM(x,E,W),P=P.next}while(P!==m)}break;case 1:if(Qy(x,E),m=x.stateNode,typeof m.componentWillUnmount=="function")try{m.props=x.memoizedProps,m.state=x.memoizedState,m.componentWillUnmount()}catch(ie){rs(x,E,ie)}break;case 5:Qy(x,E);break;case 4:ue?Lk(m,x,E):H&&H&&(x=x.stateNode.containerInfo,E=Ye(x),et(x,E))}}function Pk(m,x,E){for(var P=x;;)if(Ck(m,P,E),P.child===null||ue&&P.tag===4){if(P===x)break;for(;P.sibling===null;){if(P.return===null||P.return===x)return;P=P.return}P.sibling.return=P.return,P=P.sibling}else P.child.return=P,P=P.child}function Rk(m){var x=m.alternate;x!==null&&(m.alternate=null,Rk(x)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(x=m.stateNode,x!==null&&ke(x)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Nk(m){return m.tag===5||m.tag===3||m.tag===4}function Ik(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||Nk(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Dk(m){if(ue){e:{for(var x=m.return;x!==null;){if(Nk(x))break e;x=x.return}throw Error(o(160))}var E=x;switch(E.tag){case 5:x=E.stateNode,E.flags&32&&(Ce(x),E.flags&=-33),E=Ik(m),UM(m,E,x);break;case 3:case 4:x=E.stateNode.containerInfo,E=Ik(m),kM(m,E,x);break;default:throw Error(o(161))}}}function kM(m,x,E){var P=m.tag;if(P===5||P===6)m=m.stateNode,x?Ge(E,m,x):$e(E,m);else if(P!==4&&(m=m.child,m!==null))for(kM(m,x,E),m=m.sibling;m!==null;)kM(m,x,E),m=m.sibling}function UM(m,x,E){var P=m.tag;if(P===5||P===6)m=m.stateNode,x?Xe(E,m,x):je(E,m);else if(P!==4&&(m=m.child,m!==null))for(UM(m,x,E),m=m.sibling;m!==null;)UM(m,x,E),m=m.sibling}function Lk(m,x,E){for(var P=x,O=!1,W,ie;;){if(!O){O=P.return;e:for(;;){if(O===null)throw Error(o(160));switch(W=O.stateNode,O.tag){case 5:ie=!1;break e;case 3:W=W.containerInfo,ie=!0;break e;case 4:W=W.containerInfo,ie=!0;break e}O=O.return}O=!0}if(P.tag===5||P.tag===6)Pk(m,P,E),ie?oe(W,P.stateNode):Ie(W,P.stateNode);else if(P.tag===18)ie?Ee(W,P.stateNode):Pe(W,P.stateNode);else if(P.tag===4){if(P.child!==null){W=P.stateNode.containerInfo,ie=!0,P.child.return=P,P=P.child;continue}}else if(Ck(m,P,E),P.child!==null){P.child.return=P,P=P.child;continue}if(P===x)break;for(;P.sibling===null;){if(P.return===null||P.return===x)return;P=P.return,P.tag===4&&(O=!1)}P.sibling.return=P.return,P=P.sibling}}function FM(m,x){if(ue){switch(x.tag){case 0:case 11:case 14:case 15:ju(3,x,x.return),qm(3,x),ju(5,x,x.return);return;case 1:return;case 5:var E=x.stateNode;if(E!=null){var P=x.memoizedProps;m=m!==null?m.memoizedProps:P;var O=x.type,W=x.updateQueue;x.updateQueue=null,W!==null&&tt(E,W,O,m,P,x)}return;case 6:if(x.stateNode===null)throw Error(o(162));E=x.memoizedProps,Ae(x.stateNode,m!==null?m.memoizedProps:E,E);return;case 3:he&&m!==null&&m.memoizedState.isDehydrated&&we(x.stateNode.containerInfo);return;case 12:return;case 13:Jy(x);return;case 19:Jy(x);return;case 17:return}throw Error(o(163))}switch(x.tag){case 0:case 11:case 14:case 15:ju(3,x,x.return),qm(3,x),ju(5,x,x.return);return;case 12:return;case 13:Jy(x);return;case 19:Jy(x);return;case 3:he&&m!==null&&m.memoizedState.isDehydrated&&we(x.stateNode.containerInfo);break;case 22:case 23:return}e:if(H){switch(x.tag){case 1:case 5:case 6:break e;case 3:case 4:x=x.stateNode,et(x.containerInfo,x.pendingChildren);break e}throw Error(o(163))}}function Jy(m){var x=m.updateQueue;if(x!==null){m.updateQueue=null;var E=m.stateNode;E===null&&(E=m.stateNode=new Mne),x.forEach(function(P){var O=kne.bind(null,m,P);E.has(P)||(E.add(P),P.then(O,O))})}}function Ane(m,x){for(rt=x;rt!==null;){x=rt;var E=x.deletions;if(E!==null)for(var P=0;P<E.length;P++){var O=E[P];try{var W=m;ue?Lk(W,O,x):Pk(W,O,x);var ie=O.alternate;ie!==null&&(ie.return=null),O.return=null}catch(pt){rs(O,x,pt)}}if(E=x.child,x.subtreeFlags&12854&&E!==null)E.return=x,rt=E;else for(;rt!==null;){x=rt;try{var ge=x.flags;if(ge&32&&ue&&Ce(x.stateNode),ge&512){var Oe=x.alternate;if(Oe!==null){var qe=Oe.ref;qe!==null&&(typeof qe=="function"?qe(null):qe.current=null)}}if(ge&8192)switch(x.tag){case 13:if(x.memoizedState!==null){var ft=x.alternate;(ft===null||ft.memoizedState===null)&&(GM=Ln())}break;case 22:var Nt=x.memoizedState!==null,St=x.alternate,pn=St!==null&&St.memoizedState!==null;if(E=x,ue){e:if(P=E,O=Nt,W=null,ue)for(var gt=P;;){if(gt.tag===5){if(W===null){W=gt;var mi=gt.stateNode;O?De(mi):xe(gt.stateNode,gt.memoizedProps)}}else if(gt.tag===6){if(W===null){var eo=gt.stateNode;O?Ue(eo):ce(eo,gt.memoizedProps)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===P)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===P)break;for(;gt.sibling===null;){if(gt.return===null||gt.return===P)break e;W===gt&&(W=null),gt=gt.return}W===gt&&(W=null),gt.sibling.return=gt.return,gt=gt.sibling}}if(Nt&&!pn&&E.mode&1){rt=E;for(var Se=E.child;Se!==null;){for(E=rt=Se;rt!==null;){P=rt;var ye=P.child;switch(P.tag){case 0:case 11:case 14:case 15:ju(4,P,P.return);break;case 1:Qy(P,P.return);var Ne=P.stateNode;if(typeof Ne.componentWillUnmount=="function"){var ot=P.return;try{Ne.props=P.memoizedProps,Ne.state=P.memoizedState,Ne.componentWillUnmount()}catch(pt){rs(P,ot,pt)}}break;case 5:Qy(P,P.return);break;case 22:if(P.memoizedState!==null){Uk(E);continue}}ye!==null?(ye.return=P,rt=ye):Uk(E)}Se=Se.sibling}}}switch(ge&4102){case 2:Dk(x),x.flags&=-3;break;case 6:Dk(x),x.flags&=-3,FM(x.alternate,x);break;case 4096:x.flags&=-4097;break;case 4100:x.flags&=-4097,FM(x.alternate,x);break;case 4:FM(x.alternate,x)}}catch(pt){rs(x,x.return,pt)}if(E=x.sibling,E!==null){E.return=x.return,rt=E;break}rt=x.return}}}function Cne(m,x,E){rt=m,Ok(m)}function Ok(m,x,E){for(var P=(m.mode&1)!==0;rt!==null;){var O=rt,W=O.child;if(O.tag===22&&P){var ie=O.memoizedState!==null||Zy;if(!ie){var ge=O.alternate,Oe=ge!==null&&ge.memoizedState!==null||zu;ge=Zy;var qe=zu;if(Zy=ie,(zu=Oe)&&!qe)for(rt=O;rt!==null;)ie=rt,Oe=ie.child,ie.tag===22&&ie.memoizedState!==null?Fk(O):Oe!==null?(Oe.return=ie,rt=Oe):Fk(O);for(;W!==null;)rt=W,Ok(W),W=W.sibling;rt=O,Zy=ge,zu=qe}kk(m)}else O.subtreeFlags&8772&&W!==null?(W.return=O,rt=W):kk(m)}}function kk(m){for(;rt!==null;){var x=rt;if(x.flags&8772){var E=x.alternate;try{if(x.flags&8772)switch(x.tag){case 0:case 11:case 15:zu||qm(5,x);break;case 1:var P=x.stateNode;if(x.flags&4&&!zu)if(E===null)P.componentDidMount();else{var O=x.elementType===x.type?E.memoizedProps:ki(x.type,E.memoizedProps);P.componentDidUpdate(O,E.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var W=x.updateQueue;W!==null&&R3(x,W,P);break;case 3:var ie=x.updateQueue;if(ie!==null){if(E=null,x.child!==null)switch(x.child.tag){case 5:E=j(x.child.stateNode);break;case 1:E=x.child.stateNode}R3(x,ie,E)}break;case 5:var ge=x.stateNode;E===null&&x.flags&4&&st(ge,x.type,x.memoizedProps,x);break;case 6:break;case 4:break;case 12:break;case 13:if(he&&x.memoizedState===null){var Oe=x.alternate;if(Oe!==null){var qe=Oe.memoizedState;if(qe!==null){var ft=qe.dehydrated;ft!==null&&Me(ft)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}zu||x.flags&512&&OM(x)}catch(Nt){rs(x,x.return,Nt)}}if(x===m){rt=null;break}if(E=x.sibling,E!==null){E.return=x.return,rt=E;break}rt=x.return}}function Uk(m){for(;rt!==null;){var x=rt;if(x===m){rt=null;break}var E=x.sibling;if(E!==null){E.return=x.return,rt=E;break}rt=x.return}}function Fk(m){for(;rt!==null;){var x=rt;try{switch(x.tag){case 0:case 11:case 15:var E=x.return;try{qm(4,x)}catch(Oe){rs(x,E,Oe)}break;case 1:var P=x.stateNode;if(typeof P.componentDidMount=="function"){var O=x.return;try{P.componentDidMount()}catch(Oe){rs(x,O,Oe)}}var W=x.return;try{OM(x)}catch(Oe){rs(x,W,Oe)}break;case 5:var ie=x.return;try{OM(x)}catch(Oe){rs(x,ie,Oe)}}}catch(Oe){rs(x,x.return,Oe)}if(x===m){rt=null;break}var ge=x.sibling;if(ge!==null){ge.return=x.return,rt=ge;break}rt=x.return}}var ex=0,tx=1,nx=2,rx=3,ix=4;if(typeof Symbol=="function"&&Symbol.for){var Zm=Symbol.for;ex=Zm("selector.component"),tx=Zm("selector.has_pseudo_class"),nx=Zm("selector.role"),rx=Zm("selector.test_id"),ix=Zm("selector.text")}function BM(m){var x=le(m);if(x!=null){if(typeof x.memoizedProps["data-testname"]!="string")throw Error(o(364));return x}if(m=ne(m),m===null)throw Error(o(362));return m.stateNode.current}function zM(m,x){switch(x.$$typeof){case ex:if(m.type===x.value)return!0;break;case tx:e:{x=x.value,m=[m,0];for(var E=0;E<m.length;){var P=m[E++],O=m[E++],W=x[O];if(P.tag!==5||!ve(P)){for(;W!=null&&zM(P,W);)O++,W=x[O];if(O===x.length){x=!0;break e}else for(P=P.child;P!==null;)m.push(P,O),P=P.sibling}}x=!1}return x;case nx:if(m.tag===5&&Re(m.stateNode,x.value))return!0;break;case ix:if((m.tag===5||m.tag===6)&&(m=pe(m),m!==null&&0<=m.indexOf(x.value)))return!0;break;case rx:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===x.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function jM(m){switch(m.$$typeof){case ex:return"<"+(C(m.value)||"Unknown")+">";case tx:return":has("+(jM(m)||"")+")";case nx:return'[role="'+m.value+'"]';case ix:return'"'+m.value+'"';case rx:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function Bk(m,x){var E=[];m=[m,0];for(var P=0;P<m.length;){var O=m[P++],W=m[P++],ie=x[W];if(O.tag!==5||!ve(O)){for(;ie!=null&&zM(O,ie);)W++,ie=x[W];if(W===x.length)E.push(O);else for(O=O.child;O!==null;)m.push(O,W),O=O.sibling}}return E}function VM(m,x){if(!K)throw Error(o(363));m=BM(m),m=Bk(m,x),x=[],m=Array.from(m);for(var E=0;E<m.length;){var P=m[E++];if(P.tag===5)ve(P)||x.push(P.stateNode);else for(P=P.child;P!==null;)m.push(P),P=P.sibling}return x}var Pne=Math.ceil,sx=a.ReactCurrentDispatcher,HM=a.ReactCurrentOwner,ir=a.ReactCurrentBatchConfig,Ht=0,gr=null,vr=null,Jr=0,Ss=0,Xd=yn(0),Ar=0,Qm=null,Yd=0,ox=0,WM=0,Jm=null,ts=null,GM=0,$M=1/0;function Kd(){$M=Ln()+500}var ax=!1,XM=null,oc=null,lx=!1,ac=null,cx=0,eg=0,YM=null,ux=-1,fx=0;function Bi(){return Ht&6?Ln():ux!==-1?ux:ux=Ln()}function lc(m){return m.mode&1?Ht&2&&Jr!==0?Jr&-Jr:Lu.transition!==null?(fx===0&&(m=Wa,Wa<<=1,!(Wa&4194240)&&(Wa=64),fx=m),fx):(m=Wt,m!==0?m:de()):1}function Qs(m,x,E){if(50<eg)throw eg=0,YM=null,Error(o(185));var P=dx(m,x);return P===null?null:(da(P,x,E),(!(Ht&2)||P!==gr)&&(P===gr&&(!(Ht&2)&&(ox|=x),Ar===4&&cc(P,Jr)),ns(P,E),x===1&&Ht===0&&!(m.mode&1)&&(Kd(),pa&&es())),P)}function dx(m,x){m.lanes|=x;var E=m.alternate;for(E!==null&&(E.lanes|=x),E=m,m=m.return;m!==null;)m.childLanes|=x,E=m.alternate,E!==null&&(E.childLanes|=x),E=m,m=m.return;return E.tag===3?E.stateNode:null}function ns(m,x){var E=m.callbackNode;Nm(m,x);var P=Nu(m,m===gr?Jr:0);if(P===0)E!==null&&Ud(E),m.callbackNode=null,m.callbackPriority=0;else if(x=P&-P,m.callbackPriority!==x){if(E!=null&&Ud(E),x===1)m.tag===0?Um(jk.bind(null,m)):km(jk.bind(null,m)),_e?q(function(){Ht===0&&es()}):Ya(Iu,es),E=null;else{switch(Im(P)){case 1:E=Iu;break;case 4:E=Py;break;case 16:E=Li;break;case 536870912:E=Lm;break;default:E=Li}E=qk(E,zk.bind(null,m))}m.callbackPriority=x,m.callbackNode=E}}function zk(m,x){if(ux=-1,fx=0,Ht&6)throw Error(o(327));var E=m.callbackNode;if(Wu()&&m.callbackNode!==E)return null;var P=Nu(m,m===gr?Jr:0);if(P===0)return null;if(P&30||P&m.expiredLanes||x)x=hx(m,P);else{x=P;var O=Ht;Ht|=2;var W=Wk();(gr!==m||Jr!==x)&&(Kd(),Vu(m,x));do try{Ine();break}catch(ge){Hk(m,ge)}while(!0);Bd(),sx.current=W,Ht=O,vr!==null?x=0:(gr=null,Jr=0,x=Ar)}if(x!==0){if(x===2&&(O=Xa(m),O!==0&&(P=O,x=KM(m,O))),x===1)throw E=Qm,Vu(m,0),cc(m,P),ns(m,Ln()),E;if(x===6)cc(m,P);else{if(O=m.current.alternate,!(P&30)&&!Rne(O)&&(x=hx(m,P),x===2&&(W=Xa(m),W!==0&&(P=W,x=KM(m,W))),x===1))throw E=Qm,Vu(m,0),cc(m,P),ns(m,Ln()),E;switch(m.finishedWork=O,m.finishedLanes=P,x){case 0:case 1:throw Error(o(345));case 2:Hu(m,ts);break;case 3:if(cc(m,P),(P&130023424)===P&&(x=GM+500-Ln(),10<x)){if(Nu(m,0)!==0)break;if(O=m.suspendedLanes,(O&P)!==P){Bi(),m.pingedLanes|=m.suspendedLanes&O;break}m.timeoutHandle=J(Hu.bind(null,m,ts),x);break}Hu(m,ts);break;case 4:if(cc(m,P),(P&4194240)===P)break;for(x=m.eventTimes,O=-1;0<P;){var ie=31-Qr(P);W=1<<ie,ie=x[ie],ie>O&&(O=ie),P&=~W}if(P=O,P=Ln()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*Pne(P/1960))-P,10<P){m.timeoutHandle=J(Hu.bind(null,m,ts),P);break}Hu(m,ts);break;case 5:Hu(m,ts);break;default:throw Error(o(329))}}}return ns(m,Ln()),m.callbackNode===E?zk.bind(null,m):null}function KM(m,x){var E=Jm;return m.current.memoizedState.isDehydrated&&(Vu(m,x).flags|=256),m=hx(m,x),m!==2&&(x=ts,ts=E,x!==null&&qM(x)),m}function qM(m){ts===null?ts=m:ts.push.apply(ts,m)}function Rne(m){for(var x=m;;){if(x.flags&16384){var E=x.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var P=0;P<E.length;P++){var O=E[P],W=O.getSnapshot;O=O.value;try{if(!ys(W(),O))return!1}catch{return!1}}}if(E=x.child,x.subtreeFlags&16384&&E!==null)E.return=x,x=E;else{if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function cc(m,x){for(x&=~WM,x&=~ox,m.suspendedLanes|=x,m.pingedLanes&=~x,m=m.expirationTimes;0<x;){var E=31-Qr(x),P=1<<E;m[E]=-1,x&=~P}}function jk(m){if(Ht&6)throw Error(o(327));Wu();var x=Nu(m,0);if(!(x&1))return ns(m,Ln()),null;var E=hx(m,x);if(m.tag!==0&&E===2){var P=Xa(m);P!==0&&(x=P,E=KM(m,P))}if(E===1)throw E=Qm,Vu(m,0),cc(m,x),ns(m,Ln()),E;if(E===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=x,Hu(m,ts),ns(m,Ln()),null}function Vk(m){ac!==null&&ac.tag===0&&!(Ht&6)&&Wu();var x=Ht;Ht|=1;var E=ir.transition,P=Wt;try{if(ir.transition=null,Wt=1,m)return m()}finally{Wt=P,ir.transition=E,Ht=x,!(Ht&6)&&es()}}function ZM(){Ss=Xd.current,yt(Xd)}function Vu(m,x){m.finishedWork=null,m.finishedLanes=0;var E=m.timeoutHandle;if(E!==se&&(m.timeoutHandle=se,ae(E)),vr!==null)for(E=vr.return;E!==null;){var P=E;switch(pM(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&qt();break;case 3:Gd(),yt(hn),yt(Pt),_M();break;case 5:xM(P);break;case 4:Gd();break;case 13:yt(On);break;case 19:yt(On);break;case 10:Ur(P.type._context);break;case 22:case 23:ZM()}E=E.return}if(gr=m,vr=m=uc(m.current,null),Jr=Ss=x,Ar=0,Qm=null,WM=ox=Yd=0,ts=Jm=null,xs!==null){for(x=0;x<xs.length;x++)if(E=xs[x],P=E.interleaved,P!==null){E.interleaved=null;var O=P.next,W=E.pending;if(W!==null){var ie=W.next;W.next=O,P.next=ie}E.pending=P}xs=null}return m}function Hk(m,x){do{var E=vr;try{if(Bd(),By.current=Gy,zy){for(var P=$n.memoizedState;P!==null;){var O=P.queue;O!==null&&(O.pending=null),P=P.next}zy=!1}if($d=0,Fr=di=$n=null,Hm=!1,Wm=0,HM.current=null,E===null||E.return===null){Ar=1,Qm=x,vr=null;break}e:{var W=m,ie=E.return,ge=E,Oe=x;if(x=Jr,ge.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var qe=Oe,ft=ge,Nt=ft.tag;if(!(ft.mode&1)&&(Nt===0||Nt===11||Nt===15)){var St=ft.alternate;St?(ft.updateQueue=St.updateQueue,ft.memoizedState=St.memoizedState,ft.lanes=St.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var pn=uk(ie);if(pn!==null){pn.flags&=-257,fk(pn,ie,ge,W,x),pn.mode&1&&ck(W,qe,x),x=pn,Oe=qe;var gt=x.updateQueue;if(gt===null){var mi=new Set;mi.add(Oe),x.updateQueue=mi}else gt.add(Oe);break e}else{if(!(x&1)){ck(W,qe,x),QM();break e}Oe=Error(o(426))}}else if(Cn&&ge.mode&1){var eo=uk(ie);if(eo!==null){!(eo.flags&65536)&&(eo.flags|=256),fk(eo,ie,ge,W,x),vM(Oe);break e}}W=Oe,Ar!==4&&(Ar=2),Jm===null?Jm=[W]:Jm.push(W),Oe=CM(Oe,ge),ge=ie;do{switch(ge.tag){case 3:ge.flags|=65536,x&=-x,ge.lanes|=x;var Se=ak(ge,Oe,x);P3(ge,Se);break e;case 1:W=Oe;var ye=ge.type,Ne=ge.stateNode;if(!(ge.flags&128)&&(typeof ye.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(oc===null||!oc.has(Ne)))){ge.flags|=65536,x&=-x,ge.lanes|=x;var ot=lk(ge,W,x);P3(ge,ot);break e}}ge=ge.return}while(ge!==null)}$k(E)}catch(pt){x=pt,vr===E&&E!==null&&(vr=E=E.return);continue}break}while(!0)}function Wk(){var m=sx.current;return sx.current=Gy,m===null?Gy:m}function QM(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),gr===null||!(Yd&268435455)&&!(ox&268435455)||cc(gr,Jr)}function hx(m,x){var E=Ht;Ht|=2;var P=Wk();gr===m&&Jr===x||Vu(m,x);do try{Nne();break}catch(O){Hk(m,O)}while(!0);if(Bd(),Ht=E,sx.current=P,vr!==null)throw Error(o(261));return gr=null,Jr=0,Ar}function Nne(){for(;vr!==null;)Gk(vr)}function Ine(){for(;vr!==null&&!Dm();)Gk(vr)}function Gk(m){var x=Kk(m.alternate,m,Ss);m.memoizedProps=m.pendingProps,x===null?$k(m):vr=x,HM.current=null}function $k(m){var x=m;do{var E=x.alternate;if(m=x.return,x.flags&32768){if(E=Ene(E,x),E!==null){E.flags&=32767,vr=E;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Ar=6,vr=null;return}}else if(E=_ne(E,x,Ss),E!==null){vr=E;return}if(x=x.sibling,x!==null){vr=x;return}vr=x=m}while(x!==null);Ar===0&&(Ar=5)}function Hu(m,x){var E=Wt,P=ir.transition;try{ir.transition=null,Wt=1,Dne(m,x,E)}finally{ir.transition=P,Wt=E}return null}function Dne(m,x,E){do Wu();while(ac!==null);if(Ht&6)throw Error(o(327));var P=m.finishedWork,O=m.finishedLanes;if(P===null)return null;if(m.finishedWork=null,m.finishedLanes=0,P===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var W=P.lanes|P.childLanes;if(nc(m,W),m===gr&&(vr=gr=null,Jr=0),!(P.subtreeFlags&2064)&&!(P.flags&2064)||lx||(lx=!0,qk(Li,function(){return Wu(),null})),W=(P.flags&15990)!==0,P.subtreeFlags&15990||W){W=ir.transition,ir.transition=null;var ie=Wt;Wt=1;var ge=Ht;Ht|=4,HM.current=null,Tne(m,P),Ane(m,P),z(m.containerInfo),m.current=P,Cne(P),Cy(),Ht=ge,Wt=ie,ir.transition=W}else m.current=P;if(lx&&(lx=!1,ac=m,cx=O),W=m.pendingLanes,W===0&&(oc=null),Om(P.stateNode),ns(m,Ln()),x!==null)for(E=m.onRecoverableError,P=0;P<x.length;P++)E(x[P]);if(ax)throw ax=!1,m=XM,XM=null,m;return cx&1&&m.tag!==0&&Wu(),W=m.pendingLanes,W&1?m===YM?eg++:(eg=0,YM=m):eg=0,es(),null}function Wu(){if(ac!==null){var m=Im(cx),x=ir.transition,E=Wt;try{if(ir.transition=null,Wt=16>m?16:m,ac===null)var P=!1;else{if(m=ac,ac=null,cx=0,Ht&6)throw Error(o(331));var O=Ht;for(Ht|=4,rt=m.current;rt!==null;){var W=rt,ie=W.child;if(rt.flags&16){var ge=W.deletions;if(ge!==null){for(var Oe=0;Oe<ge.length;Oe++){var qe=ge[Oe];for(rt=qe;rt!==null;){var ft=rt;switch(ft.tag){case 0:case 11:case 15:ju(8,ft,W)}var Nt=ft.child;if(Nt!==null)Nt.return=ft,rt=Nt;else for(;rt!==null;){ft=rt;var St=ft.sibling,pn=ft.return;if(Rk(ft),ft===qe){rt=null;break}if(St!==null){St.return=pn,rt=St;break}rt=pn}}}var gt=W.alternate;if(gt!==null){var mi=gt.child;if(mi!==null){gt.child=null;do{var eo=mi.sibling;mi.sibling=null,mi=eo}while(mi!==null)}}rt=W}}if(W.subtreeFlags&2064&&ie!==null)ie.return=W,rt=ie;else e:for(;rt!==null;){if(W=rt,W.flags&2048)switch(W.tag){case 0:case 11:case 15:ju(9,W,W.return)}var Se=W.sibling;if(Se!==null){Se.return=W.return,rt=Se;break e}rt=W.return}}var ye=m.current;for(rt=ye;rt!==null;){ie=rt;var Ne=ie.child;if(ie.subtreeFlags&2064&&Ne!==null)Ne.return=ie,rt=Ne;else e:for(ie=ye;rt!==null;){if(ge=rt,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:qm(9,ge)}}catch(pt){rs(ge,ge.return,pt)}if(ge===ie){rt=null;break e}var ot=ge.sibling;if(ot!==null){ot.return=ge.return,rt=ot;break e}rt=ge.return}}if(Ht=O,es(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Du,m)}catch{}P=!0}return P}finally{Wt=E,ir.transition=x}}return!1}function Xk(m,x,E){x=CM(E,x),x=ak(m,x,1),sc(m,x),x=Bi(),m=dx(m,1),m!==null&&(da(m,1,x),ns(m,x))}function rs(m,x,E){if(m.tag===3)Xk(m,m,E);else for(;x!==null;){if(x.tag===3){Xk(x,m,E);break}else if(x.tag===1){var P=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(oc===null||!oc.has(P))){m=CM(E,m),m=lk(x,m,1),sc(x,m),m=Bi(),x=dx(x,1),x!==null&&(da(x,1,m),ns(x,m));break}}x=x.return}}function Lne(m,x,E){var P=m.pingCache;P!==null&&P.delete(x),x=Bi(),m.pingedLanes|=m.suspendedLanes&E,gr===m&&(Jr&E)===E&&(Ar===4||Ar===3&&(Jr&130023424)===Jr&&500>Ln()-GM?Vu(m,0):WM|=E),ns(m,x)}function Yk(m,x){x===0&&(m.mode&1?(x=Ga,Ga<<=1,!(Ga&130023424)&&(Ga=4194304)):x=1);var E=Bi();m=dx(m,x),m!==null&&(da(m,x,E),ns(m,E))}function One(m){var x=m.memoizedState,E=0;x!==null&&(E=x.retryLane),Yk(m,E)}function kne(m,x){var E=0;switch(m.tag){case 13:var P=m.stateNode,O=m.memoizedState;O!==null&&(E=O.retryLane);break;case 19:P=m.stateNode;break;default:throw Error(o(314))}P!==null&&P.delete(x),Yk(m,E)}var Kk;Kk=function(m,x,E){if(m!==null)if(m.memoizedProps!==x.pendingProps||hn.current)bs=!0;else{if(!(m.lanes&E)&&!(x.flags&128))return bs=!1,Sne(m,x,E);bs=!!(m.flags&131072)}else bs=!1,Cn&&x.flags&1048576&&O3(x,ky,x.index);switch(x.lanes=0,x.tag){case 2:var P=x.type;m!==null&&(m.alternate=null,x.alternate=null,x.flags|=2),m=x.pendingProps;var O=mr(x,Pt.current);nr(x,E),O=SM(null,x,P,m,O,E);var W=EM();return x.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,An(P)?(W=!0,Dn(x)):W=!1,x.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,uM(x),O.updater=Ly,x.stateNode=O,O._reactInternals=x,dM(x,P,m,E),x=NM(null,x,P,!0,W,E)):(x.tag=0,Cn&&W&&hM(x),Fi(null,x,O,E),x=x.child),x;case 16:P=x.elementType;e:{switch(m!==null&&(m.alternate=null,x.alternate=null,x.flags|=2),m=x.pendingProps,O=P._init,P=O(P._payload),x.type=P,O=x.tag=Fne(P),m=ki(P,m),O){case 0:x=RM(null,x,P,m,E);break e;case 1:x=xk(null,x,P,m,E);break e;case 11:x=pk(null,x,P,m,E);break e;case 14:x=mk(null,x,P,ki(P.type,m),E);break e}throw Error(o(306,P,""))}return x;case 0:return P=x.type,O=x.pendingProps,O=x.elementType===P?O:ki(P,O),RM(m,x,P,O,E);case 1:return P=x.type,O=x.pendingProps,O=x.elementType===P?O:ki(P,O),xk(m,x,P,O,E);case 3:e:{if(wk(x),m===null)throw Error(o(387));P=x.pendingProps,W=x.memoizedState,O=W.element,C3(m,x),Dy(x,P,null,E);var ie=x.memoizedState;if(P=ie.element,he&&W.isDehydrated)if(W={element:P,isDehydrated:!1,cache:ie.cache,transitions:ie.transitions},x.updateQueue.baseState=W,x.memoizedState=W,x.flags&256){O=Error(o(423)),x=_k(m,x,P,E,O);break e}else if(P!==O){O=Error(o(424)),x=_k(m,x,P,E,O);break e}else for(he&&(_s=Wn(x.stateNode.containerInfo),ws=x,Cn=!0,Ao=null,Fm=!1),E=j3(x,null,P,E),x.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Vd(),P===O){x=Ja(m,x,E);break e}Fi(m,x,P,E)}x=x.child}return x;case 5:return V3(x),m===null&&gM(x),P=x.type,O=x.pendingProps,W=m!==null?m.memoizedProps:null,ie=O.children,Q(P,O)?ie=null:W!==null&&Q(P,W)&&(x.flags|=32),yk(m,x),Fi(m,x,ie,E),x.child;case 6:return m===null&&gM(x),null;case 13:return bk(m,x,E);case 4:return yM(x,x.stateNode.containerInfo),P=x.pendingProps,m===null?x.child=Hd(x,null,P,E):Fi(m,x,P,E),x.child;case 11:return P=x.type,O=x.pendingProps,O=x.elementType===P?O:ki(P,O),pk(m,x,P,O,E);case 7:return Fi(m,x,x.pendingProps,E),x.child;case 8:return Fi(m,x,x.pendingProps.children,E),x.child;case 12:return Fi(m,x,x.pendingProps.children,E),x.child;case 10:e:{if(P=x.type._context,O=x.pendingProps,W=x.memoizedProps,ie=O.value,Ny(x,P,ie),W!==null)if(ys(W.value,ie)){if(W.children===O.children&&!hn.current){x=Ja(m,x,E);break e}}else for(W=x.child,W!==null&&(W.return=x);W!==null;){var ge=W.dependencies;if(ge!==null){ie=W.child;for(var Oe=ge.firstContext;Oe!==null;){if(Oe.context===P){if(W.tag===1){Oe=Ka(-1,E&-E),Oe.tag=2;var qe=W.updateQueue;if(qe!==null){qe=qe.shared;var ft=qe.pending;ft===null?Oe.next=Oe:(Oe.next=ft.next,ft.next=Oe),qe.pending=Oe}}W.lanes|=E,Oe=W.alternate,Oe!==null&&(Oe.lanes|=E),Ui(W.return,E,x),ge.lanes|=E;break}Oe=Oe.next}}else if(W.tag===10)ie=W.type===x.type?null:W.child;else if(W.tag===18){if(ie=W.return,ie===null)throw Error(o(341));ie.lanes|=E,ge=ie.alternate,ge!==null&&(ge.lanes|=E),Ui(ie,E,x),ie=W.sibling}else ie=W.child;if(ie!==null)ie.return=W;else for(ie=W;ie!==null;){if(ie===x){ie=null;break}if(W=ie.sibling,W!==null){W.return=ie.return,ie=W;break}ie=ie.return}W=ie}Fi(m,x,O.children,E),x=x.child}return x;case 9:return O=x.type,P=x.pendingProps.children,nr(x,E),O=rr(O),P=P(O),x.flags|=1,Fi(m,x,P,E),x.child;case 14:return P=x.type,O=ki(P,x.pendingProps),O=ki(P.type,O),mk(m,x,P,O,E);case 15:return gk(m,x,x.type,x.pendingProps,E);case 17:return P=x.type,O=x.pendingProps,O=x.elementType===P?O:ki(P,O),m!==null&&(m.alternate=null,x.alternate=null,x.flags|=2),x.tag=1,An(P)?(m=!0,Dn(x)):m=!1,nr(x,E),D3(x,P,O),dM(x,P,O,E),NM(null,x,P,!0,m,E);case 19:return Tk(m,x,E);case 22:return vk(m,x,E)}throw Error(o(156,x.tag))};function qk(m,x){return Ya(m,x)}function Une(m,x,E,P){this.tag=m,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(m,x,E,P){return new Une(m,x,E,P)}function JM(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Fne(m){if(typeof m=="function")return JM(m)?1:0;if(m!=null){if(m=m.$$typeof,m===v)return 11;if(m===_)return 14}return 2}function uc(m,x){var E=m.alternate;return E===null?(E=Js(m.tag,x,m.key,m.mode),E.elementType=m.elementType,E.type=m.type,E.stateNode=m.stateNode,E.alternate=m,m.alternate=E):(E.pendingProps=x,E.type=m.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=m.flags&14680064,E.childLanes=m.childLanes,E.lanes=m.lanes,E.child=m.child,E.memoizedProps=m.memoizedProps,E.memoizedState=m.memoizedState,E.updateQueue=m.updateQueue,x=m.dependencies,E.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},E.sibling=m.sibling,E.index=m.index,E.ref=m.ref,E}function px(m,x,E,P,O,W){var ie=2;if(P=m,typeof m=="function")JM(m)&&(ie=1);else if(typeof m=="string")ie=5;else e:switch(m){case u:return Gu(E.children,O,W,x);case f:ie=8,O|=8;break;case d:return m=Js(12,E,x,O|2),m.elementType=d,m.lanes=W,m;case y:return m=Js(13,E,x,O),m.elementType=y,m.lanes=W,m;case g:return m=Js(19,E,x,O),m.elementType=g,m.lanes=W,m;case b:return mx(E,O,W,x);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case h:ie=10;break e;case p:ie=9;break e;case v:ie=11;break e;case _:ie=14;break e;case w:ie=16,P=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return x=Js(ie,E,x,O),x.elementType=m,x.type=P,x.lanes=W,x}function Gu(m,x,E,P){return m=Js(7,m,P,x),m.lanes=E,m}function mx(m,x,E,P){return m=Js(22,m,P,x),m.elementType=b,m.lanes=E,m.stateNode={},m}function eT(m,x,E){return m=Js(6,m,null,x),m.lanes=E,m}function tT(m,x,E){return x=Js(4,m.children!==null?m.children:[],m.key,x),x.lanes=E,x.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},x}function Bne(m,x,E,P,O){this.tag=x,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=se,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kd(0),this.expirationTimes=kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.identifierPrefix=P,this.onRecoverableError=O,he&&(this.mutableSourceEagerHydrationData=null)}function Zk(m,x,E,P,O,W,ie,ge,Oe){return m=new Bne(m,x,E,ge,Oe),x===1?(x=1,W===!0&&(x|=8)):x=0,W=Js(3,null,null,x),m.current=W,W.stateNode=m,W.memoizedState={element:P,isDehydrated:E,cache:null,transitions:null},uM(W),m}function Qk(m){if(!m)return Tr;m=m._reactInternals;e:{if(R(m)!==m||m.tag!==1)throw Error(o(170));var x=m;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(An(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(o(171))}if(m.tag===1){var E=m.type;if(An(E))return $s(m,E,x)}return x}function Jk(m){var x=m._reactInternals;if(x===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=U(x),m===null?null:m.stateNode}function eU(m,x){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var E=m.retryLane;m.retryLane=E!==0&&E<x?E:x}}function nT(m,x){eU(m,x),(m=m.alternate)&&eU(m,x)}function zne(m){return m=U(m),m===null?null:m.stateNode}function jne(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var x=Bi();Qs(m,134217728,x),nT(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var x=Bi(),E=lc(m);Qs(m,E,x),nT(m,E)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var x=m.stateNode;if(x.current.memoizedState.isDehydrated){var E=$a(x.pendingLanes);E!==0&&(ha(x,E|1),ns(x,Ln()),!(Ht&6)&&(Kd(),es()))}break;case 13:var P=Bi();Vk(function(){return Qs(m,1,P)}),nT(m,1)}},n.batchedUpdates=function(m,x){var E=Ht;Ht|=1;try{return m(x)}finally{Ht=E,Ht===0&&(Kd(),pa&&es())}},n.createComponentSelector=function(m){return{$$typeof:ex,value:m}},n.createContainer=function(m,x,E,P,O,W,ie){return Zk(m,x,!1,null,E,P,O,W,ie)},n.createHasPseudoClassSelector=function(m){return{$$typeof:tx,value:m}},n.createHydrationContainer=function(m,x,E,P,O,W,ie,ge,Oe){return m=Zk(E,P,!0,m,O,W,ie,ge,Oe),m.context=Qk(null),E=m.current,P=Bi(),O=lc(E),W=Ka(P,O),W.callback=x??null,sc(E,W),m.current.lanes=O,da(m,O,P),ns(m,P),m},n.createPortal=function(m,x,E){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:P==null?null:""+P,children:m,containerInfo:x,implementation:E}},n.createRoleSelector=function(m){return{$$typeof:nx,value:m}},n.createTestNameSelector=function(m){return{$$typeof:rx,value:m}},n.createTextSelector=function(m){return{$$typeof:ix,value:m}},n.deferredUpdates=function(m){var x=Wt,E=ir.transition;try{return ir.transition=null,Wt=16,m()}finally{Wt=x,ir.transition=E}},n.discreteUpdates=function(m,x,E,P,O){var W=Wt,ie=ir.transition;try{return ir.transition=null,Wt=1,m(x,E,P,O)}finally{Wt=W,ir.transition=ie,Ht===0&&Kd()}},n.findAllNodes=VM,n.findBoundingRects=function(m,x){if(!K)throw Error(o(363));x=VM(m,x),m=[];for(var E=0;E<x.length;E++)m.push(be(x[E]));for(x=m.length-1;0<x;x--){E=m[x];for(var P=E.x,O=P+E.width,W=E.y,ie=W+E.height,ge=x-1;0<=ge;ge--)if(x!==ge){var Oe=m[ge],qe=Oe.x,ft=qe+Oe.width,Nt=Oe.y,St=Nt+Oe.height;if(P>=qe&&W>=Nt&&O<=ft&&ie<=St){m.splice(x,1);break}else if(P!==qe||E.width!==Oe.width||St<W||Nt>ie){if(!(W!==Nt||E.height!==Oe.height||ft<P||qe>O)){qe>P&&(Oe.width+=qe-P,Oe.x=P),ft<O&&(Oe.width=O-qe),m.splice(x,1);break}}else{Nt>W&&(Oe.height+=Nt-W,Oe.y=W),St<ie&&(Oe.height=ie-Nt),m.splice(x,1);break}}}return m},n.findHostInstance=Jk,n.findHostInstanceWithNoPortals=function(m){return m=F(m),m=m!==null?I(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return Jk(m)},n.flushControlled=function(m){var x=Ht;Ht|=1;var E=ir.transition,P=Wt;try{ir.transition=null,Wt=1,m()}finally{Wt=P,ir.transition=E,Ht=x,Ht===0&&(Kd(),es())}},n.flushPassiveEffects=Wu,n.flushSync=Vk,n.focusWithin=function(m,x){if(!K)throw Error(o(363));for(m=BM(m),x=Bk(m,x),x=Array.from(x),m=0;m<x.length;){var E=x[m++];if(!ve(E)){if(E.tag===5&&Be(E.stateNode))return!0;for(E=E.child;E!==null;)x.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Wt},n.getFindAllNodesFailureDescription=function(m,x){if(!K)throw Error(o(363));var E=0,P=[];m=[BM(m),0];for(var O=0;O<m.length;){var W=m[O++],ie=m[O++],ge=x[ie];if((W.tag!==5||!ve(W))&&(zM(W,ge)&&(P.push(jM(ge)),ie++,ie>E&&(E=ie)),ie<x.length))for(W=W.child;W!==null;)m.push(W,ie),W=W.sibling}if(E<x.length){for(m=[];E<x.length;E++)m.push(jM(x[E]));return`findAllNodes was able to match part of the selector:
  `+(P.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return j(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:zne,findFiberByHostInstance:m.findFiberByHostInstance||jne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(x.isDisabled||!x.supportsFiber)m=!0;else{try{Du=x.inject(m),vs=x}catch{}m=!!x.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,x,E,P){if(!K)throw Error(o(363));m=VM(m,x);var O=Te(m,E,P).disconnect;return{disconnect:function(){O()}}},n.registerMutableSourceForHydration=function(m,x){var E=x._getVersion;E=E(x._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[x,E]:m.mutableSourceEagerHydrationData.push(x,E)},n.runWithPriority=function(m,x){var E=Wt;try{return Wt=m,x()}finally{Wt=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,x,E,P){var O=x.current,W=Bi(),ie=lc(O);return E=Qk(E),x.context===null?x.context=E:x.pendingContext=E,x=Ka(W,ie),x.payload={element:m},P=P===void 0?null:P,P!==null&&(x.callback=P),sc(O,x),m=Qs(O,ie,W),m!==null&&Iy(m,O,ie),ie},n};SJ.exports=QOe;var JOe=SJ.exports;const e3e=_o(JOe);var EJ={exports:{}},MJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,k){var z=L.length;L.push(k);e:for(;0<z;){var B=z-1>>>1,G=L[B];if(0<i(G,k))L[B]=k,L[z]=G,z=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var k=L[0],z=L.pop();if(z!==k){L[0]=z;e:for(var B=0,G=L.length,Y=G>>>1;B<Y;){var Z=2*(B+1)-1,Q=L[Z],re=Z+1,J=L[re];if(0>i(Q,z))re<G&&0>i(J,Q)?(L[B]=J,L[re]=z,B=re):(L[B]=Q,L[Z]=z,B=Z);else if(re<G&&0>i(J,z))L[B]=J,L[re]=z,B=re;else break e}}return k}function i(L,k){var z=L.sortIndex-k.sortIndex;return z!==0?z:L.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=L)r(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(c)}}function b(L){if(v=!1,w(L),!p)if(n(l)!==null)p=!0,j(M);else{var k=n(c);k!==null&&X(b,k.startTime-L)}}function M(L,k){p=!1,v&&(v=!1,g(N),N=-1),h=!0;var z=d;try{for(w(k),f=n(l);f!==null&&(!(f.expirationTime>k)||L&&!F());){var B=f.callback;if(typeof B=="function"){f.callback=null,d=f.priorityLevel;var G=B(f.expirationTime<=k);k=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),w(k)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var Z=n(c);Z!==null&&X(b,Z.startTime-k),Y=!1}return Y}finally{f=null,d=z,h=!1}}var A=!1,C=null,N=-1,R=5,D=-1;function F(){return!(t.unstable_now()-D<R)}function U(){if(C!==null){var L=t.unstable_now();D=L;var k=!0;try{k=C(!0,L)}finally{k?$():(A=!1,C=null)}}else A=!1}var $;if(typeof _=="function")$=function(){_(U)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,V=I.port2;I.port1.onmessage=U,$=function(){V.postMessage(null)}}else $=function(){y(U,0)};function j(L){C=L,A||(A=!0,$())}function X(L,k){N=y(function(){L(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,j(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var z=d;d=k;try{return L()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,k){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=d;d=L;try{return k()}finally{d=z}},t.unstable_scheduleCallback=function(L,k,z){var B=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,L={id:u++,callback:k,priorityLevel:L,startTime:z,expirationTime:G,sortIndex:-1},z>B?(L.sortIndex=z,e(c,L),n(l)===null&&L===n(c)&&(v?(g(N),N=-1):v=!0,X(b,z-B))):(L.sortIndex=G,e(l,L),p||h||(p=!0,j(M))),L},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(L){var k=d;return function(){var z=d;d=k;try{return L.apply(this,arguments)}finally{d=z}}}})(MJ);EJ.exports=MJ;var EV=EJ.exports;const o3={},t3e=t=>void Object.assign(o3,t);function n3e(t,e){function n(u,{args:f=[],attach:d,...h},p){let v=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=h.object;y=Ch(g,{type:u,root:p,attach:d,primitive:!0})}else{const g=o3[v];if(!g)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Ch(new g(...f),{type:u,root:p,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),v!=="inject"&&y2(y,h),y}function r(u,f){let d=!1;if(f){var h,p;(h=f.__r3f)!=null&&h.attach?v2(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(p=u.__r3f)==null||p.objects.push(f),f.__r3f||Ch(f,{}),f.__r3f.parent=u,nN(f),Ph(f)}}function i(u,f,d){let h=!1;if(f){var p,v;if((p=f.__r3f)!=null&&p.attach)v2(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const y=u.children.filter(_=>_!==f),g=y.indexOf(d);u.children=[...y.slice(0,g),f,...y.slice(g)],h=!0}h||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||Ch(f,{}),f.__r3f.parent=u,nN(f),Ph(f)}}function s(u,f,d=!1){u&&[...u].forEach(h=>o(f,h,d))}function o(u,f,d){if(f){var h,p,v;if(f.__r3f&&(f.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(b=>b!==f)),(p=f.__r3f)!=null&&p.attach)PV(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var y;u.remove(f),(y=f.__r3f)!=null&&y.root&&u3e(Hw(f),f)}const _=(v=f.__r3f)==null?void 0:v.primitive,w=!_&&(d===void 0?f.dispose!==null:d);if(!_){var g;s((g=f.__r3f)==null?void 0:g.objects,f,w),s(f.children,f,w)}if(delete f.__r3f,w&&f.dispose&&f.type!=="Scene"){const b=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?EV.unstable_scheduleCallback(EV.unstable_IdlePriority,b):b()}Ph(u)}}function a(u,f,d,h){var p;const v=(p=u.__r3f)==null?void 0:p.parent;if(!v)return;const y=n(f,d,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(y,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(y,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&Hw(y).getState().internal.interaction.push(y),[h,h.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>{};return{reconciler:e3e({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const h=u.getState().scene;h.__r3f&&i(h,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,h){var p;if(((p=u==null?void 0:u.__r3f)!=null?p:{}).primitive&&h.object&&h.object!==u)return[!0];{const{args:y=[],children:g,..._}=h,{args:w=[],children:b,...M}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((C,N)=>C!==w[N]))return[!0];const A=IJ(u,_,M,!0);return A.changes.length?[!1,A]:null}},commitUpdate(u,[f,d],h,p,v,y){f?a(u,h,v,y):y2(u,d)},commitMount(u,f,d,h){var p;const v=(p=u.__r3f)!=null?p:{};u.raycast&&v.handlers&&v.eventCount&&Hw(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Ch(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:h}=(f=u.__r3f)!=null?f:{};d&&h&&PV(h,u,d),u.isObject3D&&(u.visible=!1),Ph(u)},unhideInstance(u,f){var d;const{attach:h,parent:p}=(d=u.__r3f)!=null?d:{};h&&p&&v2(p,u,h),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Ph(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():tp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&En.fun(performance.now)?performance.now:En.fun(Date.now)?Date.now:()=>0,scheduleTimeout:En.fun(setTimeout)?setTimeout:void 0,cancelTimeout:En.fun(clearTimeout)?clearTimeout:void 0}),applyProps:y2}}var MV,TV;const g2=t=>"colorSpace"in t||"outputColorSpace"in t,TJ=()=>{var t;return(t=o3.ColorManagement)!=null?t:null},AJ=t=>t&&t.isOrthographicCamera,r3e=t=>t&&t.hasOwnProperty("current"),_y=typeof window<"u"&&((MV=window.document)!=null&&MV.createElement||((TV=window.navigator)==null?void 0:TV.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function CJ(t){const e=T.useRef(t);return _y(()=>void(e.current=t),[t]),e}function i3e({set:t}){return _y(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class PJ extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}PJ.getDerivedStateFromError=()=>({error:!0});const RJ="__default",AV=new Map,s3e=t=>t&&!!t.memoized&&!!t.changes;function NJ(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Ng=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Hw(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const En={obj:t=>t===Object(t)&&!En.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(En.str(t)||En.num(t)||En.boo(t))return t===e;const s=En.obj(t);if(s&&r==="reference")return t===e;const o=En.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!En.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(En.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function o3e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Ch(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function tN(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const CV=/-\d+$/;function v2(t,e,n){if(En.str(n)){if(CV.test(n)){const s=n.replace(CV,""),{target:o,key:a}=tN(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=tN(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function PV(t,e,n){var r,i;if(En.str(n)){const{target:s,key:o}=tN(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function IJ(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),d=[];if(c){const p=Object.keys(l);for(let v=0;v<p.length;v++)i.hasOwnProperty(p[v])||f.unshift([p[v],RJ+"remove"])}f.forEach(([p,v])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&p==="object"||En.equ(v,l[p]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(p))return d.push([p,v,!0,[]]);let g=[];p.includes("-")&&(g=p.split("-")),d.push([p,v,!1,g]);for(const _ in i){const w=i[_];_.startsWith(`${p}-`)&&d.push([_,w,!1,_.split("-")])}});const h={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(h.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(h.attach=u.memoizedProps.attach),{memoized:h,changes:d}}const a3e=typeof process<"u"&&!1;function y2(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=s3e(e)?e:IJ(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let d=0;d<a.length;d++){let[h,p,v,y]=a[d];if(g2(t)){const b="srgb",M="srgb-linear";h==="encoding"?(h="colorSpace",p=p===3001?b:M):h==="outputEncoding"&&(h="outputColorSpace",p=p===3001?b:M)}let g=t,_=g[h];if(y.length&&(_=y.reduce((w,b)=>w[b],t),!(_&&_.set))){const[w,...b]=y.reverse();g=b.reverse().reduce((M,A)=>M[A],t),h=w}if(p===RJ+"remove")if(g.constructor){let w=AV.get(g.constructor);w||(w=new g.constructor,AV.set(g.constructor,w)),p=w[h]}else p=0;if(v&&r)p?r.handlers[h]=p:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Wf)){if(Array.isArray(p))_.fromArray?_.fromArray(p):_.set(...p);else if(_.copy&&p&&p.constructor&&(a3e?_.constructor.name===p.constructor.name:_.constructor===p.constructor))_.copy(p);else if(p!==void 0){var c;const w=(c=_)==null?void 0:c.isColor;!w&&_.setScalar?_.setScalar(p):_ instanceof Wf&&p instanceof Wf?_.mask=p.mask:_.set(p),!TJ()&&s&&!s.linear&&w&&_.convertSRGBToLinear()}}else{var u;if(g[h]=p,(u=g[h])!=null&&u.isTexture&&g[h].format===Gi&&g[h].type===Oa&&s){const w=g[h];g2(w)&&g2(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}}Ph(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const d=Hw(t).getState().internal,h=d.interaction.indexOf(t);h>-1&&d.interaction.splice(h,1),r.eventCount&&d.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&nN(t),t}function Ph(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function nN(t){t.onUpdate==null||t.onUpdate(t)}function l3e(t,e){t.manual||(AJ(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function ew(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function c3e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return tp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return tp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return tp.ContinuousEventPriority;default:return tp.DefaultEventPriority}}function DJ(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function u3e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{DJ(n.capturedMap,e,r,i)})}function f3e(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,d=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<h.length;g++){const _=Ng(h[g]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function p(g){const _=Ng(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let v=h.flatMap(p).sort((g,_)=>{const w=Ng(g.object),b=Ng(_.object);return!w||!b?g.distance-_.distance:b.events.priority-w.events.priority||g.distance-_.distance}).filter(g=>{const _=ew(g);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const g of v){let _=g.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&d.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(ew(g.intersection))||d.push(g.intersection);return d}function i(l,c,u,f){const d=t.getState();if(l.length){const h={stopped:!1};for(const p of l){const v=Ng(p.object)||d,{raycaster:y,pointer:g,camera:_,internal:w}=v,b=new te(g.x,g.y,0).unproject(_),M=D=>{var F,U;return(F=(U=w.capturedMap.get(D))==null?void 0:U.has(p.eventObject))!=null?F:!1},A=D=>{const F={intersection:p,target:c.target};w.capturedMap.has(D)?w.capturedMap.get(D).set(p.eventObject,F):w.capturedMap.set(D,new Map([[p.eventObject,F]])),c.target.setPointerCapture(D)},C=D=>{const F=w.capturedMap.get(D);F&&DJ(w.capturedMap,p.eventObject,F,D)};let N={};for(let D in c){let F=c[D];typeof F!="function"&&(N[D]=F)}let R={...p,...N,pointer:g,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:b,ray:y.ray,camera:_,stopPropagation(){const D="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!D||D.has(p.eventObject))&&(R.stopped=h.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(F=>F.eventObject===p.eventObject))){const F=l.slice(0,l.indexOf(p));s([...F,p])}},target:{hasPointerCapture:M,setPointerCapture:A,releasePointerCapture:C},currentTarget:{hasPointerCapture:M,setPointerCapture:A,releasePointerCapture:C},nativeEvent:c};if(f(R),h.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,h=d==null?void 0:d.handlers;if(c.hovered.delete(ew(u)),d!=null&&d.eventCount){const p={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(p),h.onPointerLeave==null||h.onPointerLeave(p)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=u;const h=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,h?n:void 0),g=p?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=y.map(w=>w.eventObject)),p&&!y.length&&g<=2&&(o(u,d.interaction),f&&f(u)),h&&s(y);function _(w){const b=w.eventObject,M=b.__r3f,A=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(h){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const C=ew(w),N=d.hovered.get(C);N?N.stopped&&w.stopPropagation():(d.hovered.set(C,w),A.onPointerOver==null||A.onPointerOver(w),A.onPointerEnter==null||A.onPointerEnter(w))}A.onPointerMove==null||A.onPointerMove(w)}else{const C=A[l];C?(!p||d.initialHits.includes(b))&&(o(u,d.interaction.filter(N=>!d.initialHits.includes(N))),C(w)):p&&d.initialHits.includes(b)&&o(u,d.interaction.filter(N=>!d.initialHits.includes(N)))}}i(y,u,g,_)}}return{handlePointer:a}}const LJ=t=>!!(t!=null&&t.render),OJ=T.createContext(null),d3e=(t,e)=>{const n=GOe((a,l)=>{const c=new te,u=new te,f=new te;function d(g=l().camera,_=u,w=l().size){const{width:b,height:M,top:A,left:C}=w,N=b/M;_.isVector3?f.copy(_):f.set(..._);const R=g.getWorldPosition(c).distanceTo(f);if(AJ(g))return{width:b/g.zoom,height:M/g.zoom,top:A,left:C,factor:1,distance:R,aspect:N};{const D=g.fov*Math.PI/180,F=2*Math.tan(D/2)*R,U=F*(b/M);return{width:U,height:F,top:A,left:C,factor:b/U,distance:R,aspect:N}}}let h;const p=g=>a(_=>({performance:{..._.performance,current:g}})),v=new Fe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new n3,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();h&&clearTimeout(h),g.performance.current!==g.performance.min&&p(g.performance.min),h=setTimeout(()=>p(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:g=>a(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,w,b,M)=>{const A=l().camera,C={width:g,height:_,top:b||0,left:M||0,updateStyle:w};a(N=>({size:C,viewport:{...N.viewport,...d(A,u,C)}}))},setDpr:g=>a(_=>{const w=NJ(g);return{viewport:{..._.viewport,dpr:w,initialDpr:_.viewport.initialDpr||w}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:T.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,w)=>{const b=l().internal;return b.priority=b.priority+(_>0?1:0),b.subscribers.push({ref:g,priority:_,store:w}),b.subscribers=b.subscribers.sort((M,A)=>M.priority-A.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(_>0?1:0),M.subscribers=M.subscribers.filter(A=>A.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var d;i=l,s=c.dpr,l3e(a,l),u.setPixelRatio(c.dpr);const h=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}a!==o&&(o=a,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let tw,h3e=new Set,p3e=new Set,m3e=new Set;function x2(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Ig(t,e){switch(t){case"before":return x2(h3e,e);case"after":return x2(p3e,e);case"tail":return x2(m3e,e)}}let w2,_2;function b2(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),w2=e.internal.subscribers,tw=0;tw<w2.length;tw++)_2=w2[tw],_2.ref.current(_2.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function g3e(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,Ig("before",c),n=!0;for(const f of t.values()){var u;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=b2(c,s))}if(n=!1,Ig("after",c),r===0)return Ig("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var f;if(!c)return t.forEach(d=>a(d.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,f,d){if(u&&Ig("before",c),f)b2(c,f,d);else for(const h of t.values())b2(c,h.store.getState());u&&Ig("after",c)}return{loop:o,invalidate:a,advance:l}}function kJ(){const t=T.useContext(OJ);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function cl(t=n=>n,e){return kJ()(t,e)}function a3(t,e=0){const n=kJ(),r=n.getState().internal.subscribe,i=CJ(t);return _y(()=>r(i,e,n),[e,r,n]),null}const Zp=new Map,{invalidate:RV,advance:NV}=g3e(Zp),{reconciler:Pb,applyProps:Sh}=n3e(Zp,c3e),Eh={objects:"shallow",strict:!1},v3e=(t,e)=>{const n=typeof t=="function"?t(e):t;return LJ(n)?n:new UO({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function y3e(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function x3e(t){const e=Zp.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||d3e(RV,NV),o=n||Pb.createContainer(s,tp.ConcurrentRoot,null,!1,null,"",i,null);e||Zp.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:h,events:p,onCreated:v,shadows:y=!1,linear:g=!1,flat:_=!1,legacy:w=!1,orthographic:b=!1,frameloop:M="always",dpr:A=[1,2],performance:C,raycaster:N,camera:R,onPointerMissed:D}=u,F=s.getState(),U=F.gl;F.gl||F.set({gl:U=v3e(f,t)});let $=F.raycaster;$||F.set({raycaster:$=new wJ});const{params:I,...V}=N||{};if(En.equ(V,$,Eh)||Sh($,{...V}),En.equ(I,$.params,Eh)||Sh($,{params:{...$.params,...I}}),!F.camera||F.camera===c&&!En.equ(c,R,Eh)){c=R;const z=R instanceof py,B=z?R:b?new su(0,0,0,0,.1,1e3):new fr(75,0,.1,1e3);z||(B.position.z=5,R&&(Sh(B,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(B.manual=!0,B.updateProjectionMatrix())),!F.camera&&!(R!=null&&R.rotation)&&B.lookAt(0,0,0)),F.set({camera:B}),$.camera=B}if(!F.scene){let z;h!=null&&h.isScene?z=h:(z=new FO,h&&Sh(z,h)),F.set({scene:Ch(z)})}if(!F.xr){var j;const z=(Y,Z)=>{const Q=s.getState();Q.frameloop!=="never"&&NV(Y,!0,Q,Z)},B=()=>{const Y=s.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?z:null),Y.gl.xr.isPresenting||RV(Y)},G={connect(){const Y=s.getState().gl;Y.xr.addEventListener("sessionstart",B),Y.xr.addEventListener("sessionend",B)},disconnect(){const Y=s.getState().gl;Y.xr.removeEventListener("sessionstart",B),Y.xr.removeEventListener("sessionend",B)}};typeof((j=U.xr)==null?void 0:j.addEventListener)=="function"&&G.connect(),F.set({xr:G})}if(U.shadowMap){const z=U.shadowMap.enabled,B=U.shadowMap.type;if(U.shadowMap.enabled=!!y,En.boo(y))U.shadowMap.type=uv;else if(En.str(y)){var X;const G={basic:mZ,percentage:xE,soft:uv,variance:ko};U.shadowMap.type=(X=G[y])!=null?X:uv}else En.obj(y)&&Object.assign(U.shadowMap,y);(z!==U.shadowMap.enabled||B!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const L=TJ();L&&("enabled"in L?L.enabled=!w:"legacyMode"in L&&(L.legacyMode=w)),l||Sh(U,{outputEncoding:g?3e3:3001,toneMapping:_?La:gO}),F.legacy!==w&&F.set(()=>({legacy:w})),F.linear!==g&&F.set(()=>({linear:g})),F.flat!==_&&F.set(()=>({flat:_})),f&&!En.fun(f)&&!LJ(f)&&!En.equ(f,U,Eh)&&Sh(U,f),p&&!F.events.handlers&&F.set({events:p(s)});const k=y3e(t,d);return En.equ(k,F.size,Eh)||F.setSize(k.width,k.height,k.updateStyle,k.top,k.left),A&&F.viewport.dpr!==NJ(A)&&F.setDpr(A),F.frameloop!==M&&F.setFrameloop(M),F.onPointerMissed||F.set({onPointerMissed:D}),C&&!En.equ(C,F.performance,Eh)&&F.set(z=>({performance:{...z.performance,...C}})),a=v,l=!0,this},render(u){return l||this.configure(),Pb.updateContainer(S.jsx(w3e,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){UJ(t)}}}function w3e({store:t,children:e,onCreated:n,rootElement:r}){return _y(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),S.jsx(OJ.Provider,{value:t,children:e})}function UJ(t,e){const n=Zp.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Pb.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),o3e(i),Zp.delete(t)}catch{}},500)})}}Pb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:T.version});const S2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _3e(t){const{handlePointer:e}=f3e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(S2).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=S2[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=S2[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function IV(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function b3e({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=T.useRef(!1);T.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,d,h]=T.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:_,top:w,width:b,height:M,bottom:A,right:C,x:N,y:R}=a.current.element.getBoundingClientRect(),D={left:_,top:w,width:b,height:M,bottom:A,right:C,x:N,y:R};a.current.element instanceof HTMLElement&&r&&(D.height=a.current.element.offsetHeight,D.width=a.current.element.offsetWidth),Object.freeze(D),u.current&&!T3e(a.current.lastBounds,D)&&o(a.current.lastBounds=D)};return[g,c?IV(g,c):g,l?IV(g,l):g]},[o,r,l,c]);function p(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",h,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function v(){a.current.element&&(a.current.resizeObserver=new i(h),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",h,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=g=>{!g||g===a.current.element||(p(),a.current.element=g,a.current.scrollContainers=FJ(g),v())};return E3e(h,!!e),S3e(d),T.useEffect(()=>{p(),v()},[e,h,d]),T.useEffect(()=>p,[]),[y,s,f]}function S3e(t){T.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function E3e(t,e){T.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function FJ(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...FJ(t.parentElement)]}const M3e=["x","y","top","bottom","left","right","width","height"],T3e=(t,e)=>M3e.every(n=>t[n]===e[n]);var A3e=Object.defineProperty,C3e=Object.defineProperties,P3e=Object.getOwnPropertyDescriptors,DV=Object.getOwnPropertySymbols,R3e=Object.prototype.hasOwnProperty,N3e=Object.prototype.propertyIsEnumerable,LV=(t,e,n)=>e in t?A3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OV=(t,e)=>{for(var n in e||(e={}))R3e.call(e,n)&&LV(t,n,e[n]);if(DV)for(var n of DV(e))N3e.call(e,n)&&LV(t,n,e[n]);return t},I3e=(t,e)=>C3e(t,P3e(e)),kV,UV;typeof window<"u"&&((kV=window.document)!=null&&kV.createElement||((UV=window.navigator)==null?void 0:UV.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function BJ(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=BJ(r,e,n);if(i)return i;r=r.sibling}}function zJ(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const FV=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=FV;return}return FV.apply(this,arguments)};const l3=zJ(T.createContext(null));class jJ extends T.Component{render(){return T.createElement(l3.Provider,{value:this._reactInternals},this.props.children)}}function D3e(){const t=T.useContext(l3);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=T.useId();return T.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=BJ(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function L3e(){const t=D3e(),[e]=T.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==l3&&!e.has(i)&&e.set(i,T.useContext(zJ(i)))}n=n.return}return e}function O3e(){const t=L3e();return T.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>T.createElement(e,null,T.createElement(n.Provider,I3e(OV({},r),{value:t.get(n)}))),e=>T.createElement(jJ,OV({},e))),[t])}const k3e=T.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=_3e,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:v,performance:y,raycaster:g,camera:_,scene:w,onPointerMissed:b,onCreated:M,...A},C){T.useMemo(()=>t3e(VOe),[]);const N=O3e(),[R,D]=b3e({scroll:!0,debounce:{scroll:50,resize:0},...r}),F=T.useRef(null),U=T.useRef(null);T.useImperativeHandle(C,()=>F.current);const $=CJ(b),[I,V]=T.useState(!1),[j,X]=T.useState(!1);if(I)throw I;if(j)throw j;const L=T.useRef(null);_y(()=>{const z=F.current;D.width>0&&D.height>0&&z&&(L.current||(L.current=x3e(z)),L.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:v,performance:y,raycaster:g,camera:_,scene:w,size:D,onPointerMissed:(...B)=>$.current==null?void 0:$.current(...B),onCreated:B=>{B.events.connect==null||B.events.connect(a?r3e(a)?a.current:a:U.current),l&&B.setEvents({compute:(G,Y)=>{const Z=G[l+"X"],Q=G[l+"Y"];Y.pointer.set(Z/Y.size.width*2-1,-(Q/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),M==null||M(B)}}),L.current.render(S.jsx(N,{children:S.jsx(PJ,{set:X,children:S.jsx(T.Suspense,{fallback:S.jsx(i3e,{set:V}),children:e??null})})})))}),T.useEffect(()=>{const z=F.current;if(z)return()=>UJ(z)},[]);const k=a?"none":"auto";return S.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:k,...i},...A,children:S.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:S.jsx("canvas",{ref:F,style:{display:"block"},children:n})})})}),U3e=T.forwardRef(function(e,n){return S.jsx(jJ,{children:S.jsx(k3e,{...e,ref:n})})});function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(null,arguments)}var F3e=Object.defineProperty,B3e=(t,e,n)=>e in t?F3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z3e=(t,e,n)=>(B3e(t,e+"",n),n);class j3e{constructor(){z3e(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var V3e=Object.defineProperty,H3e=(t,e,n)=>e in t?V3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Et=(t,e,n)=>(H3e(t,typeof e!="symbol"?e+"":e,n),n);const nw=new Nd,BV=new dl,W3e=Math.cos(70*(Math.PI/180)),zV=(t,e)=>(t%e+e)%e;let G3e=class extends j3e{constructor(e,n){super(),Et(this,"object"),Et(this,"domElement"),Et(this,"enabled",!0),Et(this,"target",new te),Et(this,"minDistance",0),Et(this,"maxDistance",1/0),Et(this,"minZoom",0),Et(this,"maxZoom",1/0),Et(this,"minPolarAngle",0),Et(this,"maxPolarAngle",Math.PI),Et(this,"minAzimuthAngle",-1/0),Et(this,"maxAzimuthAngle",1/0),Et(this,"enableDamping",!1),Et(this,"dampingFactor",.05),Et(this,"enableZoom",!0),Et(this,"zoomSpeed",1),Et(this,"enableRotate",!0),Et(this,"rotateSpeed",1),Et(this,"enablePan",!0),Et(this,"panSpeed",1),Et(this,"screenSpacePanning",!0),Et(this,"keyPanSpeed",7),Et(this,"zoomToCursor",!1),Et(this,"autoRotate",!1),Et(this,"autoRotateSpeed",2),Et(this,"reverseOrbit",!1),Et(this,"reverseHorizontalOrbit",!1),Et(this,"reverseVerticalOrbit",!1),Et(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Et(this,"mouseButtons",{LEFT:ff.ROTATE,MIDDLE:ff.DOLLY,RIGHT:ff.PAN}),Et(this,"touches",{ONE:df.ROTATE,TWO:df.DOLLY_PAN}),Et(this,"target0"),Et(this,"position0"),Et(this,"zoom0"),Et(this,"_domElementKeyEvents",null),Et(this,"getPolarAngle"),Et(this,"getAzimuthalAngle"),Et(this,"setPolarAngle"),Et(this,"setAzimuthalAngle"),Et(this,"getDistance"),Et(this,"getZoomScale"),Et(this,"listenToKeyEvents"),Et(this,"stopListenToKeyEvents"),Et(this,"saveState"),Et(this,"reset"),Et(this,"update"),Et(this,"connect"),Et(this,"dispose"),Et(this,"dollyIn"),Et(this,"dollyOut"),Et(this,"getScale"),Et(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=oe=>{let Ce=zV(oe,2*Math.PI),De=u.phi;De<0&&(De+=2*Math.PI),Ce<0&&(Ce+=2*Math.PI);let Ue=Math.abs(Ce-De);2*Math.PI-Ue<Ue&&(Ce<De?Ce+=2*Math.PI:De+=2*Math.PI),f.phi=Ce-De,r.update()},this.setAzimuthalAngle=oe=>{let Ce=zV(oe,2*Math.PI),De=u.theta;De<0&&(De+=2*Math.PI),Ce<0&&(Ce+=2*Math.PI);let Ue=Math.abs(Ce-De);2*Math.PI-Ue<Ue&&(Ce<De?Ce+=2*Math.PI:De+=2*Math.PI),f.theta=Ce-De,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",je),this._domElementKeyEvents=oe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",je),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const oe=new te,Ce=new te(0,1,0),De=new Ci().setFromUnitVectors(e.up,Ce),Ue=De.clone().invert(),xe=new te,ce=new Ci,We=2*Math.PI;return function(){const Ye=r.object.position;De.setFromUnitVectors(e.up,Ce),Ue.copy(De).invert(),oe.copy(Ye).sub(r.target),oe.applyQuaternion(De),u.setFromVector3(oe),r.autoRotate&&l===a.NONE&&I(U()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Ze=r.minAzimuthAngle,ut=r.maxAzimuthAngle;isFinite(Ze)&&isFinite(ut)&&(Ze<-Math.PI?Ze+=We:Ze>Math.PI&&(Ze-=We),ut<-Math.PI?ut+=We:ut>Math.PI&&(ut-=We),Ze<=ut?u.theta=Math.max(Ze,Math.min(ut,u.theta)):u.theta=u.theta>(Ze+ut)/2?Math.max(Ze,u.theta):Math.min(ut,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&R||r.object.isOrthographicCamera?u.radius=Y(u.radius):u.radius=Y(u.radius*d),oe.setFromSpherical(u),oe.applyQuaternion(Ue),Ye.copy(r.target).add(oe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),h.set(0,0,0));let et=!1;if(r.zoomToCursor&&R){let xt=null;if(r.object instanceof fr&&r.object.isPerspectiveCamera){const Dt=oe.length();xt=Y(Dt*d);const bt=Dt-xt;r.object.position.addScaledVector(C,bt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Dt=new te(N.x,N.y,0);Dt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),et=!0;const bt=new te(N.x,N.y,0);bt.unproject(r.object),r.object.position.sub(bt).add(Dt),r.object.updateMatrixWorld(),xt=oe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;xt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(xt).add(r.object.position):(nw.origin.copy(r.object.position),nw.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(nw.direction))<W3e?e.lookAt(r.target):(BV.setFromNormalAndCoplanarPoint(r.object.up,r.target),nw.intersectPlane(BV,r.target))))}else r.object instanceof su&&r.object.isOrthographicCamera&&(et=d!==1,et&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,R=!1,et||xe.distanceToSquared(r.object.position)>c||8*(1-ce.dot(r.object.quaternion))>c?(r.dispatchEvent(i),xe.copy(r.object.position),ce.copy(r.object.quaternion),et=!1,!0):!1}})(),this.connect=oe=>{r.domElement=oe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",st),r.domElement.addEventListener("pointerdown",be),r.domElement.addEventListener("pointercancel",ve),r.domElement.addEventListener("wheel",Te)},this.dispose=()=>{var oe,Ce,De,Ue,xe,ce;r.domElement&&(r.domElement.style.touchAction="auto"),(oe=r.domElement)==null||oe.removeEventListener("contextmenu",st),(Ce=r.domElement)==null||Ce.removeEventListener("pointerdown",be),(De=r.domElement)==null||De.removeEventListener("pointercancel",ve),(Ue=r.domElement)==null||Ue.removeEventListener("wheel",Te),(xe=r.domElement)==null||xe.ownerDocument.removeEventListener("pointermove",pe),(ce=r.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",ve),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",je)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new Cb,f=new Cb;let d=1;const h=new te,p=new Fe,v=new Fe,y=new Fe,g=new Fe,_=new Fe,w=new Fe,b=new Fe,M=new Fe,A=new Fe,C=new te,N=new Fe;let R=!1;const D=[],F={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function $(){return Math.pow(.95,r.zoomSpeed)}function I(oe){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=oe:f.theta-=oe}function V(oe){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=oe:f.phi-=oe}const j=(()=>{const oe=new te;return function(De,Ue){oe.setFromMatrixColumn(Ue,0),oe.multiplyScalar(-De),h.add(oe)}})(),X=(()=>{const oe=new te;return function(De,Ue){r.screenSpacePanning===!0?oe.setFromMatrixColumn(Ue,1):(oe.setFromMatrixColumn(Ue,0),oe.crossVectors(r.object.up,oe)),oe.multiplyScalar(De),h.add(oe)}})(),L=(()=>{const oe=new te;return function(De,Ue){const xe=r.domElement;if(xe&&r.object instanceof fr&&r.object.isPerspectiveCamera){const ce=r.object.position;oe.copy(ce).sub(r.target);let We=oe.length();We*=Math.tan(r.object.fov/2*Math.PI/180),j(2*De*We/xe.clientHeight,r.object.matrix),X(2*Ue*We/xe.clientHeight,r.object.matrix)}else xe&&r.object instanceof su&&r.object.isOrthographicCamera?(j(De*(r.object.right-r.object.left)/r.object.zoom/xe.clientWidth,r.object.matrix),X(Ue*(r.object.top-r.object.bottom)/r.object.zoom/xe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function k(oe){r.object instanceof fr&&r.object.isPerspectiveCamera||r.object instanceof su&&r.object.isOrthographicCamera?d=oe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(oe){k(d/oe)}function B(oe){k(d*oe)}function G(oe){if(!r.zoomToCursor||!r.domElement)return;R=!0;const Ce=r.domElement.getBoundingClientRect(),De=oe.clientX-Ce.left,Ue=oe.clientY-Ce.top,xe=Ce.width,ce=Ce.height;N.x=De/xe*2-1,N.y=-(Ue/ce)*2+1,C.set(N.x,N.y,1).unproject(r.object).sub(r.object.position).normalize()}function Y(oe){return Math.max(r.minDistance,Math.min(r.maxDistance,oe))}function Z(oe){p.set(oe.clientX,oe.clientY)}function Q(oe){G(oe),b.set(oe.clientX,oe.clientY)}function re(oe){g.set(oe.clientX,oe.clientY)}function J(oe){v.set(oe.clientX,oe.clientY),y.subVectors(v,p).multiplyScalar(r.rotateSpeed);const Ce=r.domElement;Ce&&(I(2*Math.PI*y.x/Ce.clientHeight),V(2*Math.PI*y.y/Ce.clientHeight)),p.copy(v),r.update()}function ae(oe){M.set(oe.clientX,oe.clientY),A.subVectors(M,b),A.y>0?z($()):A.y<0&&B($()),b.copy(M),r.update()}function se(oe){_.set(oe.clientX,oe.clientY),w.subVectors(_,g).multiplyScalar(r.panSpeed),L(w.x,w.y),g.copy(_),r.update()}function fe(oe){G(oe),oe.deltaY<0?B($()):oe.deltaY>0&&z($()),r.update()}function ue(oe){let Ce=!1;switch(oe.code){case r.keys.UP:L(0,r.keyPanSpeed),Ce=!0;break;case r.keys.BOTTOM:L(0,-r.keyPanSpeed),Ce=!0;break;case r.keys.LEFT:L(r.keyPanSpeed,0),Ce=!0;break;case r.keys.RIGHT:L(-r.keyPanSpeed,0),Ce=!0;break}Ce&&(oe.preventDefault(),r.update())}function H(){if(D.length==1)p.set(D[0].pageX,D[0].pageY);else{const oe=.5*(D[0].pageX+D[1].pageX),Ce=.5*(D[0].pageY+D[1].pageY);p.set(oe,Ce)}}function he(){if(D.length==1)g.set(D[0].pageX,D[0].pageY);else{const oe=.5*(D[0].pageX+D[1].pageX),Ce=.5*(D[0].pageY+D[1].pageY);g.set(oe,Ce)}}function le(){const oe=D[0].pageX-D[1].pageX,Ce=D[0].pageY-D[1].pageY,De=Math.sqrt(oe*oe+Ce*Ce);b.set(0,De)}function me(){r.enableZoom&&le(),r.enablePan&&he()}function de(){r.enableZoom&&le(),r.enableRotate&&H()}function ke(oe){if(D.length==1)v.set(oe.pageX,oe.pageY);else{const De=Ie(oe),Ue=.5*(oe.pageX+De.x),xe=.5*(oe.pageY+De.y);v.set(Ue,xe)}y.subVectors(v,p).multiplyScalar(r.rotateSpeed);const Ce=r.domElement;Ce&&(I(2*Math.PI*y.x/Ce.clientHeight),V(2*Math.PI*y.y/Ce.clientHeight)),p.copy(v)}function _e(oe){if(D.length==1)_.set(oe.pageX,oe.pageY);else{const Ce=Ie(oe),De=.5*(oe.pageX+Ce.x),Ue=.5*(oe.pageY+Ce.y);_.set(De,Ue)}w.subVectors(_,g).multiplyScalar(r.panSpeed),L(w.x,w.y),g.copy(_)}function q(oe){const Ce=Ie(oe),De=oe.pageX-Ce.x,Ue=oe.pageY-Ce.y,xe=Math.sqrt(De*De+Ue*Ue);M.set(0,xe),A.set(0,Math.pow(M.y/b.y,r.zoomSpeed)),z(A.y),b.copy(M)}function K(oe){r.enableZoom&&q(oe),r.enablePan&&_e(oe)}function ne(oe){r.enableZoom&&q(oe),r.enableRotate&&ke(oe)}function be(oe){var Ce,De;r.enabled!==!1&&(D.length===0&&((Ce=r.domElement)==null||Ce.ownerDocument.addEventListener("pointermove",pe),(De=r.domElement)==null||De.ownerDocument.addEventListener("pointerup",ve)),tt(oe),oe.pointerType==="touch"?$e(oe):Re(oe))}function pe(oe){r.enabled!==!1&&(oe.pointerType==="touch"?Ae(oe):Be(oe))}function ve(oe){var Ce,De,Ue;Xe(oe),D.length===0&&((Ce=r.domElement)==null||Ce.releasePointerCapture(oe.pointerId),(De=r.domElement)==null||De.ownerDocument.removeEventListener("pointermove",pe),(Ue=r.domElement)==null||Ue.ownerDocument.removeEventListener("pointerup",ve)),r.dispatchEvent(o),l=a.NONE}function Re(oe){let Ce;switch(oe.button){case 0:Ce=r.mouseButtons.LEFT;break;case 1:Ce=r.mouseButtons.MIDDLE;break;case 2:Ce=r.mouseButtons.RIGHT;break;default:Ce=-1}switch(Ce){case ff.DOLLY:if(r.enableZoom===!1)return;Q(oe),l=a.DOLLY;break;case ff.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(r.enablePan===!1)return;re(oe),l=a.PAN}else{if(r.enableRotate===!1)return;Z(oe),l=a.ROTATE}break;case ff.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(r.enableRotate===!1)return;Z(oe),l=a.ROTATE}else{if(r.enablePan===!1)return;re(oe),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Be(oe){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;J(oe);break;case a.DOLLY:if(r.enableZoom===!1)return;ae(oe);break;case a.PAN:if(r.enablePan===!1)return;se(oe);break}}function Te(oe){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(oe.preventDefault(),r.dispatchEvent(s),fe(oe),r.dispatchEvent(o))}function je(oe){r.enabled===!1||r.enablePan===!1||ue(oe)}function $e(oe){switch(Ge(oe),D.length){case 1:switch(r.touches.ONE){case df.ROTATE:if(r.enableRotate===!1)return;H(),l=a.TOUCH_ROTATE;break;case df.PAN:if(r.enablePan===!1)return;he(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case df.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;me(),l=a.TOUCH_DOLLY_PAN;break;case df.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;de(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ae(oe){switch(Ge(oe),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ke(oe),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;_e(oe),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;K(oe),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ne(oe),r.update();break;default:l=a.NONE}}function st(oe){r.enabled!==!1&&oe.preventDefault()}function tt(oe){D.push(oe)}function Xe(oe){delete F[oe.pointerId];for(let Ce=0;Ce<D.length;Ce++)if(D[Ce].pointerId==oe.pointerId){D.splice(Ce,1);return}}function Ge(oe){let Ce=F[oe.pointerId];Ce===void 0&&(Ce=new Fe,F[oe.pointerId]=Ce),Ce.set(oe.pageX,oe.pageY)}function Ie(oe){const Ce=oe.pointerId===D[0].pointerId?D[1]:D[0];return F[Ce.pointerId]}this.dollyIn=(oe=$())=>{B(oe),r.update()},this.dollyOut=(oe=$())=>{z(oe),r.update()},this.getScale=()=>d,this.setScale=oe=>{k(oe),r.update()},this.getZoomScale=()=>$(),n!==void 0&&this.connect(n),this.update()}};function $3e(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!t[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(h){if(h instanceof Error)throw h}),d=t[d.id].value),d}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:u},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=t[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var d=t[a].getTransferables&&t[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(h){console.error(h),s(h)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&n(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function X3e(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var VJ=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return VJ=function(){return t},t},Y3e=0,K3e=0,E2=!1,gv=Object.create(null),vv=Object.create(null),rN=Object.create(null);function Pm(t){if((!t||typeof t.init!="function")&&!E2)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,s=X3e(t);i==null&&(i="#default");var o="workerModule"+ ++Y3e,a=t.name||o,l=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(E2=!0,u=Pm({workerId:i,name:"<"+a+"> function dependency: "+u.name,init:`function(){return (
`+Ww(u)+`
)}`}),E2=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function c(){for(var u=[],f=arguments.length;f--;)u[f]=arguments[f];if(!VJ())return s.apply(void 0,u);if(!l){l=jV(i,"registerModule",c.workerModuleData);var d=function(){l=null,vv[i].delete(d)};(vv[i]||(vv[i]=new Set)).add(d)}return l.then(function(h){var p=h.isCallable;if(p)return jV(i,"callModule",{id:o,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:o,name:a,dependencies:e,init:Ww(n),getTransferables:r&&Ww(r)},c.onMainThread=s,c}function q3e(t){vv[t]&&vv[t].forEach(function(e){e()}),gv[t]&&(gv[t].terminate(),delete gv[t])}function Ww(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Z3e(t){var e=gv[t];if(!e){var n=Ww($3e);e=gv[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=rN[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete rN[s],o(i)}}return e}function jV(t,e,n){return new Promise(function(r,i){var s=++K3e;rN[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},Z3e(t).postMessage({messageId:s,action:e,data:n})})}function HJ(){var t=function(e){function n(k,z,B,G,Y,Z,Q,re){var J=1-Q;re.x=J*J*k+2*J*Q*B+Q*Q*Y,re.y=J*J*z+2*J*Q*G+Q*Q*Z}function r(k,z,B,G,Y,Z,Q,re,J,ae){var se=1-J;ae.x=se*se*se*k+3*se*se*J*B+3*se*J*J*Y+J*J*J*Q,ae.y=se*se*se*z+3*se*se*J*G+3*se*J*J*Z+J*J*J*re}function i(k,z){for(var B=/([MLQCZ])([^MLQCZ]*)/g,G,Y,Z,Q,re;G=B.exec(k);){var J=G[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ae){return parseFloat(ae)});switch(G[1]){case"M":Q=Y=J[0],re=Z=J[1];break;case"L":(J[0]!==Q||J[1]!==re)&&z("L",Q,re,Q=J[0],re=J[1]);break;case"Q":{z("Q",Q,re,Q=J[2],re=J[3],J[0],J[1]);break}case"C":{z("C",Q,re,Q=J[4],re=J[5],J[0],J[1],J[2],J[3]);break}case"Z":(Q!==Y||re!==Z)&&z("L",Q,re,Y,Z);break}}}function s(k,z,B){B===void 0&&(B=16);var G={x:0,y:0};i(k,function(Y,Z,Q,re,J,ae,se,fe,ue){switch(Y){case"L":z(Z,Q,re,J);break;case"Q":{for(var H=Z,he=Q,le=1;le<B;le++)n(Z,Q,ae,se,re,J,le/(B-1),G),z(H,he,G.x,G.y),H=G.x,he=G.y;break}case"C":{for(var me=Z,de=Q,ke=1;ke<B;ke++)r(Z,Q,ae,se,fe,ue,re,J,ke/(B-1),G),z(me,de,G.x,G.y),me=G.x,de=G.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(k,z){var B=k.getContext?k.getContext("webgl",c):k,G=l.get(B);if(!G){let me=function(ne){var be=Z[ne];if(!be&&(be=Z[ne]=B.getExtension(ne),!be))throw new Error(ne+" not supported");return be},de=function(ne,be){var pe=B.createShader(be);return B.shaderSource(pe,ne),B.compileShader(pe),pe},ke=function(ne,be,pe,ve){if(!Q[ne]){var Re={},Be={},Te=B.createProgram();B.attachShader(Te,de(be,B.VERTEX_SHADER)),B.attachShader(Te,de(pe,B.FRAGMENT_SHADER)),B.linkProgram(Te),Q[ne]={program:Te,transaction:function($e){B.useProgram(Te),$e({setUniform:function(st,tt){for(var Xe=[],Ge=arguments.length-2;Ge-- >0;)Xe[Ge]=arguments[Ge+2];var Ie=Be[tt]||(Be[tt]=B.getUniformLocation(Te,tt));B["uniform"+st].apply(B,[Ie].concat(Xe))},setAttribute:function(st,tt,Xe,Ge,Ie){var oe=Re[st];oe||(oe=Re[st]={buf:B.createBuffer(),loc:B.getAttribLocation(Te,st),data:null}),B.bindBuffer(B.ARRAY_BUFFER,oe.buf),B.vertexAttribPointer(oe.loc,tt,B.FLOAT,!1,0,0),B.enableVertexAttribArray(oe.loc),Y?B.vertexAttribDivisor(oe.loc,Ge):me("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(oe.loc,Ge),Ie!==oe.data&&(B.bufferData(B.ARRAY_BUFFER,Ie,Xe),oe.data=Ie)}})}}}Q[ne].transaction(ve)},_e=function(ne,be){J++;try{B.activeTexture(B.TEXTURE0+J);var pe=re[ne];pe||(pe=re[ne]=B.createTexture(),B.bindTexture(B.TEXTURE_2D,pe),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.NEAREST),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.NEAREST)),B.bindTexture(B.TEXTURE_2D,pe),be(pe,J)}finally{J--}},q=function(ne,be,pe){var ve=B.createFramebuffer();ae.push(ve),B.bindFramebuffer(B.FRAMEBUFFER,ve),B.activeTexture(B.TEXTURE0+be),B.bindTexture(B.TEXTURE_2D,ne),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,ne,0);try{pe(ve)}finally{B.deleteFramebuffer(ve),B.bindFramebuffer(B.FRAMEBUFFER,ae[--ae.length-1]||null)}},K=function(){Z={},Q={},re={},J=-1,ae.length=0};var se=me,fe=de,ue=ke,H=_e,he=q,le=K,Y=typeof WebGL2RenderingContext<"u"&&B instanceof WebGL2RenderingContext,Z={},Q={},re={},J=-1,ae=[];B.canvas.addEventListener("webglcontextlost",function(ne){K(),ne.preventDefault()},!1),l.set(B,G={gl:B,isWebGL2:Y,getExtension:me,withProgram:ke,withTexture:_e,withTextureFramebuffer:q,handleContextLoss:K})}z(G)}function f(k,z,B,G,Y,Z,Q,re){Q===void 0&&(Q=15),re===void 0&&(re=null),u(k,function(J){var ae=J.gl,se=J.withProgram,fe=J.withTexture;fe("copy",function(ue,H){ae.texImage2D(ae.TEXTURE_2D,0,ae.RGBA,Y,Z,0,ae.RGBA,ae.UNSIGNED_BYTE,z),se("copy",o,a,function(he){var le=he.setUniform,me=he.setAttribute;me("aUV",2,ae.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),le("1i","image",H),ae.bindFramebuffer(ae.FRAMEBUFFER,re||null),ae.disable(ae.BLEND),ae.colorMask(Q&8,Q&4,Q&2,Q&1),ae.viewport(B,G,Y,Z),ae.scissor(B,G,Y,Z),ae.drawArrays(ae.TRIANGLES,0,3)})})})}function d(k,z,B){var G=k.width,Y=k.height;u(k,function(Z){var Q=Z.gl,re=new Uint8Array(G*Y*4);Q.readPixels(0,0,G,Y,Q.RGBA,Q.UNSIGNED_BYTE,re),k.width=z,k.height=B,f(Q,re,0,0,G,Y)})}var h=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function p(k,z,B,G,Y,Z){Z===void 0&&(Z=1);var Q=new Uint8Array(k*z),re=G[2]-G[0],J=G[3]-G[1],ae=[];s(B,function(me,de,ke,_e){ae.push({x1:me,y1:de,x2:ke,y2:_e,minX:Math.min(me,ke),minY:Math.min(de,_e),maxX:Math.max(me,ke),maxY:Math.max(de,_e)})}),ae.sort(function(me,de){return me.maxX-de.maxX});for(var se=0;se<k;se++)for(var fe=0;fe<z;fe++){var ue=he(G[0]+re*(se+.5)/k,G[1]+J*(fe+.5)/z),H=Math.pow(1-Math.abs(ue)/Y,Z)/2;ue<0&&(H=1-H),H=Math.max(0,Math.min(255,Math.round(H*255))),Q[fe*k+se]=H}return Q;function he(me,de){for(var ke=1/0,_e=1/0,q=ae.length;q--;){var K=ae[q];if(K.maxX+_e<=me)break;if(me+_e>K.minX&&de-_e<K.maxY&&de+_e>K.minY){var ne=g(me,de,K.x1,K.y1,K.x2,K.y2);ne<ke&&(ke=ne,_e=Math.sqrt(ke))}}return le(me,de)&&(_e=-_e),_e}function le(me,de){for(var ke=0,_e=ae.length;_e--;){var q=ae[_e];if(q.maxX<=me)break;var K=q.y1>de!=q.y2>de&&me<(q.x2-q.x1)*(de-q.y1)/(q.y2-q.y1)+q.x1;K&&(ke+=q.y1<q.y2?1:-1)}return ke!==0}}function v(k,z,B,G,Y,Z,Q,re,J,ae){Z===void 0&&(Z=1),re===void 0&&(re=0),J===void 0&&(J=0),ae===void 0&&(ae=0),y(k,z,B,G,Y,Z,Q,null,re,J,ae)}function y(k,z,B,G,Y,Z,Q,re,J,ae,se){Z===void 0&&(Z=1),J===void 0&&(J=0),ae===void 0&&(ae=0),se===void 0&&(se=0);for(var fe=p(k,z,B,G,Y,Z),ue=new Uint8Array(fe.length*4),H=0;H<fe.length;H++)ue[H*4+se]=fe[H];f(Q,ue,J,ae,k,z,1<<3-se,re)}function g(k,z,B,G,Y,Z){var Q=Y-B,re=Z-G,J=Q*Q+re*re,ae=J?Math.max(0,Math.min(1,((k-B)*Q+(z-G)*re)/J)):0,se=k-(B+ae*Q),fe=z-(G+ae*re);return se*se+fe*fe}var _=Object.freeze({__proto__:null,generate:p,generateIntoCanvas:v,generateIntoFramebuffer:y}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",b="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",M="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",A=new Float32Array([0,0,2,0,0,2]),C=null,N=!1,R={},D=new WeakMap;function F(k){if(!N&&!V(k))throw new Error("WebGL generation not supported")}function U(k,z,B,G,Y,Z,Q){if(Z===void 0&&(Z=1),Q===void 0&&(Q=null),!Q&&(Q=C,!Q)){var re=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!re)throw new Error("OffscreenCanvas or DOM canvas not supported");Q=C=re.getContext("webgl",{depth:!1})}F(Q);var J=new Uint8Array(k*z*4);u(Q,function(ue){var H=ue.gl,he=ue.withTexture,le=ue.withTextureFramebuffer;he("readable",function(me,de){H.texImage2D(H.TEXTURE_2D,0,H.RGBA,k,z,0,H.RGBA,H.UNSIGNED_BYTE,null),le(me,de,function(ke){I(k,z,B,G,Y,Z,H,ke,0,0,0),H.readPixels(0,0,k,z,H.RGBA,H.UNSIGNED_BYTE,J)})})});for(var ae=new Uint8Array(k*z),se=0,fe=0;se<J.length;se+=4)ae[fe++]=J[se];return ae}function $(k,z,B,G,Y,Z,Q,re,J,ae){Z===void 0&&(Z=1),re===void 0&&(re=0),J===void 0&&(J=0),ae===void 0&&(ae=0),I(k,z,B,G,Y,Z,Q,null,re,J,ae)}function I(k,z,B,G,Y,Z,Q,re,J,ae,se){Z===void 0&&(Z=1),J===void 0&&(J=0),ae===void 0&&(ae=0),se===void 0&&(se=0),F(Q);var fe=[];s(B,function(ue,H,he,le){fe.push(ue,H,he,le)}),fe=new Float32Array(fe),u(Q,function(ue){var H=ue.gl,he=ue.isWebGL2,le=ue.getExtension,me=ue.withProgram,de=ue.withTexture,ke=ue.withTextureFramebuffer,_e=ue.handleContextLoss;if(de("rawDistances",function(q,K){(k!==q._lastWidth||z!==q._lastHeight)&&H.texImage2D(H.TEXTURE_2D,0,H.RGBA,q._lastWidth=k,q._lastHeight=z,0,H.RGBA,H.UNSIGNED_BYTE,null),me("main",w,b,function(ne){var be=ne.setAttribute,pe=ne.setUniform,ve=!he&&le("ANGLE_instanced_arrays"),Re=!he&&le("EXT_blend_minmax");be("aUV",2,H.STATIC_DRAW,0,A),be("aLineSegment",4,H.DYNAMIC_DRAW,1,fe),pe.apply(void 0,["4f","uGlyphBounds"].concat(G)),pe("1f","uMaxDistance",Y),pe("1f","uExponent",Z),ke(q,K,function(Be){H.enable(H.BLEND),H.colorMask(!0,!0,!0,!0),H.viewport(0,0,k,z),H.scissor(0,0,k,z),H.blendFunc(H.ONE,H.ONE),H.blendEquationSeparate(H.FUNC_ADD,he?H.MAX:Re.MAX_EXT),H.clear(H.COLOR_BUFFER_BIT),he?H.drawArraysInstanced(H.TRIANGLES,0,3,fe.length/4):ve.drawArraysInstancedANGLE(H.TRIANGLES,0,3,fe.length/4)})}),me("post",o,M,function(ne){ne.setAttribute("aUV",2,H.STATIC_DRAW,0,A),ne.setUniform("1i","tex",K),H.bindFramebuffer(H.FRAMEBUFFER,re),H.disable(H.BLEND),H.colorMask(se===0,se===1,se===2,se===3),H.viewport(J,ae,k,z),H.scissor(J,ae,k,z),H.drawArrays(H.TRIANGLES,0,3)})}),H.isContextLost())throw _e(),new Error("webgl context lost")})}function V(k){var z=!k||k===C?R:k.canvas||k,B=D.get(z);if(B===void 0){N=!0;var G=null;try{var Y=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Z=U(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,k);B=Z&&Y.length===Z.length&&Z.every(function(Q,re){return Q===Y[re]}),B||(G="bad trial run results",console.info(Y,Z))}catch(Q){B=!1,G=Q.message}G&&console.warn("WebGL SDF generation not supported:",G),N=!1,D.set(z,B)}return B}var j=Object.freeze({__proto__:null,generate:U,generateIntoCanvas:$,generateIntoFramebuffer:I,isSupported:V});function X(k,z,B,G,Y,Z){Y===void 0&&(Y=Math.max(G[2]-G[0],G[3]-G[1])/2),Z===void 0&&(Z=1);try{return U.apply(j,arguments)}catch(Q){return console.info("WebGL SDF generation failed, falling back to JS",Q),p.apply(_,arguments)}}function L(k,z,B,G,Y,Z,Q,re,J,ae){Y===void 0&&(Y=Math.max(G[2]-G[0],G[3]-G[1])/2),Z===void 0&&(Z=1),re===void 0&&(re=0),J===void 0&&(J=0),ae===void 0&&(ae=0);try{return $.apply(j,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),v.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=X,e.generateIntoCanvas=L,e.javascript=_,e.pathToLineSegments=s,e.webgl=j,e.webglUtils=h,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Q3e(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(_e,q){r[_e]=1<<q+1,i[r[_e]]=_e}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var _e=function(K){if(n.hasOwnProperty(K)){var ne=0;n[K].split(",").forEach(function(be){var pe=be.split("+"),ve=pe[0],Re=pe[1];ve=parseInt(ve,36),Re=Re?parseInt(Re,36):0,u.set(ne+=ve,r[K]);for(var Be=0;Be<Re;Be++)u.set(++ne,r[K])})}};for(var q in n)_e(q)}}function d(_e){return f(),u.get(_e.codePointAt(0))||r.L}function h(_e){return i[d(_e)]}var p={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(_e,q){var K=36,ne=0,be=new Map,pe=q&&new Map,ve;return _e.split(",").forEach(function Re(Be){if(Be.indexOf("+")!==-1)for(var Te=+Be;Te--;)Re(ve);else{ve=Be;var je=Be.split(">"),$e=je[0],Ae=je[1];$e=String.fromCodePoint(ne+=parseInt($e,K)),Ae=String.fromCodePoint(ne+=parseInt(Ae,K)),be.set($e,Ae),q&&pe.set(Ae,$e)}}),{map:be,reverseMap:pe}}var y,g,_;function w(){if(!y){var _e=v(p.pairs,!0),q=_e.map,K=_e.reverseMap;y=q,g=K,_=v(p.canonical,!1).map}}function b(_e){return w(),y.get(_e)||null}function M(_e){return w(),g.get(_e)||null}function A(_e){return w(),_.get(_e)||null}var C=r.L,N=r.R,R=r.EN,D=r.ES,F=r.ET,U=r.AN,$=r.CS,I=r.B,V=r.S,j=r.ON,X=r.BN,L=r.NSM,k=r.AL,z=r.LRO,B=r.RLO,G=r.LRE,Y=r.RLE,Z=r.PDF,Q=r.LRI,re=r.RLI,J=r.FSI,ae=r.PDI;function se(_e,q){for(var K=125,ne=new Uint32Array(_e.length),be=0;be<_e.length;be++)ne[be]=d(_e[be]);var pe=new Map;function ve(Ur,Ui){var nr=ne[Ur];ne[Ur]=Ui,pe.set(nr,pe.get(nr)-1),nr&a&&pe.set(a,pe.get(a)-1),pe.set(Ui,(pe.get(Ui)||0)+1),Ui&a&&pe.set(a,(pe.get(a)||0)+1)}for(var Re=new Uint8Array(_e.length),Be=new Map,Te=[],je=null,$e=0;$e<_e.length;$e++)je||Te.push(je={start:$e,end:_e.length-1,level:q==="rtl"?1:q==="ltr"?0:Bd($e,!1)}),ne[$e]&I&&(je.end=$e,je=null);for(var Ae=Y|G|B|z|s|ae|Z|I,st=function(Ur){return Ur+(Ur&1?1:2)},tt=function(Ur){return Ur+(Ur&1?2:1)},Xe=0;Xe<Te.length;Xe++){je=Te[Xe];var Ge=[{_level:je.level,_override:0,_isolate:0}],Ie=void 0,oe=0,Ce=0,De=0;pe.clear();for(var Ue=je.start;Ue<=je.end;Ue++){var xe=ne[Ue];if(Ie=Ge[Ge.length-1],pe.set(xe,(pe.get(xe)||0)+1),xe&a&&pe.set(a,(pe.get(a)||0)+1),xe&Ae)if(xe&(Y|G)){Re[Ue]=Ie._level;var ce=(xe===Y?tt:st)(Ie._level);ce<=K&&!oe&&!Ce?Ge.push({_level:ce,_override:0,_isolate:0}):oe||Ce++}else if(xe&(B|z)){Re[Ue]=Ie._level;var We=(xe===B?tt:st)(Ie._level);We<=K&&!oe&&!Ce?Ge.push({_level:We,_override:xe&B?N:C,_isolate:0}):oe||Ce++}else if(xe&s){xe&J&&(xe=Bd(Ue+1,!0)===1?re:Q),Re[Ue]=Ie._level,Ie._override&&ve(Ue,Ie._override);var ze=(xe===re?tt:st)(Ie._level);ze<=K&&oe===0&&Ce===0?(De++,Ge.push({_level:ze,_override:0,_isolate:1,_isolInitIndex:Ue})):oe++}else if(xe&ae){if(oe>0)oe--;else if(De>0){for(Ce=0;!Ge[Ge.length-1]._isolate;)Ge.pop();var Ye=Ge[Ge.length-1]._isolInitIndex;Ye!=null&&(Be.set(Ye,Ue),Be.set(Ue,Ye)),Ge.pop(),De--}Ie=Ge[Ge.length-1],Re[Ue]=Ie._level,Ie._override&&ve(Ue,Ie._override)}else xe&Z?(oe===0&&(Ce>0?Ce--:!Ie._isolate&&Ge.length>1&&(Ge.pop(),Ie=Ge[Ge.length-1])),Re[Ue]=Ie._level):xe&I&&(Re[Ue]=je.level);else Re[Ue]=Ie._level,Ie._override&&xe!==X&&ve(Ue,Ie._override)}for(var Ze=[],ut=null,et=je.start;et<=je.end;et++){var xt=ne[et];if(!(xt&l)){var Dt=Re[et],bt=xt&s,Vt=xt===ae;ut&&Dt===ut._level?(ut._end=et,ut._endsWithIsolInit=bt):Ze.push(ut={_start:et,_end:et,_level:Dt,_startsWithPDI:Vt,_endsWithIsolInit:bt})}}for(var vn=[],ui=0;ui<Ze.length;ui++){var qr=Ze[ui];if(!qr._startsWithPDI||qr._startsWithPDI&&!Be.has(qr._start)){for(var Zr=[ut=qr],Lr=void 0;ut&&ut._endsWithIsolInit&&(Lr=Be.get(ut._end))!=null;)for(var Or=ui+1;Or<Ze.length;Or++)if(Ze[Or]._start===Lr){Zr.push(ut=Ze[Or]);break}for(var Wn=[],Ji=0;Ji<Zr.length;Ji++)for(var ec=Zr[Ji],ua=ec._start;ua<=ec._end;ua++)Wn.push(ua);for(var tc=Re[Wn[0]],ee=je.level,we=Wn[0]-1;we>=0;we--)if(!(ne[we]&l)){ee=Re[we];break}var Me=Wn[Wn.length-1],Pe=Re[Me],Ee=je.level;if(!(ne[Me]&s)){for(var nt=Me+1;nt<=je.end;nt++)if(!(ne[nt]&l)){Ee=Re[nt];break}}vn.push({_seqIndices:Wn,_sosType:Math.max(ee,tc)%2?N:C,_eosType:Math.max(Ee,Pe)%2?N:C})}}for(var dt=0;dt<vn.length;dt++){var mt=vn[dt],He=mt._seqIndices,_t=mt._sosType,Tt=mt._eosType,wt=Re[He[0]]&1?N:C;if(pe.get(L))for(var an=0;an<He.length;an++){var Gn=He[an];if(ne[Gn]&L){for(var sn=_t,yn=an-1;yn>=0;yn--)if(!(ne[He[yn]]&l)){sn=ne[He[yn]];break}ve(Gn,sn&(s|ae)?j:sn)}}if(pe.get(R))for(var yt=0;yt<He.length;yt++){var at=He[yt];if(ne[at]&R)for(var Tr=yt-1;Tr>=-1;Tr--){var Pt=Tr===-1?_t:ne[He[Tr]];if(Pt&o){Pt===k&&ve(at,U);break}}}if(pe.get(k))for(var hn=0;hn<He.length;hn++){var Di=He[hn];ne[Di]&k&&ve(Di,N)}if(pe.get(D)||pe.get($))for(var mr=1;mr<He.length-1;mr++){var An=He[mr];if(ne[An]&(D|$)){for(var qt=0,fi=0,$s=mr-1;$s>=0&&(qt=ne[He[$s]],!!(qt&l));$s--);for(var Dn=mr+1;Dn<He.length&&(fi=ne[He[Dn]],!!(fi&l));Dn++);qt===fi&&(ne[An]===D?qt===R:qt&(R|U))&&ve(An,qt)}}if(pe.get(R))for(var tr=0;tr<He.length;tr++){var Qr=He[tr];if(ne[Qr]&R){for(var Mo=tr-1;Mo>=0&&ne[He[Mo]]&(F|l);Mo--)ve(He[Mo],R);for(tr++;tr<He.length&&ne[He[tr]]&(F|l|R);tr++)ne[He[tr]]!==R&&ve(He[tr],R)}}if(pe.get(F)||pe.get(D)||pe.get($))for(var fa=0;fa<He.length;fa++){var Ty=He[fa];if(ne[Ty]&(F|D|$)){ve(Ty,j);for(var Wa=fa-1;Wa>=0&&ne[He[Wa]]&l;Wa--)ve(He[Wa],j);for(var Ga=fa+1;Ga<He.length&&ne[He[Ga]]&l;Ga++)ve(He[Ga],j)}}if(pe.get(R))for(var $a=0,Nu=_t;$a<He.length;$a++){var Ay=He[$a],Nm=ne[Ay];Nm&R?Nu===C&&ve(Ay,C):Nm&o&&(Nu=Nm)}if(pe.get(a)){var Xa=N|R|U,kd=Xa|C,da=[];{for(var nc=[],ha=0;ha<He.length;ha++)if(ne[He[ha]]&a){var Wt=_e[He[ha]],Im=void 0;if(b(Wt)!==null)if(nc.length<63)nc.push({char:Wt,seqIndex:ha});else break;else if((Im=M(Wt))!==null)for(var Ya=nc.length-1;Ya>=0;Ya--){var Ud=nc[Ya].char;if(Ud===Im||Ud===M(A(Wt))||b(A(Ud))===Wt){da.push([nc[Ya].seqIndex,ha]),nc.length=Ya;break}}}da.sort(function(Ur,Ui){return Ur[0]-Ui[0]})}for(var Dm=0;Dm<da.length;Dm++){for(var Cy=da[Dm],Ln=Cy[0],Iu=Cy[1],Py=!1,Li=0,Lm=Ln+1;Lm<Iu;Lm++){var Du=He[Lm];if(ne[Du]&kd){Py=!0;var vs=ne[Du]&Xa?N:C;if(vs===wt){Li=vs;break}}}if(Py&&!Li){Li=_t;for(var Om=Ln-1;Om>=0;Om--){var Ry=He[Om];if(ne[Ry]&kd){var ys=ne[Ry]&Xa?N:C;ys!==wt?Li=ys:Li=wt;break}}}if(Li){if(ne[He[Ln]]=ne[He[Iu]]=Li,Li!==wt){for(var Oi=Ln+1;Oi<He.length;Oi++)if(!(ne[He[Oi]]&l)){d(_e[He[Oi]])&L&&(ne[He[Oi]]=Li);break}}if(Li!==wt){for(var pa=Iu+1;pa<He.length;pa++)if(!(ne[He[pa]]&l)){d(_e[He[pa]])&L&&(ne[He[pa]]=Li);break}}}}for(var Xs=0;Xs<He.length;Xs++)if(ne[He[Xs]]&a){for(var km=Xs,Um=Xs,es=_t,Lu=Xs-1;Lu>=0;Lu--)if(ne[He[Lu]]&l)km=Lu;else{es=ne[He[Lu]]&Xa?N:C;break}for(var Ou=Tt,ku=Xs+1;ku<He.length;ku++)if(ne[He[ku]]&(a|l))Um=ku;else{Ou=ne[He[ku]]&Xa?N:C;break}for(var ki=km;ki<=Um;ki++)ne[He[ki]]=es===Ou?es:wt;Xs=Um}}}for(var kr=je.start;kr<=je.end;kr++){var Fd=Re[kr],To=ne[kr];if(Fd&1?To&(C|R|U)&&Re[kr]++:To&N?Re[kr]++:To&(U|R)&&(Re[kr]+=2),To&l&&(Re[kr]=kr===0?je.level:Re[kr-1]),kr===je.end||d(_e[kr])&(V|I))for(var rc=kr;rc>=0&&d(_e[rc])&c;rc--)Re[rc]=je.level}}return{levels:Re,paragraphs:Te};function Bd(Ur,Ui){for(var nr=Ur;nr<_e.length;nr++){var rr=ne[nr];if(rr&(N|k))return 1;if(rr&(I|C)||Ui&&rr===ae)return 0;if(rr&s){var xs=Ny(nr);nr=xs===-1?_e.length:xs}}return 0}function Ny(Ur){for(var Ui=1,nr=Ur+1;nr<_e.length;nr++){var rr=ne[nr];if(rr&I)break;if(rr&ae){if(--Ui===0)return nr}else rr&s&&Ui++}return-1}}var fe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ue;function H(){if(!ue){var _e=v(fe,!0),q=_e.map,K=_e.reverseMap;K.forEach(function(ne,be){q.set(be,ne)}),ue=q}}function he(_e){return H(),ue.get(_e)||null}function le(_e,q,K,ne){var be=_e.length;K=Math.max(0,K==null?0:+K),ne=Math.min(be-1,ne==null?be-1:+ne);for(var pe=new Map,ve=K;ve<=ne;ve++)if(q[ve]&1){var Re=he(_e[ve]);Re!==null&&pe.set(ve,Re)}return pe}function me(_e,q,K,ne){var be=_e.length;K=Math.max(0,K==null?0:+K),ne=Math.min(be-1,ne==null?be-1:+ne);var pe=[];return q.paragraphs.forEach(function(ve){var Re=Math.max(K,ve.start),Be=Math.min(ne,ve.end);if(Re<Be){for(var Te=q.levels.slice(Re,Be+1),je=Be;je>=Re&&d(_e[je])&c;je--)Te[je]=ve.level;for(var $e=ve.level,Ae=1/0,st=0;st<Te.length;st++){var tt=Te[st];tt>$e&&($e=tt),tt<Ae&&(Ae=tt|1)}for(var Xe=$e;Xe>=Ae;Xe--)for(var Ge=0;Ge<Te.length;Ge++)if(Te[Ge]>=Xe){for(var Ie=Ge;Ge+1<Te.length&&Te[Ge+1]>=Xe;)Ge++;Ge>Ie&&pe.push([Ie+Re,Ge+Re])}}}),pe}function de(_e,q,K,ne){var be=ke(_e,q,K,ne),pe=[].concat(_e);return be.forEach(function(ve,Re){pe[Re]=(q.levels[ve]&1?he(_e[ve]):null)||_e[ve]}),pe.join("")}function ke(_e,q,K,ne){for(var be=me(_e,q,K,ne),pe=[],ve=0;ve<_e.length;ve++)pe[ve]=ve;return be.forEach(function(Re){for(var Be=Re[0],Te=Re[1],je=pe.slice(Be,Te+1),$e=je.length;$e--;)pe[Te-$e]=je[$e]}),pe}return e.closingToOpeningBracket=M,e.getBidiCharType=d,e.getBidiCharTypeName=h,e.getCanonicalBracket=A,e.getEmbeddingLevels=se,e.getMirroredCharacter=he,e.getMirroredCharactersMap=le,e.getReorderSegments=me,e.getReorderedIndices=ke,e.getReorderedString=de,e.openingToClosingBracket=b,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const WJ=/\bvoid\s+main\s*\(\s*\)\s*{/g;function iN(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=Lt[i];return s?iN(s):r}return t.replace(e,n)}const ei=[];for(let t=0;t<256;t++)ei[t]=(t<16?"0":"")+t.toString(16);function J3e(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ei[t&255]+ei[t>>8&255]+ei[t>>16&255]+ei[t>>24&255]+"-"+ei[e&255]+ei[e>>8&255]+"-"+ei[e>>16&15|64]+ei[e>>24&255]+"-"+ei[n&63|128]+ei[n>>8&255]+"-"+ei[n>>16&255]+ei[n>>24&255]+ei[r&255]+ei[r>>8&255]+ei[r>>16&255]+ei[r>>24&255]).toUpperCase()}const rf=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},eke=Date.now(),VV=new WeakMap,HV=new Map;let tke=1e10;function sN(t,e){const n=ske(e);let r=VV.get(t);if(r||VV.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(c,u){t.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=HV[f];if(!d){const h=nke(this,c,e,n);d=HV[f]=h}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,rf(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-eke}}),this[i]&&this[i](c)},o=function(){return a(e.chained?t:t.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:tke++}),u.uuid=J3e(),u.uniforms=rf({},c.uniforms,e.uniforms),u.defines=rf({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=rf({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:c=>{t.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const u=this.baseMaterial;return c===u||u.isDerivedMaterial&&u.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(rf(this.extensions,c.extensions),rf(this.defines,c.defines),rf(this.uniforms,LO.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=sN(t.isDerivedMaterial?t.getDepthMaterial():new TE({depthPacking:AO}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=sN(t.isDerivedMaterial?t.getDistanceMaterial():new AE,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function nke(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:h,timeUniform:p}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||h)&&(e=iN(e)),(d||h)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=iN(n)),h){let v=h({vertexShader:e,fragmentShader:n});e=v.vertexShader,n=v.fragmentShader}if(d){let v=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${d}
${v.join(`
`)}
${f}`}if(p){const v=`
uniform float ${p};
`;s=v+s,c=v+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,g,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,g))?y:`troika_${y}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=WV(e,i,s,o,a),n=WV(n,i,c,u,f),{vertexShader:e,fragmentShader:n}}function WV(t,e,n,r,i){return(r||i||n)&&(t=t.replace(WJ,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function rke(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let ike=0;const GV=new Map;function ske(t){const e=JSON.stringify(t,rke);let n=GV.get(e);return n==null&&GV.set(e,n=++ike),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function oke(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:i,_offset:a},f={},d=0;d<l;d++){var h=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var p=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,f[h]={offset:p,length:v}}for(d=0;d<c.length;d++){var y=c[d];f[y]&&(u[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var d=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var d=c.readUshort(i,s);s+=2;var h=c.readUshort(i,s);s+=2;var p=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+h),u.lookupList=e._lctf.readLookupList(i,f+p,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var h=e._lctf.readLookupTable(i,l+d,o);c.push(h)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var f=c.ltype,d=0;d<u;d++){var h=a.readUshort(i,s);s+=2;var p=o(i,f,l+h,c);c.tabs.push(p)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var h=e._lctf.readFeatureTable(i,a+d);h.tag=f.trim(),l.push(h)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.default=e._lctf.readLangSysTable(i,a+c));var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(i,s,4);s+=4;var h=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+h)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var h=d[0],p=[];s=e.CFF.readIndex(i,s,p);var v=[];for(u=0;u<p.length-1;u++)v.push(a.readASCII(i,s+p[u],p[u+1]-p[u]));if(s+=p[p.length-1],e.CFF.readSubrs(i,s,h),h.CharStrings){s=h.CharStrings,p=[],s=e.CFF.readIndex(i,s,p);var y=[];for(u=0;u<p.length-1;u++)y.push(a.readBytes(i,s+p[u],p[u+1]-p[u]));h.CharStrings=y}if(h.ROS){s=h.FDArray;var g=[];for(s=e.CFF.readIndex(i,s,g),h.FDArray=[],u=0;u<g.length-1;u++){var _=e.CFF.readDict(i,s+g[u],s+g[u+1]);e.CFF._readFDict(i,_,v),h.FDArray.push(_)}s+=g[g.length-1],s=h.FDSelect,h.FDSelect=[];var w=i[s];if(s++,w!=3)throw w;var b=a.readUshort(i,s);for(s+=2,u=0;u<b+1;u++)h.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return h.Encoding&&(h.Encoding=e.CFF.readEncoding(i,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=e.CFF.readCharset(i,h.charset,h.CharStrings.length)),e.CFF._readFDict(i,h,v),h},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(c==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=a.readInt(i,s+1)/65535,u=5),o.val=d??"o"+f,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,h=null,p=null;u<=20&&(h=u,d=1),u==12&&(h=100*u+f,d=2),u!=19&&u!=20||(h=u,d=2),21<=u&&u<=27&&(h=u,d=1),u==28&&(p=l.readShort(i,s+1),d=3),29<=u&&u<=31&&(h=u,d=1),32<=u&&u<=246&&(p=u-139,d=1),247<=u&&u<=250&&(p=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(p=256*-(u-251)-f-108,d=2),u==255&&(p=l.readInt(i,s+1)/65535,d=5),c.push(p??"o"+h),s+=d}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,h=null,p=null;if(u==28&&(p=a.readShort(i,s+1),d=3),u==29&&(p=a.readInt(i,s+1),d=5),32<=u&&u<=246&&(p=u-139,d=1),247<=u&&u<=250&&(p=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(p=256*-(u-251)-f-108,d=2),u==255)throw p=a.readInt(i,s+1)/65535,d=5,"unknown number";if(u==30){var v=[];for(d=1;;){var y=i[s+d];d++;var g=y>>4,_=15&y;if(g!=15&&v.push(g),_!=15&&v.push(_),_==15)break}for(var w="",b=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],M=0;M<v.length;M++)w+=b[v[M]];p=parseFloat(w)}u<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),h!=null?(l[h]=c.length==1?c[0]:c,c=[]):c.push(p),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var h=a.readUshort(i,s);s+=2;var p=a.readUint(i,s);s+=4;var v="p"+d+"e"+h,y=u.indexOf(p);if(y==-1){var g;y=l.tables.length,u.push(p);var _=a.readUshort(i,p);_==0?g=e.cmap.parse0(i,p):_==4?g=e.cmap.parse4(i,p):_==6?g=e.cmap.parse6(i,p):_==12?g=e.cmap.parse12(i,p):console.debug("unknown format: "+_,d,h,p),l.tables.push(g)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var f=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(i,u+0),d=o.readUint(i,u+4),h=o.readUint(i,u+8);a.groups.push([f,d,h])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var h=a[l];if(l++,c.flags.push(h),(8&h)!=0){var p=a[l];l++;for(var v=0;v<p;v++)c.flags.push(h),u++}}for(c.xs=[],u=0;u<d;u++){var y=(2&c.flags[u])!=0,g=(16&c.flags[u])!=0;y?(c.xs.push(g?a[l]:-a[l]),l++):g?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)y=(4&c.flags[u])!=0,g=(32&c.flags[u])!=0,y?(c.ys.push(g?a[l]:-a[l]),l++):g?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var _=0,w=0;for(u=0;u<d;u++)_+=c.xs[u],w+=c.ys[u],c.xs[u]=_,c.ys[u]=w}else{var b;c.parts=[];do{b=o.readUshort(a,l),l+=2;var M={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(M),M.glyphIndex=o.readUshort(a,l),l+=2,1&b){var A=o.readShort(a,l);l+=2;var C=o.readShort(a,l);l+=2}else A=o.readInt8(a,l),l++,C=o.readInt8(a,l),l++;2&b?(M.m.tx=A,M.m.ty=C):(M.p1=A,M.p2=C),8&b?(M.m.a=M.m.d=o.readF2dot14(a,l),l+=2):64&b?(M.m.a=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2):128&b&&(M.m.a=o.readF2dot14(a,l),l+=2,M.m.b=o.readF2dot14(a,l),l+=2,M.m.c=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2)}while(32&b);if(256&b){var N=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<N;u++)c.instr.push(a[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(i,s,o,a){var l=s;s+=4;var c=e._bin.readUshort(i,s);return{glyphClassDef:c===0?null:e._lctf.readClassDef(i,l+c)}},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var d=l.readUshort(i,o);o+=2,d!=0&&(u.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,o),o+=2;var h=l.readUshort(i,o);o+=2;var p=e._lctf.numOfOnes(d),v=e._lctf.numOfOnes(h);if(u.fmt==1){u.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var g=0;g<y;g++){var _=c+l.readUshort(i,o);o+=2;var w=l.readUshort(i,_);_+=2;for(var b=[],M=0;M<w;M++){var A=l.readUshort(i,_);_+=2,d!=0&&(U=e.GPOS.readValueRecord(i,_,d),_+=2*p),h!=0&&($=e.GPOS.readValueRecord(i,_,h),_+=2*v),b.push({gid2:A,val1:U,val2:$})}u.pairsets.push(b)}}if(u.fmt==2){var C=l.readUshort(i,o);o+=2;var N=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+C),u.classDef2=e._lctf.readClassDef(i,c+N),u.matrix=[],g=0;g<R;g++){var F=[];for(M=0;M<D;M++){var U=null,$=null;d!=0&&(U=e.GPOS.readValueRecord(i,o,d),o+=2*p),h!=0&&($=e.GPOS.readValueRecord(i,o,h),o+=2*v),F.push({val1:U,val2:$})}u.matrix.push(F)}}}else if(s==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+c),u.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+c),u.markClassCount=l.readUshort(i,o+4),u.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+c),u.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+c,u.markClassCount);else if(s==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+c),u.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+c),u.markClassCount=l.readUshort(i,o+4),u.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+c),u.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+c,u.markClassCount);else{if(s==9&&u.fmt==1){var I=l.readUshort(i,o);o+=2;var V=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=I;else if(a.ltype!=I)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+V)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,s,o){var a=e._bin,l=[],c=s,u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){for(var d=[],h=0;h<o;h++)d.push(e.GPOS.readAnchorRecord(i,c+a.readUshort(i,s))),s+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(i,s){var o=e._bin,a=[],l=s,c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=e.GPOS.readAnchorRecord(i,o.readUshort(i,s+2)+l);f.markClass=o.readUshort(i,s),a.push(f),s+=4}return a},e.GPOS.readAnchorRecord=function(i,s){var o=e._bin,a={};return a.fmt=o.readUshort(i,s),a.x=o.readShort(i,s+2),a.y=o.readShort(i,s+4),a},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var d=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,d),o+=2*u.newg.length}}else if(s==2&&u.fmt==1){d=l.readUshort(i,o),o+=2,u.seqs=[];for(var h=0;h<d;h++){var p=l.readUshort(i,o)+c;o+=2;var v=l.readUshort(i,p);u.seqs.push(l.readUshorts(i,p+2,v))}}else if(s==4)for(u.vals=[],d=l.readUshort(i,o),o+=2,h=0;h<d;h++){var y=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+y))}else if(s==5&&u.fmt==2){if(u.fmt==2){var g=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+g),u.scset=[];var _=l.readUshort(i,o);for(o+=2,h=0;h<_;h++){var w=l.readUshort(i,o);o+=2,u.scset.push(w==0?null:e.GSUB.readSubClassSet(i,c+w))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(h=0;h<3;h++){d=l.readUshort(i,o),o+=2;for(var b=[],M=0;M<d;M++)b.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*M)));o+=2*d,h==0&&(u.backCvg=b),h==1&&(u.inptCvg=b),h==2&&(u.ahedCvg=b)}d=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&u.fmt==1){var A=l.readUshort(i,o);o+=2;var C=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=A;else if(a.ltype!=A)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+C)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){s+=2,o=l.readUshort(i,s),s+=2;var h=l.readUshort(i,s);s+=2;var p=h>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var h=d>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var h=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var p=o.rval[o.rval.length-1];p.glyph2.push(d),p.vals.push(h),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,s+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,s+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,h=0;h<c;h++){var p=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var g=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var b,M=f[g],A=d+12*c+w;if(p==0)b=a.readUnicode(i,A,_/2);else if(p==3&&v==0)b=a.readUnicode(i,A,_/2);else if(v==0)b=a.readASCII(i,A,_);else if(v==1)b=a.readUnicode(i,A,_/2);else if(v==3)b=a.readUnicode(i,A,_/2);else{if(p!=1)throw"unknown encoding "+v+", platformID: "+p;b=a.readASCII(i,A,_),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var C="p"+p+","+y.toString(16);l[C]==null&&(l[C]={}),l[C][M!==void 0?M:g]=b,l[C]._lang=y}for(var N in l)if(l[N].postScriptName!=null&&l[N]._lang==1033)return l[N];for(var N in l)if(l[N].postScriptName!=null&&l[N]._lang==0)return l[N];for(var N in l)if(l[N].postScriptName!=null&&l[N]._lang==3084)return l[N];for(var N in l)if(l[N].postScriptName!=null)return l[N];for(var N in l){u=N;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,d=1&i.flags[c],h=1&i.flags[u],p=1&i.flags[f],v=i.xs[c],y=i.ys[c];if(c==a)if(d){if(!h){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else h?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+v)/2,(i.ys[u]+y)/2);d?h&&e.U.P.lineTo(s,v,y):p?e.U.P.qcurveTo(s,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],h=l.crds[f+1];o.crds.push(d*u.a+h*u.b+u.tx),o.crds.push(d*u.c+h*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(o.ltype==4)for(var d=f.vals[u],h=0;h<d.length;h++){var p=d[h],v=p.chain.length;if(!(v>l)){for(var y=!0,g=0,_=0;_<v;_++){for(;i[s+g+(1+_)]==-1;)g++;p.chain[_]!=i[s+g+(1+_)]&&(y=!1)}if(y){for(i[s]=p.nglyph,_=0;_<v+g;_++)i[s+_+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var w=e._lctf.getInterval(f.cDef,i[s]),b=f.cDef[w+2],M=f.scset[b],A=0;A<M.length;A++){var C=M[A],N=C.input;if(!(N.length>l)){for(y=!0,_=0;_<N.length;_++){var R=e._lctf.getInterval(f.cDef,i[s+1+_]);if(w==-1&&f.cDef[R+2]!=N[_]){y=!1;break}}if(y){var D=C.substLookupRecords;for(h=0;h<D.length;h+=2)D[h],D[h+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var F=f.lookupRec;for(A=0;A<F.length;A+=2){w=F[A];var U=a[F[A+1]];e.U._applySubs(i,s+w,U,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,d=e.U.glyphToPath(i,u),h=0;h<d.crds.length;h+=2)a.crds.push(d.crds[h]+l),a.crds.push(d.crds[h+1]);for(o&&a.cmds.push(o),h=0;h<d.cmds.length;h++)a.cmds.push(d.cmds[h]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,d=s.width,h=s.open,p=0,v=s.x,y=s.y,g=0,_=0,w=0,b=0,M=0,A=0,C=0,N=0,R=0,D=0,F={val:0,size:0};p<i.length;){e.CFF.getCharString(i,p,F);var U=F.val;if(p+=F.size,U=="o1"||U=="o18")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(U=="o3"||U=="o23")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(U=="o4")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),h&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,v,y),h=!0;else if(U=="o5")for(;c.length>0;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);else if(U=="o6"||U=="o7")for(var $=c.length,I=U=="o6",V=0;V<$;V++){var j=c.shift();I?v+=j:y+=j,I=!I,e.U.P.lineTo(l,v,y)}else if(U=="o8"||U=="o24"){$=c.length;for(var X=0;X+6<=$;)g=v+c.shift(),_=y+c.shift(),w=g+c.shift(),b=_+c.shift(),v=w+c.shift(),y=b+c.shift(),e.U.P.curveTo(l,g,_,w,b,v,y),X+=6;U=="o24"&&(v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y))}else{if(U=="o11")break;if(U=="o1234"||U=="o1235"||U=="o1236"||U=="o1237")U=="o1234"&&(_=y,w=(g=v+c.shift())+c.shift(),D=b=_+c.shift(),A=b,N=y,v=(C=(M=(R=w+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,g,_,w,b,R,D),e.U.P.curveTo(l,M,A,C,N,v,y)),U=="o1235"&&(g=v+c.shift(),_=y+c.shift(),w=g+c.shift(),b=_+c.shift(),R=w+c.shift(),D=b+c.shift(),M=R+c.shift(),A=D+c.shift(),C=M+c.shift(),N=A+c.shift(),v=C+c.shift(),y=N+c.shift(),c.shift(),e.U.P.curveTo(l,g,_,w,b,R,D),e.U.P.curveTo(l,M,A,C,N,v,y)),U=="o1236"&&(g=v+c.shift(),_=y+c.shift(),w=g+c.shift(),D=b=_+c.shift(),A=b,C=(M=(R=w+c.shift())+c.shift())+c.shift(),N=A+c.shift(),v=C+c.shift(),e.U.P.curveTo(l,g,_,w,b,R,D),e.U.P.curveTo(l,M,A,C,N,v,y)),U=="o1237"&&(g=v+c.shift(),_=y+c.shift(),w=g+c.shift(),b=_+c.shift(),R=w+c.shift(),D=b+c.shift(),M=R+c.shift(),A=D+c.shift(),C=M+c.shift(),N=A+c.shift(),Math.abs(C-v)>Math.abs(N-y)?v=C+c.shift():y=N+c.shift(),e.U.P.curveTo(l,g,_,w,b,R,D),e.U.P.curveTo(l,M,A,C,N,v,y));else if(U=="o14"){if(c.length>0&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),c.length==4){var L=c.shift(),k=c.shift(),z=c.shift(),B=c.shift(),G=e.CFF.glyphBySE(o,z),Y=e.CFF.glyphBySE(o,B);e.U._drawCFF(o.CharStrings[G],s,o,a,l),s.x=L,s.y=k,e.U._drawCFF(o.CharStrings[Y],s,o,a,l)}h&&(e.U.P.closePath(l),h=!1)}else if(U=="o19"||U=="o20")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,p+=u+7>>3;else if(U=="o21")c.length>2&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),v+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),h=!0;else if(U=="o22")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),v+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),h=!0;else if(U=="o25"){for(;c.length>6;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);g=v+c.shift(),_=y+c.shift(),w=g+c.shift(),b=_+c.shift(),v=w+c.shift(),y=b+c.shift(),e.U.P.curveTo(l,g,_,w,b,v,y)}else if(U=="o26")for(c.length%2&&(v+=c.shift());c.length>0;)g=v,_=y+c.shift(),v=w=g+c.shift(),y=(b=_+c.shift())+c.shift(),e.U.P.curveTo(l,g,_,w,b,v,y);else if(U=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)_=y,w=(g=v+c.shift())+c.shift(),b=_+c.shift(),v=w+c.shift(),y=b,e.U.P.curveTo(l,g,_,w,b,v,y);else if(U=="o10"||U=="o29"){var Z=U=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var Q=c.pop(),re=Z.Subrs[Q+Z.Bias];s.x=v,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=h,e.U._drawCFF(re,s,o,a,l),v=s.x,y=s.y,u=s.nStems,f=s.haveWidth,d=s.width,h=s.open}}else if(U=="o30"||U=="o31"){var J=c.length,ae=(X=0,U=="o31");for(X+=J-($=-3&J);X<$;)ae?(_=y,w=(g=v+c.shift())+c.shift(),y=(b=_+c.shift())+c.shift(),$-X==5?(v=w+c.shift(),X++):v=w,ae=!1):(g=v,_=y+c.shift(),w=g+c.shift(),b=_+c.shift(),v=w+c.shift(),$-X==5?(y=b+c.shift(),X++):y=b,ae=!0),e.U.P.curveTo(l,g,_,w,b,v,y),X+=4}else{if((U+"").charAt(0)=="o")throw console.debug("Unknown operation: "+U,i),U;c.push(U)}}}s.x=v,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=h};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function ake(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(U,$){for(var I=new n(31),V=0;V<31;++V)I[V]=$+=1<<U[V-1];var j=new r(I[30]);for(V=1;V<30;++V)for(var X=I[V];X<I[V+1];++X)j[X]=X-I[V]<<5|V;return[I,j]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],d=new n(32768),h=0;h<32768;++h){var p=(43690&h)>>>1|(21845&h)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,d[h]=((65280&p)>>>8|(255&p)<<8)>>>1}var v=function(U,$,I){for(var V=U.length,j=0,X=new n($);j<V;++j)++X[U[j]-1];var L,k=new n($);for(j=0;j<$;++j)k[j]=k[j-1]+X[j-1]<<1;{L=new n(1<<$);var z=15-$;for(j=0;j<V;++j)if(U[j])for(var B=j<<4|U[j],G=$-U[j],Y=k[U[j]-1]++<<G,Z=Y|(1<<G)-1;Y<=Z;++Y)L[d[Y]>>>z]=B}return L},y=new e(288);for(h=0;h<144;++h)y[h]=8;for(h=144;h<256;++h)y[h]=9;for(h=256;h<280;++h)y[h]=7;for(h=280;h<288;++h)y[h]=8;var g=new e(32);for(h=0;h<32;++h)g[h]=5;var _=v(y,9),w=v(g,5),b=function(U){for(var $=U[0],I=1;I<U.length;++I)U[I]>$&&($=U[I]);return $},M=function(U,$,I){var V=$/8|0;return(U[V]|U[V+1]<<8)>>(7&$)&I},A=function(U,$){var I=$/8|0;return(U[I]|U[I+1]<<8|U[I+2]<<16)>>(7&$)},C=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],N=function(U,$,I){var V=new Error($||C[U]);if(V.code=U,Error.captureStackTrace&&Error.captureStackTrace(V,N),!I)throw V;return V},R=function(U,$,I){var V=U.length;if(!V||I&&!I.l&&V<5)return $||new e(0);var j=!$||I,X=!I||I.i;I||(I={}),$||($=new e(3*V));var L,k=function(Ie){var oe=$.length;if(Ie>oe){var Ce=new e(Math.max(2*oe,Ie));Ce.set($),$=Ce}},z=I.f||0,B=I.p||0,G=I.b||0,Y=I.l,Z=I.d,Q=I.m,re=I.n,J=8*V;do{if(!Y){I.f=z=M(U,B,1);var ae=M(U,B+1,3);if(B+=3,!ae){var se=U[(K=((L=B)/8|0)+(7&L&&1)+4)-4]|U[K-3]<<8,fe=K+se;if(fe>V){X&&N(0);break}j&&k(G+se),$.set(U.subarray(K,fe),G),I.b=G+=se,I.p=B=8*fe;continue}if(ae==1)Y=_,Z=w,Q=9,re=5;else if(ae==2){var ue=M(U,B,31)+257,H=M(U,B+10,15)+4,he=ue+M(U,B+5,31)+1;B+=14;for(var le=new e(he),me=new e(19),de=0;de<H;++de)me[o[de]]=M(U,B+3*de,7);B+=3*H;var ke=b(me),_e=(1<<ke)-1,q=v(me,ke);for(de=0;de<he;){var K,ne=q[M(U,B,_e)];if(B+=15&ne,(K=ne>>>4)<16)le[de++]=K;else{var be=0,pe=0;for(K==16?(pe=3+M(U,B,3),B+=2,be=le[de-1]):K==17?(pe=3+M(U,B,7),B+=3):K==18&&(pe=11+M(U,B,127),B+=7);pe--;)le[de++]=be}}var ve=le.subarray(0,ue),Re=le.subarray(ue);Q=b(ve),re=b(Re),Y=v(ve,Q),Z=v(Re,re)}else N(1);if(B>J){X&&N(0);break}}j&&k(G+131072);for(var Be=(1<<Q)-1,Te=(1<<re)-1,je=B;;je=B){var $e=(be=Y[A(U,B)&Be])>>>4;if((B+=15&be)>J){X&&N(0);break}if(be||N(2),$e<256)$[G++]=$e;else{if($e==256){je=B,Y=null;break}var Ae=$e-254;if($e>264){var st=i[de=$e-257];Ae=M(U,B,(1<<st)-1)+c[de],B+=st}var tt=Z[A(U,B)&Te],Xe=tt>>>4;if(tt||N(3),B+=15&tt,Re=f[Xe],Xe>3&&(st=s[Xe],Re+=A(U,B)&(1<<st)-1,B+=st),B>J){X&&N(0);break}j&&k(G+131072);for(var Ge=G+Ae;G<Ge;G+=4)$[G]=$[G-Re],$[G+1]=$[G+1-Re],$[G+2]=$[G+2-Re],$[G+3]=$[G+3-Re];G=Ge}}I.l=Y,I.p=je,I.b=G,Y&&(z=1,I.m=Q,I.d=Z,I.n=re)}while(!z);return G==$.length?$:function(Ie,oe,Ce){(Ce==null||Ce>Ie.length)&&(Ce=Ie.length);var De=new(Ie instanceof n?n:Ie instanceof r?r:e)(Ce-oe);return De.set(Ie.subarray(oe,Ce)),De}($,0,G)},D=new e(0),F=typeof TextDecoder<"u"&&new TextDecoder;try{F.decode(D,{stream:!0})}catch{}return t.convert_streams=function(U){var $=new DataView(U),I=0;function V(){var ue=$.getUint16(I);return I+=2,ue}function j(){var ue=$.getUint32(I);return I+=4,ue}function X(ue){se.setUint16(fe,ue),fe+=2}function L(ue){se.setUint32(fe,ue),fe+=4}for(var k={signature:j(),flavor:j(),length:j(),numTables:V(),reserved:V(),totalSfntSize:j(),majorVersion:V(),minorVersion:V(),metaOffset:j(),metaLength:j(),metaOrigLength:j(),privOffset:j(),privLength:j()},z=0;Math.pow(2,z)<=k.numTables;)z++;z--;for(var B=16*Math.pow(2,z),G=16*k.numTables-B,Y=12,Z=[],Q=0;Q<k.numTables;Q++)Z.push({tag:j(),offset:j(),compLength:j(),origLength:j(),origChecksum:j()}),Y+=16;var re,J=new Uint8Array(12+16*Z.length+Z.reduce(function(ue,H){return ue+H.origLength+4},0)),ae=J.buffer,se=new DataView(ae),fe=0;return L(k.flavor),X(k.numTables),X(B),X(z),X(G),Z.forEach(function(ue){L(ue.tag),L(ue.origChecksum),L(Y),L(ue.origLength),ue.outOffset=Y,(Y+=ue.origLength)%4!=0&&(Y+=4-Y%4)}),Z.forEach(function(ue){var H,he=U.slice(ue.offset,ue.offset+ue.compLength);if(ue.compLength!=ue.origLength){var le=new Uint8Array(ue.origLength);H=new Uint8Array(he,2),R(H,le)}else le=new Uint8Array(he);J.set(le,ue.outOffset);var me=0;(Y=ue.outOffset+ue.origLength)%4!=0&&(me=4-Y%4),J.set(new Uint8Array(me).buffer,ue.outOffset+ue.origLength),re=Y+me}),ae.slice(0,re)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function lke(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function f(C){if(!u){const N={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let R in r){let D=0;r[R].split(",").forEach(F=>{let[U,$]=F.split("+");U=parseInt(U,36),$=$?parseInt($,36):0,u.set(D+=U,N[R]);for(let I=$;I--;)u.set(++D,N[R])})}}return u.get(C)||c}const d=1,h=2,p=3,v=4,y=[null,"isol","init","fina","medi"];function g(C){const N=new Uint8Array(C.length);let R=c,D=d,F=-1;for(let U=0;U<C.length;U++){const $=C.codePointAt(U);let I=f($)|0,V=d;I&a||(R&(i|o|l)?I&(s|o|l)?(V=p,(D===d||D===p)&&N[F]++):I&(i|c)&&(D===h||D===v)&&N[F]--:R&(s|c)&&(D===h||D===v)&&N[F]--,D=N[U]=V,R=I,F=U,$>65535&&U++)}return N}function _(C,N){const R=[];for(let F=0;F<N.length;F++){const U=N.codePointAt(F);U>65535&&F++,R.push(t.U.codeToGlyph(C,U))}const D=C.GSUB;if(D){const{lookupList:F,featureList:U}=D;let $;const I=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,V=[];U.forEach(j=>{if(I.test(j.tag))for(let X=0;X<j.tab.length;X++){if(V[j.tab[X]])continue;V[j.tab[X]]=!0;const L=F[j.tab[X]],k=/^(isol|init|fina|medi)$/.test(j.tag);k&&!$&&($=g(N));for(let z=0;z<R.length;z++)(!$||!k||y[$[z]]===j.tag)&&t.U._applySubs(R,z,L,F)}})}return R}function w(C,N){const R=new Int16Array(N.length*3);let D=0;for(;D<N.length;D++){const I=N[D];if(I===-1)continue;R[D*3+2]=C.hmtx.aWidth[I];const V=C.GPOS;if(V){const j=V.lookupList;for(let X=0;X<j.length;X++){const L=j[X];for(let k=0;k<L.tabs.length;k++){const z=L.tabs[k];if(L.ltype===1){if(t._lctf.coverageIndex(z.coverage,I)!==-1&&z.pos){$(z.pos,D);break}}else if(L.ltype===2){let B=null,G=F();if(G!==-1){const Y=t._lctf.coverageIndex(z.coverage,N[G]);if(Y!==-1){if(z.fmt===1){const Z=z.pairsets[Y];for(let Q=0;Q<Z.length;Q++)Z[Q].gid2===I&&(B=Z[Q])}else if(z.fmt===2){const Z=t.U._getGlyphClass(N[G],z.classDef1),Q=t.U._getGlyphClass(I,z.classDef2);B=z.matrix[Z][Q]}if(B){B.val1&&$(B.val1,G),B.val2&&$(B.val2,D);break}}}}else if(L.ltype===4){const B=t._lctf.coverageIndex(z.markCoverage,I);if(B!==-1){const G=F(U),Y=G===-1?-1:t._lctf.coverageIndex(z.baseCoverage,N[G]);if(Y!==-1){const Z=z.markArray[B],Q=z.baseArray[Y][Z.markClass];R[D*3]=Q.x-Z.x+R[G*3]-R[G*3+2],R[D*3+1]=Q.y-Z.y+R[G*3+1];break}}}else if(L.ltype===6){const B=t._lctf.coverageIndex(z.mark1Coverage,I);if(B!==-1){const G=F();if(G!==-1){const Y=N[G];if(b(C,Y)===3){const Z=t._lctf.coverageIndex(z.mark2Coverage,Y);if(Z!==-1){const Q=z.mark1Array[B],re=z.mark2Array[Z][Q.markClass];R[D*3]=re.x-Q.x+R[G*3]-R[G*3+2],R[D*3+1]=re.y-Q.y+R[G*3+1];break}}}}}}}}else if(C.kern&&!C.cff){const j=F();if(j!==-1){const X=C.kern.glyph1.indexOf(N[j]);if(X!==-1){const L=C.kern.rval[X].glyph2.indexOf(I);L!==-1&&(R[j*3+2]+=C.kern.rval[X].vals[L])}}}}return R;function F(I){for(let V=D-1;V>=0;V--)if(N[V]!==-1&&(!I||I(N[V])))return V;return-1}function U(I){return b(C,I)===1}function $(I,V){for(let j=0;j<3;j++)R[V*3+j]+=I[j]||0}}function b(C,N){const R=C.GDEF&&C.GDEF.glyphClassDef;return R?t.U._getGlyphClass(N,R):0}function M(...C){for(let N=0;N<C.length;N++)if(typeof C[N]=="number")return C[N]}function A(C){const N=Object.create(null),R=C["OS/2"],D=C.hhea,F=C.head.unitsPerEm,U=M(R&&R.sTypoAscender,D&&D.ascender,F),$={unitsPerEm:F,ascender:U,descender:M(R&&R.sTypoDescender,D&&D.descender,0),capHeight:M(R&&R.sCapHeight,U),xHeight:M(R&&R.sxHeight,U),lineGap:M(R&&R.sTypoLineGap,D&&D.lineGap),supportsCodePoint(I){return t.U.codeToGlyph(C,I)>0},forEachGlyph(I,V,j,X){let L=0;const k=1/$.unitsPerEm*V,z=_(C,I);let B=0;const G=w(C,z);return z.forEach((Y,Z)=>{if(Y!==-1){let Q=N[Y];if(!Q){const{cmds:re,crds:J}=t.U.glyphToPath(C,Y);let ae="",se=0;for(let le=0,me=re.length;le<me;le++){const de=n[re[le]];ae+=re[le];for(let ke=1;ke<=de;ke++)ae+=(ke>1?",":"")+J[se++]}let fe,ue,H,he;if(J.length){fe=ue=1/0,H=he=-1/0;for(let le=0,me=J.length;le<me;le+=2){let de=J[le],ke=J[le+1];de<fe&&(fe=de),ke<ue&&(ue=ke),de>H&&(H=de),ke>he&&(he=ke)}}else fe=H=ue=he=0;Q=N[Y]={index:Y,advanceWidth:C.hmtx.aWidth[Y],xMin:fe,yMin:ue,xMax:H,yMax:he,path:ae}}X.call(null,Q,L+G[Z*3]*k,G[Z*3+1]*k,B),L+=G[Z*3+2]*k,j&&(L+=j*V)}B+=I.codePointAt(B)>65535?2:1}),L}};return $}return function(N){const R=new Uint8Array(N,0,4),D=t._bin.readASCII(R,0,4);if(D==="wOFF")N=e(N);else if(D==="wOF2")throw new Error("woff2 fonts not supported");return A(t.parse(N)[0])}}const cke=Pm({name:"Typr Font Parser",dependencies:[oke,ake,lke],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function uke(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(w){var b=w>>5;this.buckets.set(b,(this.buckets.get(b)||0)|1<<(31&w))},e.prototype.has=function(w){var b=this.buckets.get(w>>5);return b!==void 0&&(b&1<<(31&w))!=0},e.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(b,M){w.push((+M).toString(36)+":"+b.toString(36))}),w.join(",")},e.prototype.deserialize=function(w){var b=this;this.buckets.clear(),w.split(",").forEach(function(M){var A=M.split(":");b.buckets.set(parseInt(A[0],36),parseInt(A[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function s(w){var b=function(A){return A&i}(w).toString(16),M=function(A){return(A&i)+n-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+b+"-"+M+".json"}function o(w,b){var M=w&r,A=b.codePointAt(M/6|0);return((A=(A||48)-48)&1<<M%6)!=0}function a(w,b){var M;(M=w,M.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(A){return A.split("-").map(function(C){return parseInt(C.trim(),16)})})).forEach(function(A){var C=A[0],N=A[1];N===void 0&&(N=C),b(C,N)})}function l(w,b){a(w,function(M,A){for(var C=M;C<=A;C++)b(C)})}var c={},u={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(w){var b=f.get(w);return b||(b=new e,l(w.ranges,function(M){return b.add(M)}),f.set(w,b)),b}var p,v=new Map;function y(w,b,M){return w[b]?b:w[M]?M:function(A){for(var C in A)return C}(w)}function g(w,b){var M=b;if(!w.includes(M)){M=1/0;for(var A=0;A<w.length;A++)Math.abs(w[A]-b)<Math.abs(M-b)&&(M=w[A])}return M}function _(w){return p||(p=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(b){p.add(b)})),p.has(w)}return t.CodePointSet=e,t.clearCache=function(){c={},u={}},t.getFontsForString=function(w,b){b===void 0&&(b={});var M,A=b.lang;A===void 0&&(A=new RegExp("\\p{Script=Hangul}","u").test(M=w)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(M)?"ja":"en");var C=b.category;C===void 0&&(C="sans-serif");var N=b.style;N===void 0&&(N="normal");var R=b.weight;R===void 0&&(R=400);var D=(b.dataUrl||d).replace(/\/$/g,""),F=new Map,U=new Uint8Array(w.length),$={},I={},V=new Array(w.length),j=new Map,X=!1;function L(B){var G=v.get(B);return G||(G=fetch(D+"/"+B).then(function(Y){if(!Y.ok)throw new Error(Y.statusText);return Y.json().then(function(Z){if(!Array.isArray(Z)||Z[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Z[0]);return Z[1]})}).catch(function(Y){if(D!==d)return X||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+D+'", trying default CDN. '+Y.message),X=!0),D=d,v.delete(B),L(B);throw Y}),v.set(B,G)),G}for(var k=function(B){var G=w.codePointAt(B),Y=s(G);V[B]=Y,c[Y]||j.has(Y)||j.set(Y,L(Y).then(function(Z){c[Y]=Z})),G>65535&&(B++,z=B)},z=0;z<w.length;z++)k(z);return Promise.all(j.values()).then(function(){j.clear();for(var B=function(Y){var Z=w.codePointAt(Y),Q=null,re=c[V[Y]],J=void 0;for(var ae in re){var se=I[ae];if(se===void 0&&(se=I[ae]=new RegExp(ae).test(A||"en")),se){for(var fe in J=ae,re[ae])if(o(Z,re[ae][fe])){Q=fe;break}break}}if(!Q){e:for(var ue in re)if(ue!==J){for(var H in re[ue])if(o(Z,re[ue][H])){Q=H;break e}}}Q||(console.debug("No font coverage for U+"+Z.toString(16)),Q="latin"),V[Y]=Q,u[Q]||j.has(Q)||j.set(Q,L("font-meta/"+Q+".json").then(function(he){u[Q]=he})),Z>65535&&(Y++,G=Y)},G=0;G<w.length;G++)B(G);return Promise.all(j.values())}).then(function(){for(var B,G=null,Y=0;Y<w.length;Y++){var Z=w.codePointAt(Y);if(G&&(_(Z)||h(G).has(Z)))U[Y]=U[Y-1];else{G=u[V[Y]];var Q=$[G.id];if(!Q){var re=G.typeforms,J=y(re,C,"sans-serif"),ae=y(re[J],N,"normal"),se=g((B=re[J])===null||B===void 0?void 0:B[ae],R);Q=$[G.id]=D+"/font-files/"+G.id+"/"+J+"."+ae+"."+se+".woff"}var fe=F.get(Q);fe==null&&(fe=F.size,F.set(Q,fe)),U[Y]=fe}Z>65535&&(Y++,U[Y]=U[Y-1])}return{fontUrls:Array.from(F.keys()),chars:U}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function fke(t,e){const n=Object.create(null),r=Object.create(null);function i(o,a){const l=c=>{console.error(`Failure loading font ${o}`,c)};try{const c=new XMLHttpRequest;c.open("get",o,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=t(c.response);u.src=o,a(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function s(o,a){let l=n[o];l?a(l):r[o]?r[o].push(a):(r[o]=[a],i(o,c=>{c.src=o,n[o]=c,r[o].forEach(u=>u(c)),delete r[o]}))}return function(o,a,{lang:l,fonts:c=[],style:u="normal",weight:f="normal",unicodeFontsURL:d}={}){const h=new Uint8Array(o.length),p=[];o.length||_();const v=new Map,y=[];if(u!=="italic"&&(u="normal"),typeof f!="number"&&(f=f==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(b=>!b.lang||b.lang.test(l)).reverse(),c.length){let C=0;(function N(R=0){for(let D=R,F=o.length;D<F;D++){const U=o.codePointAt(D);if(C===1&&p[h[D-1]].supportsCodePoint(U)||D>0&&/\s/.test(o[D]))h[D]=h[D-1],C===2&&(y[y.length-1][1]=D);else for(let $=h[D],I=c.length;$<=I;$++)if($===I){const V=C===2?y[y.length-1]:y[y.length]=[D,D];V[1]=D,C=2}else{h[D]=$;const{src:V,unicodeRange:j}=c[$];if(!j||w(U,j)){const X=n[V];if(!X){s(V,()=>{N(D)});return}if(X.supportsCodePoint(U)){let L=v.get(X);typeof L!="number"&&(L=p.length,p.push(X),v.set(X,L)),h[D]=L,C=1;break}}}U>65535&&D+1<F&&(h[D+1]=h[D],D++,C===2&&(y[y.length-1][1]=D))}g()})()}else y.push([0,o.length-1]),g();function g(){if(y.length){const b=y.map(M=>o.substring(M[0],M[1]+1)).join(`
`);e.getFontsForString(b,{lang:l||void 0,style:u,weight:f,dataUrl:d}).then(({fontUrls:M,chars:A})=>{const C=p.length;let N=0;y.forEach(D=>{for(let F=0,U=D[1]-D[0];F<=U;F++)h[D[0]+F]=A[N++]+C;N++});let R=0;M.forEach((D,F)=>{s(D,U=>{p[F+C]=U,++R===M.length&&_()})})})}else _()}function _(){a({chars:h,fonts:p})}function w(b,M){for(let A=0;A<M.length;A++){const[C,N=C]=M[A];if(C<=b&&b<=N)return!0}return!1}}}const dke=Pm({name:"FontResolver",dependencies:[fke,cke,uke],init(t,e,n){return t(e,n())}});function hke(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:p,lang:v,fonts:y,style:g,weight:_,preResolvedFonts:w,unicodeFontsURL:b},M){const A=({chars:C,fonts:N})=>{let R,D;const F=[];for(let U=0;U<C.length;U++)C[U]!==D?(D=C[U],F.push(R={start:U,end:U,fontObj:N[C[U]]})):R.end=U;M(F)};w?A(w):t(p,A,{lang:v,fonts:y,style:g,weight:_,unicodeFontsURL:b})}function a({text:p="",font:v,lang:y,sdfGlyphSize:g=64,fontSize:_=400,fontWeight:w=1,fontStyle:b="normal",letterSpacing:M=0,lineHeight:A="normal",maxWidth:C=1/0,direction:N,textAlign:R="left",textIndent:D=0,whiteSpace:F="normal",overflowWrap:U="normal",anchorX:$=0,anchorY:I=0,metricsOnly:V=!1,unicodeFontsURL:j,preResolvedFonts:X=null,includeCaretPositions:L=!1,chunkedBoundsSize:k=8192,colorRanges:z=null},B){const G=f(),Y={fontLoad:0,typesetting:0};p.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),p=p.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),_=+_,M=+M,C=+C,A=A||"normal",D=+D,o({text:p,lang:y,style:b,weight:w,fonts:typeof v=="string"?[{src:v}]:v,unicodeFontsURL:j,preResolvedFonts:X},Z=>{Y.fontLoad=f()-G;const Q=isFinite(C);let re=null,J=null,ae=null,se=null,fe=null,ue=null,H=null,he=null,le=0,me=0,de=F!=="nowrap";const ke=new Map,_e=f();let q=D,K=0,ne=new d;const be=[ne];Z.forEach(Te=>{const{fontObj:je}=Te,{ascender:$e,descender:Ae,unitsPerEm:st,lineGap:tt,capHeight:Xe,xHeight:Ge}=je;let Ie=ke.get(je);if(!Ie){const xe=_/st,ce=A==="normal"?($e-Ae+tt)*xe:A*_,We=(ce-($e-Ae)*xe)/2,ze=Math.min(ce,($e-Ae)*xe),Ye=($e+Ae)/2*xe+ze/2;Ie={index:ke.size,src:je.src,fontObj:je,fontSizeMult:xe,unitsPerEm:st,ascender:$e*xe,descender:Ae*xe,capHeight:Xe*xe,xHeight:Ge*xe,lineHeight:ce,baseline:-We-$e*xe,caretTop:Ye,caretBottom:Ye-ze},ke.set(je,Ie)}const{fontSizeMult:oe}=Ie,Ce=p.slice(Te.start,Te.end+1);let De,Ue;je.forEachGlyph(Ce,_,M,(xe,ce,We,ze)=>{ce+=K,ze+=Te.start,De=ce,Ue=xe;const Ye=p.charAt(ze),Ze=xe.advanceWidth*oe,ut=ne.count;let et;if("isEmpty"in xe||(xe.isWhitespace=!!Ye&&new RegExp(i).test(Ye),xe.canBreakAfter=!!Ye&&s.test(Ye),xe.isEmpty=xe.xMin===xe.xMax||xe.yMin===xe.yMax||r.test(Ye)),!xe.isWhitespace&&!xe.isEmpty&&me++,de&&Q&&!xe.isWhitespace&&ce+Ze+q>C&&ut){if(ne.glyphAt(ut-1).glyphObj.canBreakAfter)et=new d,q=-ce;else for(let Dt=ut;Dt--;)if(Dt===0&&U==="break-word"){et=new d,q=-ce;break}else if(ne.glyphAt(Dt).glyphObj.canBreakAfter){et=ne.splitAt(Dt+1);const bt=et.glyphAt(0).x;q-=bt;for(let Vt=et.count;Vt--;)et.glyphAt(Vt).x-=bt;break}et&&(ne.isSoftWrapped=!0,ne=et,be.push(ne),le=C)}let xt=ne.glyphAt(ne.count);xt.glyphObj=xe,xt.x=ce+q,xt.y=We,xt.width=Ze,xt.charIndex=ze,xt.fontData=Ie,Ye===`
`&&(ne=new d,be.push(ne),q=-(ce+Ze+M*_)+D)}),K=De+Ue.advanceWidth*oe+M*_});let pe=0;be.forEach(Te=>{let je=!0;for(let $e=Te.count;$e--;){const Ae=Te.glyphAt($e);je&&!Ae.glyphObj.isWhitespace&&(Te.width=Ae.x+Ae.width,Te.width>le&&(le=Te.width),je=!1);let{lineHeight:st,capHeight:tt,xHeight:Xe,baseline:Ge}=Ae.fontData;st>Te.lineHeight&&(Te.lineHeight=st);const Ie=Ge-Te.baseline;Ie<0&&(Te.baseline+=Ie,Te.cap+=Ie,Te.ex+=Ie),Te.cap=Math.max(Te.cap,Te.baseline+tt),Te.ex=Math.max(Te.ex,Te.baseline+Xe)}Te.baseline-=pe,Te.cap-=pe,Te.ex-=pe,pe+=Te.lineHeight});let ve=0,Re=0;if($&&(typeof $=="number"?ve=-$:typeof $=="string"&&(ve=-le*($==="left"?0:$==="center"?.5:$==="right"?1:c($)))),I&&(typeof I=="number"?Re=-I:typeof I=="string"&&(Re=I==="top"?0:I==="top-baseline"?-be[0].baseline:I==="top-cap"?-be[0].cap:I==="top-ex"?-be[0].ex:I==="middle"?pe/2:I==="bottom"?pe:I==="bottom-baseline"?-be[be.length-1].baseline:c(I)*pe)),!V){const Te=e.getEmbeddingLevels(p,N);re=new Uint16Array(me),J=new Uint8Array(me),ae=new Float32Array(me*2),se={},H=[1/0,1/0,-1/0,-1/0],he=[],L&&(ue=new Float32Array(p.length*4)),z&&(fe=new Uint8Array(me*3));let je=0,$e=-1,Ae=-1,st,tt;if(be.forEach((Xe,Ge)=>{let{count:Ie,width:oe}=Xe;if(Ie>0){let Ce=0;for(let ze=Ie;ze--&&Xe.glyphAt(ze).glyphObj.isWhitespace;)Ce++;let De=0,Ue=0;if(R==="center")De=(le-oe)/2;else if(R==="right")De=le-oe;else if(R==="justify"&&Xe.isSoftWrapped){let ze=0;for(let Ye=Ie-Ce;Ye--;)Xe.glyphAt(Ye).glyphObj.isWhitespace&&ze++;Ue=(le-oe)/ze}if(Ue||De){let ze=0;for(let Ye=0;Ye<Ie;Ye++){let Ze=Xe.glyphAt(Ye);const ut=Ze.glyphObj;Ze.x+=De+ze,Ue!==0&&ut.isWhitespace&&Ye<Ie-Ce&&(ze+=Ue,Ze.width+=Ue)}}const xe=e.getReorderSegments(p,Te,Xe.glyphAt(0).charIndex,Xe.glyphAt(Xe.count-1).charIndex);for(let ze=0;ze<xe.length;ze++){const[Ye,Ze]=xe[ze];let ut=1/0,et=-1/0;for(let xt=0;xt<Ie;xt++)if(Xe.glyphAt(xt).charIndex>=Ye){let Dt=xt,bt=xt;for(;bt<Ie;bt++){let Vt=Xe.glyphAt(bt);if(Vt.charIndex>Ze)break;bt<Ie-Ce&&(ut=Math.min(ut,Vt.x),et=Math.max(et,Vt.x+Vt.width))}for(let Vt=Dt;Vt<bt;Vt++){const vn=Xe.glyphAt(Vt);vn.x=et-(vn.x+vn.width-ut)}break}}let ce;const We=ze=>ce=ze;for(let ze=0;ze<Ie;ze++){const Ye=Xe.glyphAt(ze);ce=Ye.glyphObj;const Ze=ce.index,ut=Te.levels[Ye.charIndex]&1;if(ut){const et=e.getMirroredCharacter(p[Ye.charIndex]);et&&Ye.fontData.fontObj.forEachGlyph(et,0,0,We)}if(L){const{charIndex:et,fontData:xt}=Ye,Dt=Ye.x+ve,bt=Ye.x+Ye.width+ve;ue[et*4]=ut?bt:Dt,ue[et*4+1]=ut?Dt:bt,ue[et*4+2]=Xe.baseline+xt.caretBottom+Re,ue[et*4+3]=Xe.baseline+xt.caretTop+Re;const Vt=et-$e;Vt>1&&u(ue,$e,Vt),$e=et}if(z){const{charIndex:et}=Ye;for(;et>Ae;)Ae++,z.hasOwnProperty(Ae)&&(tt=z[Ae])}if(!ce.isWhitespace&&!ce.isEmpty){const et=je++,{fontSizeMult:xt,src:Dt,index:bt}=Ye.fontData,Vt=se[Dt]||(se[Dt]={});Vt[Ze]||(Vt[Ze]={path:ce.path,pathBounds:[ce.xMin,ce.yMin,ce.xMax,ce.yMax]});const vn=Ye.x+ve,ui=Ye.y+Xe.baseline+Re;ae[et*2]=vn,ae[et*2+1]=ui;const qr=vn+ce.xMin*xt,Zr=ui+ce.yMin*xt,Lr=vn+ce.xMax*xt,Or=ui+ce.yMax*xt;qr<H[0]&&(H[0]=qr),Zr<H[1]&&(H[1]=Zr),Lr>H[2]&&(H[2]=Lr),Or>H[3]&&(H[3]=Or),et%k===0&&(st={start:et,end:et,rect:[1/0,1/0,-1/0,-1/0]},he.push(st)),st.end++;const Wn=st.rect;if(qr<Wn[0]&&(Wn[0]=qr),Zr<Wn[1]&&(Wn[1]=Zr),Lr>Wn[2]&&(Wn[2]=Lr),Or>Wn[3]&&(Wn[3]=Or),re[et]=Ze,J[et]=bt,z){const Ji=et*3;fe[Ji]=tt>>16&255,fe[Ji+1]=tt>>8&255,fe[Ji+2]=tt&255}}}}}),ue){const Xe=p.length-$e;Xe>1&&u(ue,$e,Xe)}}const Be=[];ke.forEach(({index:Te,src:je,unitsPerEm:$e,ascender:Ae,descender:st,lineHeight:tt,capHeight:Xe,xHeight:Ge})=>{Be[Te]={src:je,unitsPerEm:$e,ascender:Ae,descender:st,lineHeight:tt,capHeight:Xe,xHeight:Ge}}),Y.typesetting=f()-_e,B({glyphIds:re,glyphFontIndices:J,glyphPositions:ae,glyphData:se,fontData:Be,caretPositions:ue,glyphColors:fe,chunkedBounds:he,fontSize:_,topBaseline:Re+be[0].baseline,blockBounds:[ve,Re-pe,ve+le,Re],visibleBounds:H,timings:Y})})}function l(p,v){a({...p,metricsOnly:!0},y=>{const[g,_,w,b]=y.blockBounds;v({width:w-g,height:b-_})})}function c(p){let v=p.match(/^([\d.]+)%$/),y=v?parseFloat(v[1]):NaN;return isNaN(y)?0:y/100}function u(p,v,y){const g=p[v*4],_=p[v*4+1],w=p[v*4+2],b=p[v*4+3],M=(_-g)/y;for(let A=0;A<y;A++){const C=(v+A)*4;p[C]=g+M*A,p[C+1]=g+M*(A+1),p[C+2]=w,p[C+3]=b}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(p){let v=d.flyweight;return v.data=this.data,v.index=p,v},splitAt(p){let v=new d;return v.data=this.data.splice(p*h.length),v}},d.flyweight=h.reduce((p,v,y,g)=>(Object.defineProperty(p,v,{get(){return this.data[this.index*h.length+y]},set(_){this.data[this.index*h.length+y]=_}}),p),{data:null,index:0}),{typeset:a,measure:l}}const Xf=()=>(self.performance||Date).now(),YE=HJ();let $V;function pke(t,e,n,r,i,s,o,a,l,c,u=!0){return u?gke(t,e,n,r,i,s,o,a,l,c).then(null,f=>($V||(console.warn("WebGL SDF generation failed, falling back to JS",f),$V=!0),YV(t,e,n,r,i,s,o,a,l,c))):YV(t,e,n,r,i,s,o,a,l,c)}const Gw=[],mke=5;let oN=0;function GJ(){const t=Xf();for(;Gw.length&&Xf()-t<mke;)Gw.shift()();oN=Gw.length?setTimeout(GJ,0):0}const gke=(...t)=>new Promise((e,n)=>{Gw.push(()=>{const r=Xf();try{YE.webgl.generateIntoCanvas(...t),e({timing:Xf()-r})}catch(i){n(i)}}),oN||(oN=setTimeout(GJ,0))}),vke=4,yke=2e3,XV={};let xke=0;function YV(t,e,n,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+xke++%vke;let f=XV[u];return f||(f=XV[u]={workerModule:Pm({name:u,workerId:u,dependencies:[HJ,Xf],init(d,h){const p=d().javascript.generate;return function(...v){const y=h();return{textureData:p(...v),timing:h()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,s).then(({textureData:d,timing:h})=>{const p=Xf(),v=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)v[y*4+c]=d[y];return YE.webglUtils.renderImageData(o,v,a,l,t,e,1<<3-c),h+=Xf()-p,--f.requests===0&&(f.idleTimer=setTimeout(()=>{q3e(u)},yke)),{timing:h}})}function wke(t){t._warm||(YE.webgl.isSupported(t),t._warm=!0)}const _ke=YE.webglUtils.resizeWebGLCanvasWithoutClearing,Rh={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},bke=new it;function Mh(){return(self.performance||Date).now()}const KV=Object.create(null);function $J(t,e){t=Mke({},t);const n=Mh(),{defaultFontURL:r}=Rh,i=[];if(r&&i.push({label:"default",src:qV(r)}),t.font&&i.push({label:"user",src:qV(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Rh.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Rh.unicodeFontsURL,t.colorRanges!=null){let h={};for(let p in t.colorRanges)if(t.colorRanges.hasOwnProperty(p)){let v=t.colorRanges[p];typeof v!="number"&&(v=bke.set(v).getHex()),h[p]=v}t.colorRanges=h}Object.freeze(t);const{textureWidth:s,sdfExponent:o}=Rh,{sdfGlyphSize:a}=t,l=s/a*4;let c=KV[a];if(!c){const h=document.createElement("canvas");h.width=s,h.height=a*256/l,c=KV[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:h,sdfTexture:new er(h,void 0,void 0,void 0,Un,Un),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,Ske(c)}const{sdfTexture:u,sdfCanvas:f}=c;KJ(t).then(h=>{const{glyphIds:p,glyphFontIndices:v,fontData:y,glyphPositions:g,fontSize:_,timings:w}=h,b=[],M=new Float32Array(p.length*4);let A=0,C=0;const N=Mh(),R=y.map(I=>{let V=c.glyphsByFont.get(I.src);return V||c.glyphsByFont.set(I.src,V=new Map),V});p.forEach((I,V)=>{const j=v[V],{src:X,unitsPerEm:L}=y[j];let k=R[j].get(I);if(!k){const{path:Z,pathBounds:Q}=h.glyphData[X][I],re=Math.max(Q[2]-Q[0],Q[3]-Q[1])/a*(Rh.sdfMargin*a+.5),J=c.glyphCount++,ae=[Q[0]-re,Q[1]-re,Q[2]+re,Q[3]+re];R[j].set(I,k={path:Z,atlasIndex:J,sdfViewBox:ae}),b.push(k)}const{sdfViewBox:z}=k,B=g[C++],G=g[C++],Y=_/L;M[A++]=B+z[0]*Y,M[A++]=G+z[1]*Y,M[A++]=B+z[2]*Y,M[A++]=G+z[3]*Y,p[V]=k.atlasIndex}),w.quads=(w.quads||0)+(Mh()-N);const D=Mh();w.sdf={};const F=f.height,U=Math.ceil(c.glyphCount/l),$=Math.pow(2,Math.ceil(Math.log2(U*a)));$>F&&(console.info(`Increasing SDF texture size ${F}->${$}`),_ke(f,s,$),u.dispose()),Promise.all(b.map(I=>XJ(I,c,t.gpuAccelerateSDF).then(({timing:V})=>{w.sdf[I.atlasIndex]=V}))).then(()=>{b.length&&!c.contextLost&&(YJ(c),u.needsUpdate=!0),w.sdfTotal=Mh()-D,w.total=Mh()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:a,sdfExponent:o,glyphBounds:M,glyphAtlasIndices:p,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{c.contextLost||wke(f)})}function XJ({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Rh,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),f=u%(a/r)*r,d=Math.floor(u/(a/r))*r,h=e%4;return pke(r,r,t,n,c,l,i,f,d,h,o)}function Ske(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(XJ(s,t,!0))})}),Promise.all(r).then(()=>{YJ(t),t.sdfTexture.needsUpdate=!0})})}function Eke({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;$J({font:t,sdfGlyphSize:n,text:i},r)}function Mke(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let rw;function qV(t){return rw||(rw=typeof document>"u"?{}:document.createElement("a")),rw.href=t,rw.href}function YJ(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const Tke=Pm({name:"Typesetter",dependencies:[hke,dke,Q3e],init(t,e,n){return t(e,n())}}),KJ=Pm({name:"Typesetter",dependencies:[Tke],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});KJ.onMainThread;const ZV={};function Ake(t){let e=ZV[t];return e||(e=ZV[t]=new Cu(1,1,t,t).translate(.5,.5,0)),e}const Cke="aTroikaGlyphBounds",QV="aTroikaGlyphIndex",Pke="aTroikaGlyphColor";class Rke extends e3{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ai,this.boundingBox=new oi}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Ake(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){this.updateAttributeData(Cke,e,4),this.updateAttributeData(QV,n,1),this.updateAttributeData(Pke,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(n),h=e[0]/d,p=e[2]/d,v=s((h+u)/f)!==s((p+u)/f)?-d:o(l(h)*d,l(p)*d),y=s((h-u)/f)!==s((p-u)/f)?d:a(l(h)*d,l(p)*d),g=s((h+i)/f)!==s((p+i)/f)?d*2:a(d-c(h)*d,d-c(p)*d);r.min.set(v,e[1],n<0?-g:0),r.max.set(y,e[3],n<0?0:g)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(QV).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new hd(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Nke=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Ike=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Dke=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Lke=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Oke(t){const e=sN(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Fe},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new on(0,0,0,0)},uTroikaClipRect:{value:new on(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Fe},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new it},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Ut},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Nke,vertexTransform:Ike,fragmentDefs:Dke,fragmentColorTransform:Lke,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(WJ,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const c3=new Ql({color:16777215,side:$o,transparent:!0}),JV=8421504,eH=new Ct,iw=new te,M2=new te,Dg=[],kke=new te,T2="+x+y";function tH(t){return Array.isArray(t)?t[0]:t}let qJ=()=>{const t=new Jn(new Cu(1,1),c3);return qJ=()=>t,t},ZJ=()=>{const t=new Jn(new Cu(1,1,32,1),c3);return ZJ=()=>t,t};const Uke={type:"syncstart"},Fke={type:"synccomplete"},QJ=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Bke=QJ.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let JJ=class extends Jn{constructor(){const e=new Rke;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=JV,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=T2,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Uke),$J({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Fke),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Oke(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=c3.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return tH(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return tH(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let c=0,u=0,f=0,d,h,p,v=0,y=0;if(n){let{outlineWidth:_,outlineOffsetX:w,outlineOffsetY:b,outlineBlur:M,outlineOpacity:A}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(M)||0),d=A,v=this._parsePercent(w)||0,y=this._parsePercent(b)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(p=this.strokeColor,r.uTroikaStrokeColor.value.set(p??JV),h=this.strokeOpacity,h==null&&(h=1)),d=this.fillOpacity;r.uTroikaEdgeOffset.value=c,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=h,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let g=this.clipRect;if(g&&Array.isArray(g)&&g.length===4)r.uTroikaClipRect.value.fromArray(g);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new it;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||T2;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==T2&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;iw.set(0,0,0)[u]=c==="-"?1:-1,M2.set(0,0,0)[d]=f==="-"?-1:1,eH.lookAt(kke,iw.cross(M2),M2),a.setFromMatrix4(eH)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Fe){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new Fe){return iw.copy(e),this.localPositionToTextCoords(this.worldToLocal(iw),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?ZJ():qJ(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const d=s[1]+c.getY(u)*(s[3]-s[1]);let h=0;i&&(h=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,h)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,Dg.length=0,o.raycast(e,Dg);for(let u=0;u<Dg.length;u++)Dg[u].object=this,n.push(Dg[u])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,Bke.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};QJ.forEach(t=>{const e="_private_"+t;Object.defineProperty(JJ.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new oi;new it;const A2=T.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=cl(({invalidate:p})=>p),[f]=T.useState(()=>new JJ),[d,h]=T.useMemo(()=>{const p=[];let v="";return T.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:p.push(y)}),[p,v]},[s]);return KOe(()=>new Promise(p=>Eke({font:r,characters:o},p)),["troika-text",r,o]),T.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),T.useEffect(()=>()=>f.dispose(),[f]),T.createElement("primitive",Rb({object:f,ref:c,font:r,text:h,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),d)}),zke=()=>parseInt(uy.replace(/\D+/g,"")),jke=zke(),Vke=T.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const f=cl(A=>A.invalidate),d=cl(A=>A.camera),h=cl(A=>A.gl),p=cl(A=>A.events),v=cl(A=>A.setEvents),y=cl(A=>A.set),g=cl(A=>A.get),_=cl(A=>A.performance),w=e||d,b=r||p.connected||h.domElement,M=T.useMemo(()=>new G3e(w),[w]);return a3(()=>{M.enabled&&M.update()},-1),T.useEffect(()=>(s&&M.connect(s===!0?b:s),M.connect(b),()=>void M.dispose()),[s,b,n,M,f]),T.useEffect(()=>{const A=R=>{f(),n&&_.regress(),o&&o(R)},C=R=>{a&&a(R)},N=R=>{l&&l(R)};return M.addEventListener("change",A),M.addEventListener("start",C),M.addEventListener("end",N),()=>{M.removeEventListener("start",C),M.removeEventListener("end",N),M.removeEventListener("change",A)}},[o,a,l,M,f,v]),T.useEffect(()=>{if(t){const A=g().controls;return y({controls:M}),()=>y({controls:A})}},[t,M]),T.createElement("primitive",Rb({ref:u,object:M,enableDamping:i},c))});class Hke extends ia{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${jke>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Wke=t=>new te().setFromSpherical(new Cb(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Gke=T.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:o=1},a)=>{const l=T.useRef(),[c,u,f]=T.useMemo(()=>{const h=[],p=[],v=Array.from({length:n},()=>(.5+.5*Math.random())*i),y=new it;let g=t+e;const _=e/n;for(let w=0;w<n;w++)g-=_*Math.random(),h.push(...Wke(g).toArray()),y.setHSL(w/n,r,.9),p.push(y.r,y.g,y.b);return[new Float32Array(h),new Float32Array(p),new Float32Array(v)]},[n,e,i,t,r]);a3(h=>l.current&&(l.current.uniforms.time.value=h.clock.elapsedTime*o));const[d]=T.useState(()=>new Hke);return T.createElement("points",{ref:a},T.createElement("bufferGeometry",null,T.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),T.createElement("bufferAttribute",{attach:"attributes-color",args:[u,3]}),T.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),T.createElement("primitive",{ref:l,object:d,attach:"material",blending:_b,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))}),$ke=({asset:t,totalValue:e})=>{const n=T.useRef(null),r=T.useRef(null),i=Math.sqrt(t.percentage/100)*2,o=((a,l)=>{const c=new it(l);switch(a.toLowerCase()){case"stocks":case"global stocks":return{color:c.clone().multiplyScalar(1.5),metalness:.8,roughness:.1,emissive:c.clone().multiplyScalar(.25),envMapIntensity:1.5};case"bonds":case"green bonds":return{color:c.clone().multiplyScalar(1.4),metalness:.6,roughness:.2,emissive:c.clone().multiplyScalar(.2),envMapIntensity:1.3};case"reits":case"esg reits":return{color:c.clone().multiplyScalar(1.6),metalness:.9,roughness:.05,emissive:c.clone().multiplyScalar(.3),envMapIntensity:1.8};case"clean energy":case"commodities":return{color:c.clone().multiplyScalar(1.7),metalness:.95,roughness:.02,emissive:c.clone().multiplyScalar(.35),envMapIntensity:2};case"cash":case"cash & equivalents":return{color:c.clone().multiplyScalar(1.3),metalness:.4,roughness:.3,emissive:c.clone().multiplyScalar(.15),envMapIntensity:1.2};default:return{color:c.clone().multiplyScalar(1.4),metalness:.7,roughness:.15,emissive:c.clone().multiplyScalar(.2),envMapIntensity:1.4}}})(t.name,t.color);return a3(a=>{const l=a.clock.elapsedTime;n.current&&(n.current.rotation.y+=.005,n.current.rotation.x+=.002,n.current.position.y=Math.sin(l*.3+t.position.x)*.1),r.current&&(r.current.rotation.y-=.008,r.current.rotation.z+=.003)}),S.jsxs("group",{position:t.position,children:[S.jsxs("mesh",{ref:n,children:[S.jsx("sphereGeometry",{args:[i,128,128]}),S.jsx("meshStandardMaterial",{...o,transparent:!1,opacity:1})]}),(t.name.toLowerCase().includes("energy")||t.name.toLowerCase().includes("stock"))&&S.jsxs("mesh",{ref:r,children:[S.jsx("sphereGeometry",{args:[i*.6,32,32]}),S.jsx("meshBasicMaterial",{color:o.emissive,transparent:!0,opacity:.6})]}),S.jsx(A2,{position:[0,i+.8,0],fontSize:.35,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.02,outlineColor:"black",children:t.name}),S.jsxs(A2,{position:[0,i+.4,0],fontSize:.25,color:t.color,anchorX:"center",anchorY:"middle",outlineWidth:.01,outlineColor:"black",children:[t.percentage.toFixed(1),"%"]}),t.percentage>15&&S.jsxs(A2,{position:[0,-i-.3,0],fontSize:.18,color:"#cccccc",anchorX:"center",anchorY:"middle",outlineWidth:.01,outlineColor:"black",children:["$",(t.percentage*12500).toLocaleString()]})]})},Xke=({allocations:t,totalValue:e})=>S.jsxs(S.Fragment,{children:[S.jsx("ambientLight",{intensity:.4}),S.jsx("pointLight",{position:[10,10,10],intensity:.8,color:"#ffffff"}),S.jsx("pointLight",{position:[-10,-5,-10],intensity:.4,color:"#4f46e5"}),S.jsx("pointLight",{position:[0,-10,5],intensity:.3,color:"#06b6d4"}),S.jsx("directionalLight",{position:[5,5,5],intensity:.3}),S.jsx(Gke,{radius:100,depth:50,count:1e3,factor:4,saturation:0,fade:!0,speed:.5}),t.map((n,r)=>S.jsx($ke,{asset:n,totalValue:e},n.name)),S.jsx(Vke,{enablePan:!1,enableZoom:!0,enableRotate:!0,maxDistance:15,minDistance:8,enableDamping:!0,dampingFactor:.05})]}),Yke=({allocations:t,totalValue:e})=>{const n=T.useMemo(()=>t.map((r,i)=>{const s=i/t.length*Math.PI*2,o=4+r.percentage/100*2,a=Math.sin(s*2)*1.5;return{...r,position:new te(Math.cos(s)*o,a,Math.sin(s)*o*.8)}}),[t]);return S.jsxs(Kh.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8},className:"w-full h-[500px] glass-panel rounded-2xl overflow-hidden relative",children:[S.jsx(U3e,{camera:{position:[0,2,12],fov:50},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},dpr:[1,2],children:S.jsx(Xke,{allocations:n,totalValue:e})}),S.jsxs("div",{className:"absolute top-4 left-4 bg-black/20 backdrop-blur-sm rounded-lg p-3",children:[S.jsx("p",{className:"text-white text-sm font-medium",children:"Total Portfolio"}),S.jsxs("p",{className:"text-white text-lg font-bold",children:["$",e.toLocaleString()]})]})]})};function Mr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Mr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Kke={value:()=>{}};function KE(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $w(n)}function $w(t){this._=t}function qke(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$w.prototype=KE.prototype={constructor:$w,on:function(t,e){var n=this._,r=qke(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Zke(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=nH(n[i],t.name,e);else if(e==null)for(i in n)n[i]=nH(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $w(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Zke(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function nH(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Kke,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var aN="http://www.w3.org/1999/xhtml";const rH={svg:"http://www.w3.org/2000/svg",xhtml:aN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qE(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),rH.hasOwnProperty(e)?{space:rH[e],local:t}:t}function Qke(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===aN&&e.documentElement.namespaceURI===aN?e.createElement(t):e.createElementNS(n,t)}}function Jke(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function eee(t){var e=qE(t);return(e.local?Jke:Qke)(e)}function eUe(){}function u3(t){return t==null?eUe:function(){return this.querySelector(t)}}function tUe(t){typeof t!="function"&&(t=u3(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Hs(r,this._parents)}function nUe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rUe(){return[]}function tee(t){return t==null?rUe:function(){return this.querySelectorAll(t)}}function iUe(t){return function(){return nUe(t.apply(this,arguments))}}function sUe(t){typeof t=="function"?t=iUe(t):t=tee(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new Hs(r,i)}function nee(t){return function(){return this.matches(t)}}function ree(t){return function(e){return e.matches(t)}}var oUe=Array.prototype.find;function aUe(t){return function(){return oUe.call(this.children,t)}}function lUe(){return this.firstElementChild}function cUe(t){return this.select(t==null?lUe:aUe(typeof t=="function"?t:ree(t)))}var uUe=Array.prototype.filter;function fUe(){return Array.from(this.children)}function dUe(t){return function(){return uUe.call(this.children,t)}}function hUe(t){return this.selectAll(t==null?fUe:dUe(typeof t=="function"?t:ree(t)))}function pUe(t){typeof t!="function"&&(t=nee(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Hs(r,this._parents)}function iee(t){return new Array(t.length)}function mUe(){return new Hs(this._enter||this._groups.map(iee),this._parents)}function Nb(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Nb.prototype={constructor:Nb,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function gUe(t){return function(){return t}}function vUe(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Nb(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function yUe(t,e,n,r,i,s,o){var a,l,c=new Map,u=e.length,f=s.length,d=new Array(u),h;for(a=0;a<u;++a)(l=e[a])&&(d[a]=h=o.call(l,l.__data__,a,e)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<f;++a)h=o.call(t,s[a],a,s)+"",(l=c.get(h))?(r[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new Nb(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(d[a])===l&&(i[a]=l)}function xUe(t){return t.__data__}function wUe(t,e){if(!arguments.length)return Array.from(this,xUe);var n=e?yUe:vUe,r=this._parents,i=this._groups;typeof t!="function"&&(t=gUe(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],f=i[c],d=f.length,h=_Ue(t.call(u,u&&u.__data__,c,r)),p=h.length,v=a[c]=new Array(p),y=o[c]=new Array(p),g=l[c]=new Array(d);n(u,f,v,y,g,h,e);for(var _=0,w=0,b,M;_<p;++_)if(b=v[_]){for(_>=w&&(w=_+1);!(M=y[w])&&++w<p;);b._next=M||null}}return o=new Hs(o,r),o._enter=a,o._exit=l,o}function _Ue(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bUe(){return new Hs(this._exit||this._groups.map(iee),this._parents)}function SUe(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function EUe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],f=c.length,d=a[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)a[l]=n[l];return new Hs(a,this._parents)}function MUe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function TUe(t){t||(t=AUe);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new Hs(i,this._parents).order()}function AUe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function CUe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function PUe(){return Array.from(this)}function RUe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function NUe(){let t=0;for(const e of this)++t;return t}function IUe(){return!this.node()}function DUe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function LUe(t){return function(){this.removeAttribute(t)}}function OUe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kUe(t,e){return function(){this.setAttribute(t,e)}}function UUe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function FUe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function BUe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zUe(t,e){var n=qE(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?OUe:LUe:typeof e=="function"?n.local?BUe:FUe:n.local?UUe:kUe)(n,e))}function see(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function jUe(t){return function(){this.style.removeProperty(t)}}function VUe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function HUe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function WUe(t,e,n){return arguments.length>1?this.each((e==null?jUe:typeof e=="function"?HUe:VUe)(t,e,n??"")):Qp(this.node(),t)}function Qp(t,e){return t.style.getPropertyValue(e)||see(t).getComputedStyle(t,null).getPropertyValue(e)}function GUe(t){return function(){delete this[t]}}function $Ue(t,e){return function(){this[t]=e}}function XUe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function YUe(t,e){return arguments.length>1?this.each((e==null?GUe:typeof e=="function"?XUe:$Ue)(t,e)):this.node()[t]}function oee(t){return t.trim().split(/^|\s+/)}function f3(t){return t.classList||new aee(t)}function aee(t){this._node=t,this._names=oee(t.getAttribute("class")||"")}aee.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lee(t,e){for(var n=f3(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function cee(t,e){for(var n=f3(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function KUe(t){return function(){lee(this,t)}}function qUe(t){return function(){cee(this,t)}}function ZUe(t,e){return function(){(e.apply(this,arguments)?lee:cee)(this,t)}}function QUe(t,e){var n=oee(t+"");if(arguments.length<2){for(var r=f3(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ZUe:e?KUe:qUe)(n,e))}function JUe(){this.textContent=""}function eFe(t){return function(){this.textContent=t}}function tFe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function nFe(t){return arguments.length?this.each(t==null?JUe:(typeof t=="function"?tFe:eFe)(t)):this.node().textContent}function rFe(){this.innerHTML=""}function iFe(t){return function(){this.innerHTML=t}}function sFe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function oFe(t){return arguments.length?this.each(t==null?rFe:(typeof t=="function"?sFe:iFe)(t)):this.node().innerHTML}function aFe(){this.nextSibling&&this.parentNode.appendChild(this)}function lFe(){return this.each(aFe)}function cFe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function uFe(){return this.each(cFe)}function fFe(t){var e=typeof t=="function"?t:eee(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function dFe(){return null}function hFe(t,e){var n=typeof t=="function"?t:eee(t),r=e==null?dFe:typeof e=="function"?e:u3(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function pFe(){var t=this.parentNode;t&&t.removeChild(this)}function mFe(){return this.each(pFe)}function gFe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vFe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yFe(t){return this.select(t?vFe:gFe)}function xFe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wFe(t){return function(e){t.call(this,e,this.__data__)}}function _Fe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function bFe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function SFe(t,e,n){return function(){var r=this.__on,i,s=wFe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function EFe(t,e,n){var r=_Fe(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?SFe:bFe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function uee(t,e,n){var r=see(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function MFe(t,e){return function(){return uee(this,t,e)}}function TFe(t,e){return function(){return uee(this,t,e.apply(this,arguments))}}function AFe(t,e){return this.each((typeof e=="function"?TFe:MFe)(t,e))}function*CFe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var fee=[null];function Hs(t,e){this._groups=t,this._parents=e}function by(){return new Hs([[document.documentElement]],fee)}function PFe(){return this}Hs.prototype=by.prototype={constructor:Hs,select:tUe,selectAll:sUe,selectChild:cUe,selectChildren:hUe,filter:pUe,data:wUe,enter:mUe,exit:bUe,join:SUe,merge:EUe,selection:PFe,order:MUe,sort:TUe,call:CUe,nodes:PUe,node:RUe,size:NUe,empty:IUe,each:DUe,attr:zUe,style:WUe,property:YUe,classed:QUe,text:nFe,html:oFe,raise:lFe,lower:uFe,append:fFe,insert:hFe,remove:mFe,clone:yFe,datum:xFe,on:EFe,dispatch:AFe,[Symbol.iterator]:CFe};function Ds(t){return typeof t=="string"?new Hs([[document.querySelector(t)]],[document.documentElement]):new Hs([[t]],fee)}function RFe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Bo(t,e){if(t=RFe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const NFe={passive:!1},C0={capture:!0,passive:!1};function C2(t){t.stopImmediatePropagation()}function gp(t){t.preventDefault(),t.stopImmediatePropagation()}function dee(t){var e=t.document.documentElement,n=Ds(t).on("dragstart.drag",gp,C0);"onselectstart"in e?n.on("selectstart.drag",gp,C0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function hee(t,e){var n=t.document.documentElement,r=Ds(t).on("dragstart.drag",null);e&&(r.on("click.drag",gp,C0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const sw=t=>()=>t;function lN(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}lN.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function IFe(t){return!t.ctrlKey&&!t.button}function DFe(){return this.parentNode}function LFe(t,e){return e??{x:t.x,y:t.y}}function OFe(){return navigator.maxTouchPoints||"ontouchstart"in this}function pee(){var t=IFe,e=DFe,n=LFe,r=OFe,i={},s=KE("start","drag","end"),o=0,a,l,c,u,f=0;function d(b){b.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",g,NFe).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,M){if(!(u||!t.call(this,b,M))){var A=w(this,e.call(this,b,M),b,M,"mouse");A&&(Ds(b.view).on("mousemove.drag",p,C0).on("mouseup.drag",v,C0),dee(b.view),C2(b),c=!1,a=b.clientX,l=b.clientY,A("start",b))}}function p(b){if(gp(b),!c){var M=b.clientX-a,A=b.clientY-l;c=M*M+A*A>f}i.mouse("drag",b)}function v(b){Ds(b.view).on("mousemove.drag mouseup.drag",null),hee(b.view,c),gp(b),i.mouse("end",b)}function y(b,M){if(t.call(this,b,M)){var A=b.changedTouches,C=e.call(this,b,M),N=A.length,R,D;for(R=0;R<N;++R)(D=w(this,C,b,M,A[R].identifier,A[R]))&&(C2(b),D("start",b,A[R]))}}function g(b){var M=b.changedTouches,A=M.length,C,N;for(C=0;C<A;++C)(N=i[M[C].identifier])&&(gp(b),N("drag",b,M[C]))}function _(b){var M=b.changedTouches,A=M.length,C,N;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<A;++C)(N=i[M[C].identifier])&&(C2(b),N("end",b,M[C]))}function w(b,M,A,C,N,R){var D=s.copy(),F=Bo(R||A,M),U,$,I;if((I=n.call(b,new lN("beforestart",{sourceEvent:A,target:d,identifier:N,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:D}),C))!=null)return U=I.x-F[0]||0,$=I.y-F[1]||0,function V(j,X,L){var k=F,z;switch(j){case"start":i[N]=V,z=o++;break;case"end":delete i[N],--o;case"drag":F=Bo(L||X,M),z=o;break}D.call(j,b,new lN(j,{sourceEvent:X,subject:I,target:d,identifier:N,active:z,x:F[0]+U,y:F[1]+$,dx:F[0]-k[0],dy:F[1]-k[1],dispatch:D}),C)}}return d.filter=function(b){return arguments.length?(t=typeof b=="function"?b:sw(!!b),d):t},d.container=function(b){return arguments.length?(e=typeof b=="function"?b:sw(b),d):e},d.subject=function(b){return arguments.length?(n=typeof b=="function"?b:sw(b),d):n},d.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:sw(!!b),d):r},d.on=function(){var b=s.on.apply(s,arguments);return b===s?d:b},d.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,d):Math.sqrt(f)},d}var Jp=0,Xg=0,Lg=0,mee=1e3,Ib,Yg,Db=0,md=0,ZE=0,P0=typeof performance=="object"&&performance.now?performance:Date,gee=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function d3(){return md||(gee(kFe),md=P0.now()+ZE)}function kFe(){md=0}function Lb(){this._call=this._time=this._next=null}Lb.prototype=vee.prototype={constructor:Lb,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?d3():+n)+(e==null?0:+e),!this._next&&Yg!==this&&(Yg?Yg._next=this:Ib=this,Yg=this),this._call=t,this._time=n,cN()},stop:function(){this._call&&(this._call=null,this._time=1/0,cN())}};function vee(t,e,n){var r=new Lb;return r.restart(t,e,n),r}function UFe(){d3(),++Jp;for(var t=Ib,e;t;)(e=md-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Jp}function iH(){md=(Db=P0.now())+ZE,Jp=Xg=0;try{UFe()}finally{Jp=0,BFe(),md=0}}function FFe(){var t=P0.now(),e=t-Db;e>mee&&(ZE-=e,Db=t)}function BFe(){for(var t,e=Ib,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ib=n);Yg=t,cN(r)}function cN(t){if(!Jp){Xg&&(Xg=clearTimeout(Xg));var e=t-md;e>24?(t<1/0&&(Xg=setTimeout(iH,t-P0.now()-ZE)),Lg&&(Lg=clearInterval(Lg))):(Lg||(Db=P0.now(),Lg=setInterval(FFe,mee)),Jp=1,gee(iH))}}function sH(t,e,n){var r=new Lb;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var zFe=KE("start","end","cancel","interrupt"),jFe=[],yee=0,oH=1,uN=2,Xw=3,aH=4,fN=5,Yw=6;function QE(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;VFe(t,n,{name:e,index:r,group:i,on:zFe,tween:jFe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:yee})}function h3(t,e){var n=ca(t,e);if(n.state>yee)throw new Error("too late; already scheduled");return n}function Ha(t,e){var n=ca(t,e);if(n.state>Xw)throw new Error("too late; already running");return n}function ca(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function VFe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=vee(s,0,n.time);function s(c){n.state=oH,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,d,h;if(n.state!==oH)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Xw)return sH(o);h.state===aH?(h.state=Yw,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=Yw,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(sH(function(){n.state===Xw&&(n.state=aH,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=uN,n.on.call("start",t,t.__data__,n.index,n.group),n.state===uN){for(n.state=Xw,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=fN,1),f=-1,d=i.length;++f<d;)i[f].call(t,u);n.state===fN&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Yw,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Kw(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>uN&&r.state<fN,r.state=Yw,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function HFe(t){return this.each(function(){Kw(this,t)})}function WFe(t,e){var n,r;return function(){var i=Ha(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function GFe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ha(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function $Fe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ca(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?WFe:GFe)(n,t,e))}function p3(t,e,n){var r=t._id;return t.each(function(){var i=Ha(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ca(i,r).value[e]}}function xee(t,e){var n;return(typeof e=="number"?jo:e instanceof ld?nb:(n=ld(e))?(e=n,nb):SX)(t,e)}function XFe(t){return function(){this.removeAttribute(t)}}function YFe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function KFe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function qFe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function ZFe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function QFe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function JFe(t,e){var n=qE(t),r=n==="transform"?T0e:xee;return this.attrTween(t,typeof e=="function"?(n.local?QFe:ZFe)(n,r,p3(this,"attr."+t,e)):e==null?(n.local?YFe:XFe)(n):(n.local?qFe:KFe)(n,r,e))}function e4e(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function t4e(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function n4e(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&t4e(t,s)),n}return i._value=e,i}function r4e(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&e4e(t,s)),n}return i._value=e,i}function i4e(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=qE(t);return this.tween(n,(r.local?n4e:r4e)(r,e))}function s4e(t,e){return function(){h3(this,t).delay=+e.apply(this,arguments)}}function o4e(t,e){return e=+e,function(){h3(this,t).delay=e}}function a4e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?s4e:o4e)(e,t)):ca(this.node(),e).delay}function l4e(t,e){return function(){Ha(this,t).duration=+e.apply(this,arguments)}}function c4e(t,e){return e=+e,function(){Ha(this,t).duration=e}}function u4e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?l4e:c4e)(e,t)):ca(this.node(),e).duration}function f4e(t,e){if(typeof e!="function")throw new Error;return function(){Ha(this,t).ease=e}}function d4e(t){var e=this._id;return arguments.length?this.each(f4e(e,t)):ca(this.node(),e).ease}function h4e(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ha(this,t).ease=n}}function p4e(t){if(typeof t!="function")throw new Error;return this.each(h4e(this._id,t))}function m4e(t){typeof t!="function"&&(t=nee(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Wl(r,this._parents,this._name,this._id)}function g4e(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;a<r;++a)o[a]=e[a];return new Wl(o,this._parents,this._name,this._id)}function v4e(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function y4e(t,e,n){var r,i,s=v4e(e)?h3:Ha;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function x4e(t,e){var n=this._id;return arguments.length<2?ca(this.node(),n).on.on(t):this.each(y4e(n,t,e))}function w4e(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function _4e(){return this.on("end.remove",w4e(this._id))}function b4e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=u3(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,f,d=0;d<l;++d)(u=a[d])&&(f=t.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,QE(c[d],e,n,d,c,ca(u,n)));return new Wl(s,this._parents,e,n)}function S4e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=tee(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=t.call(u,u.__data__,f,l),h,p=ca(u,n),v=0,y=d.length;v<y;++v)(h=d[v])&&QE(h,e,n,v,d,p);s.push(d),o.push(u)}return new Wl(s,o,e,n)}var E4e=by.prototype.constructor;function M4e(){return new E4e(this._groups,this._parents)}function T4e(t,e){var n,r,i;return function(){var s=Qp(this,t),o=(this.style.removeProperty(t),Qp(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function wee(t){return function(){this.style.removeProperty(t)}}function A4e(t,e,n){var r,i=n+"",s;return function(){var o=Qp(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function C4e(t,e,n){var r,i,s;return function(){var o=Qp(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Qp(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function P4e(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Ha(this,t),c=l.on,u=l.value[s]==null?a||(a=wee(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function R4e(t,e,n){var r=(t+="")=="transform"?M0e:xee;return e==null?this.styleTween(t,T4e(t,r)).on("end.style."+t,wee(t)):typeof e=="function"?this.styleTween(t,C4e(t,r,p3(this,"style."+t,e))).each(P4e(this._id,t)):this.styleTween(t,A4e(t,r,e),n).on("end.style."+t,null)}function N4e(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function I4e(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&N4e(t,o,n)),r}return s._value=e,s}function D4e(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,I4e(t,e,n??""))}function L4e(t){return function(){this.textContent=t}}function O4e(t){return function(){var e=t(this);this.textContent=e??""}}function k4e(t){return this.tween("text",typeof t=="function"?O4e(p3(this,"text",t)):L4e(t==null?"":t+""))}function U4e(t){return function(e){this.textContent=t.call(this,e)}}function F4e(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&U4e(i)),e}return r._value=t,r}function B4e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,F4e(t))}function z4e(){for(var t=this._name,e=this._id,n=_ee(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=ca(l,e);QE(l,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Wl(r,this._parents,t,n)}function j4e(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=Ha(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var V4e=0;function Wl(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function _ee(){return++V4e}var al=by.prototype;Wl.prototype={constructor:Wl,select:b4e,selectAll:S4e,selectChild:al.selectChild,selectChildren:al.selectChildren,filter:m4e,merge:g4e,selection:M4e,transition:z4e,call:al.call,nodes:al.nodes,node:al.node,size:al.size,empty:al.empty,each:al.each,on:x4e,attr:JFe,attrTween:i4e,style:R4e,styleTween:D4e,text:k4e,textTween:B4e,remove:_4e,tween:$Fe,delay:a4e,duration:u4e,ease:d4e,easeVarying:p4e,end:j4e,[Symbol.iterator]:al[Symbol.iterator]};function H4e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var W4e={time:null,delay:0,duration:250,ease:H4e};function G4e(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function $4e(t){var e,n;t instanceof Wl?(e=t._id,t=t._name):(e=_ee(),(n=W4e).time=d3(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&QE(l,t,e,c,o,n||G4e(l,e));return new Wl(r,this._parents,t,e)}by.prototype.interrupt=HFe;by.prototype.transition=$4e;const ow=t=>()=>t;function X4e(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _l(t,e,n){this.k=t,this.x=e,this.y=n}_l.prototype={constructor:_l,scale:function(t){return t===1?this:new _l(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new _l(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var JE=new _l(1,0,0);bee.prototype=_l.prototype;function bee(t){for(;!t.__zoom;)if(!(t=t.parentNode))return JE;return t.__zoom}function P2(t){t.stopImmediatePropagation()}function Og(t){t.preventDefault(),t.stopImmediatePropagation()}function Y4e(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function K4e(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function lH(){return this.__zoom||JE}function q4e(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Z4e(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q4e(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function See(){var t=Y4e,e=K4e,n=Q4e,r=q4e,i=Z4e,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Nw,c=KE("start","zoom","end"),u,f,d,h=500,p=150,v=0,y=10;function g(I){I.property("__zoom",lH).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(I,V,j,X){var L=I.selection?I.selection():I;L.property("__zoom",lH),I!==L?M(I,V,j,X):L.interrupt().each(function(){A(this,arguments).event(X).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},g.scaleBy=function(I,V,j,X){g.scaleTo(I,function(){var L=this.__zoom.k,k=typeof V=="function"?V.apply(this,arguments):V;return L*k},j,X)},g.scaleTo=function(I,V,j,X){g.transform(I,function(){var L=e.apply(this,arguments),k=this.__zoom,z=j==null?b(L):typeof j=="function"?j.apply(this,arguments):j,B=k.invert(z),G=typeof V=="function"?V.apply(this,arguments):V;return n(w(_(k,G),z,B),L,o)},j,X)},g.translateBy=function(I,V,j,X){g.transform(I,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),o)},null,X)},g.translateTo=function(I,V,j,X,L){g.transform(I,function(){var k=e.apply(this,arguments),z=this.__zoom,B=X==null?b(k):typeof X=="function"?X.apply(this,arguments):X;return n(JE.translate(B[0],B[1]).scale(z.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof j=="function"?-j.apply(this,arguments):-j),k,o)},X,L)};function _(I,V){return V=Math.max(s[0],Math.min(s[1],V)),V===I.k?I:new _l(V,I.x,I.y)}function w(I,V,j){var X=V[0]-j[0]*I.k,L=V[1]-j[1]*I.k;return X===I.x&&L===I.y?I:new _l(I.k,X,L)}function b(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function M(I,V,j,X){I.on("start.zoom",function(){A(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(X).end()}).tween("zoom",function(){var L=this,k=arguments,z=A(L,k).event(X),B=e.apply(L,k),G=j==null?b(B):typeof j=="function"?j.apply(L,k):j,Y=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),Z=L.__zoom,Q=typeof V=="function"?V.apply(L,k):V,re=l(Z.invert(G).concat(Y/Z.k),Q.invert(G).concat(Y/Q.k));return function(J){if(J===1)J=Q;else{var ae=re(J),se=Y/ae[2];J=new _l(se,G[0]-ae[0]*se,G[1]-ae[1]*se)}z.zoom(null,J)}})}function A(I,V,j){return!j&&I.__zooming||new C(I,V)}function C(I,V){this.that=I,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(I,V),this.taps=0}C.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,V){return this.mouse&&I!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var V=Ds(this.that).datum();c.call(I,this.that,new X4e(I,{sourceEvent:this.sourceEvent,target:g,type:I,transform:this.that.__zoom,dispatch:c}),V)}};function N(I,...V){if(!t.apply(this,arguments))return;var j=A(this,V).event(I),X=this.__zoom,L=Math.max(s[0],Math.min(s[1],X.k*Math.pow(2,r.apply(this,arguments)))),k=Bo(I);if(j.wheel)(j.mouse[0][0]!==k[0]||j.mouse[0][1]!==k[1])&&(j.mouse[1]=X.invert(j.mouse[0]=k)),clearTimeout(j.wheel);else{if(X.k===L)return;j.mouse=[k,X.invert(k)],Kw(this),j.start()}Og(I),j.wheel=setTimeout(z,p),j.zoom("mouse",n(w(_(X,L),j.mouse[0],j.mouse[1]),j.extent,o));function z(){j.wheel=null,j.end()}}function R(I,...V){if(d||!t.apply(this,arguments))return;var j=I.currentTarget,X=A(this,V,!0).event(I),L=Ds(I.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",Y,!0),k=Bo(I,j),z=I.clientX,B=I.clientY;dee(I.view),P2(I),X.mouse=[k,this.__zoom.invert(k)],Kw(this),X.start();function G(Z){if(Og(Z),!X.moved){var Q=Z.clientX-z,re=Z.clientY-B;X.moved=Q*Q+re*re>v}X.event(Z).zoom("mouse",n(w(X.that.__zoom,X.mouse[0]=Bo(Z,j),X.mouse[1]),X.extent,o))}function Y(Z){L.on("mousemove.zoom mouseup.zoom",null),hee(Z.view,X.moved),Og(Z),X.event(Z).end()}}function D(I,...V){if(t.apply(this,arguments)){var j=this.__zoom,X=Bo(I.changedTouches?I.changedTouches[0]:I,this),L=j.invert(X),k=j.k*(I.shiftKey?.5:2),z=n(w(_(j,k),X,L),e.apply(this,V),o);Og(I),a>0?Ds(this).transition().duration(a).call(M,z,X,I):Ds(this).call(g.transform,z,X,I)}}function F(I,...V){if(t.apply(this,arguments)){var j=I.touches,X=j.length,L=A(this,V,I.changedTouches.length===X).event(I),k,z,B,G;for(P2(I),z=0;z<X;++z)B=j[z],G=Bo(B,this),G=[G,this.__zoom.invert(G),B.identifier],L.touch0?!L.touch1&&L.touch0[2]!==G[2]&&(L.touch1=G,L.taps=0):(L.touch0=G,k=!0,L.taps=1+!!u);u&&(u=clearTimeout(u)),k&&(L.taps<2&&(f=G[0],u=setTimeout(function(){u=null},h)),Kw(this),L.start())}}function U(I,...V){if(this.__zooming){var j=A(this,V).event(I),X=I.changedTouches,L=X.length,k,z,B,G;for(Og(I),k=0;k<L;++k)z=X[k],B=Bo(z,this),j.touch0&&j.touch0[2]===z.identifier?j.touch0[0]=B:j.touch1&&j.touch1[2]===z.identifier&&(j.touch1[0]=B);if(z=j.that.__zoom,j.touch1){var Y=j.touch0[0],Z=j.touch0[1],Q=j.touch1[0],re=j.touch1[1],J=(J=Q[0]-Y[0])*J+(J=Q[1]-Y[1])*J,ae=(ae=re[0]-Z[0])*ae+(ae=re[1]-Z[1])*ae;z=_(z,Math.sqrt(J/ae)),B=[(Y[0]+Q[0])/2,(Y[1]+Q[1])/2],G=[(Z[0]+re[0])/2,(Z[1]+re[1])/2]}else if(j.touch0)B=j.touch0[0],G=j.touch0[1];else return;j.zoom("touch",n(w(z,B,G),j.extent,o))}}function $(I,...V){if(this.__zooming){var j=A(this,V).event(I),X=I.changedTouches,L=X.length,k,z;for(P2(I),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),k=0;k<L;++k)z=X[k],j.touch0&&j.touch0[2]===z.identifier?delete j.touch0:j.touch1&&j.touch1[2]===z.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(z=Bo(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<y)){var B=Ds(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return g.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:ow(+I),g):r},g.filter=function(I){return arguments.length?(t=typeof I=="function"?I:ow(!!I),g):t},g.touchable=function(I){return arguments.length?(i=typeof I=="function"?I:ow(!!I),g):i},g.extent=function(I){return arguments.length?(e=typeof I=="function"?I:ow([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),g):e},g.scaleExtent=function(I){return arguments.length?(s[0]=+I[0],s[1]=+I[1],g):[s[0],s[1]]},g.translateExtent=function(I){return arguments.length?(o[0][0]=+I[0][0],o[1][0]=+I[1][0],o[0][1]=+I[0][1],o[1][1]=+I[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(I){return arguments.length?(n=I,g):n},g.duration=function(I){return arguments.length?(a=+I,g):a},g.interpolate=function(I){return arguments.length?(l=I,g):l},g.on=function(){var I=c.on.apply(c,arguments);return I===c?g:I},g.clickDistance=function(I){return arguments.length?(v=(I=+I)*I,g):Math.sqrt(v)},g.tapDistance=function(I){return arguments.length?(y=+I,g):y},g}const za={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},R0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Eee=["Enter"," ","Escape"],Mee={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var gd;(function(t){t.Strict="strict",t.Loose="loose"})(gd||(gd={}));var Yf;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Yf||(Yf={}));var N0;(function(t){t.Partial="partial",t.Full="full"})(N0||(N0={}));const Tee={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var kc;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(kc||(kc={}));var Ob;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Ob||(Ob={}));var Mt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Mt||(Mt={}));const cH={[Mt.Left]:Mt.Right,[Mt.Right]:Mt.Left,[Mt.Top]:Mt.Bottom,[Mt.Bottom]:Mt.Top};function Aee(t){return t===null?null:t?"valid":"invalid"}const Cee=t=>"id"in t&&"source"in t&&"target"in t,J4e=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),m3=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Sy=(t,e=[0,0])=>{const{width:n,height:r}=Jl(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},eBe=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):m3(i)?i:e.nodeLookup.get(i.id));const a=o?kb(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return eM(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return tM(n)},Ey=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=kb(r);n=eM(n,i)}}),tM(n)},g3=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...My(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const c of t.values()){const{measured:u,selectable:f=!0,hidden:d=!1}=c;if(o&&!f||d)continue;const h=u.width??c.width??c.initialWidth??null,p=u.height??c.height??c.initialHeight??null,v=I0(a,tm(c)),y=(h??0)*(p??0),g=s&&v>0;(!c.internals.handleBounds||g||v>=y||c.dragging)&&l.push(c)}return l},tBe=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function nBe(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function rBe({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const a=nBe(t,o),l=Ey(a),c=v3(l,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Pee({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=o.origin??r;let f=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",za.error005());else{const h=a.measured.width,p=a.measured.height;h&&p&&(f=[[l,c],[l+h,c+p]])}else a&&nm(o.extent)&&(f=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const d=nm(f)?vd(e,f,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",za.error015())),{position:{x:d.x-l+(o.measured.width??0)*u[0],y:d.y-c+(o.measured.height??0)*u[1]},positionAbsolute:d}}async function iBe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(d=>d.id)),o=[];for(const d of n){if(d.deletable===!1)continue;const h=s.has(d.id),p=!h&&d.parentId&&o.find(v=>v.id===d.parentId);(h||p)&&o.push(d)}const a=new Set(e.map(d=>d.id)),l=r.filter(d=>d.deletable!==!1),u=tBe(o,l);for(const d of l)a.has(d.id)&&!u.find(p=>p.id===d.id)&&u.push(d);if(!i)return{edges:u,nodes:o};const f=await i({nodes:o,edges:u});return typeof f=="boolean"?f?{edges:u,nodes:o}:{edges:[],nodes:[]}:f}const em=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),vd=(t={x:0,y:0},e,n)=>({x:em(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:em(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function Ree(t,e,n){const{width:r,height:i}=Jl(n),{x:s,y:o}=n.internals.positionAbsolute;return vd(t,[[s,o],[s+r,o+i]],e)}const uH=(t,e,n)=>t<e?em(Math.abs(t-e),1,e)/e:t>n?-em(Math.abs(t-n),1,e)/e:0,Nee=(t,e,n=15,r=40)=>{const i=uH(t.x,r,e.width-r)*n,s=uH(t.y,r,e.height-r)*n;return[i,s]},eM=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),dN=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),tM=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),tm=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=m3(t)?t.internals.positionAbsolute:Sy(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},kb=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=m3(t)?t.internals.positionAbsolute:Sy(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},Iee=(t,e)=>tM(eM(dN(t),dN(e))),I0=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},fH=t=>Ko(t.width)&&Ko(t.height)&&Ko(t.x)&&Ko(t.y),Ko=t=>!isNaN(t)&&isFinite(t),sBe=(t,e)=>{},nM=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),My=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?nM(a,o):a},Ub=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Th(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function oBe(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Th(t,n),i=Th(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Th(t.top??t.y??0,n),i=Th(t.bottom??t.y??0,n),s=Th(t.left??t.x??0,e),o=Th(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function aBe(t,e,n,r,i,s){const{x:o,y:a}=Ub(t,[e,n,r]),{x:l,y:c}=Ub({x:t.x+t.width,y:t.y+t.height},[e,n,r]),u=i-l,f=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(f)}}const v3=(t,e,n,r,i,s)=>{const o=oBe(s,e,n),a=(e-o.x)/t.width,l=(n-o.y)/t.height,c=Math.min(a,l),u=em(c,r,i),f=t.x+t.width/2,d=t.y+t.height/2,h=e/2-f*u,p=n/2-d*u,v=aBe(t,h,p,u,e,n),y={left:Math.min(v.left-o.left,0),top:Math.min(v.top-o.top,0),right:Math.min(v.right-o.right,0),bottom:Math.min(v.bottom-o.bottom,0)};return{x:h-y.left+y.right,y:p-y.top+y.bottom,zoom:u}},Fb=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function nm(t){return t!==void 0&&t!=="parent"}function Jl(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Dee(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Lee(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function dH(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function lBe(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function cBe(t){return{...Mee,...t||{}}}function yv(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Ta(t),a=My({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?nM(a,e):a;return{xSnapped:l,ySnapped:c,...a}}const y3=t=>({width:t.offsetWidth,height:t.offsetHeight}),Oee=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},uBe=["INPUT","SELECT","TEXTAREA"];function kee(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:uBe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const Uee=t=>"clientX"in t,Ta=(t,e)=>{var s,o;const n=Uee(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},hH=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...y3(o)}})};function Fee({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,u=Math.abs(l-t),f=Math.abs(c-e);return[l,c,u,f]}function aw(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function pH({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Mt.Left:return[e-aw(e-r,s),n];case Mt.Right:return[e+aw(r-e,s),n];case Mt.Top:return[e,n-aw(n-i,s)];case Mt.Bottom:return[e,n+aw(i-n,s)]}}function Bee({sourceX:t,sourceY:e,sourcePosition:n=Mt.Bottom,targetX:r,targetY:i,targetPosition:s=Mt.Top,curvature:o=.25}){const[a,l]=pH({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,u]=pH({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[f,d,h,p]=Fee({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${a},${l} ${c},${u} ${r},${i}`,f,d,h,p]}function zee({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function fBe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){if(r!==void 0)return r;const s=i&&n?1e3:0,o=Math.max(t.parentId?t.internals.z:0,e.parentId?e.internals.z:0);return s+o}function dBe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=eM(kb(t),kb(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return I0(o,tM(s))>0}const hBe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,pBe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),mBe=(t,e)=>{if(!t.source||!t.target)return e;let n;return Cee(t)?n={...t}:n={...t,id:hBe(t)},pBe(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function jee({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=zee({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const mH={[Mt.Left]:{x:-1,y:0},[Mt.Right]:{x:1,y:0},[Mt.Top]:{x:0,y:-1},[Mt.Bottom]:{x:0,y:1}},gBe=({source:t,sourcePosition:e=Mt.Bottom,target:n})=>e===Mt.Left||e===Mt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},gH=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function vBe({source:t,sourcePosition:e=Mt.Bottom,target:n,targetPosition:r=Mt.Top,center:i,offset:s,stepPosition:o}){const a=mH[e],l=mH[r],c={x:t.x+a.x*s,y:t.y+a.y*s},u={x:n.x+l.x*s,y:n.y+l.y*s},f=gBe({source:c,sourcePosition:e,target:u}),d=f.x!==0?"x":"y",h=f[d];let p=[],v,y;const g={x:0,y:0},_={x:0,y:0},[,,w,b]=zee({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[d]*l[d]===-1){d==="x"?(v=i.x??c.x+(u.x-c.x)*o,y=i.y??(c.y+u.y)/2):(v=i.x??(c.x+u.x)/2,y=i.y??c.y+(u.y-c.y)*o);const A=[{x:v,y:c.y},{x:v,y:u.y}],C=[{x:c.x,y},{x:u.x,y}];a[d]===h?p=d==="x"?A:C:p=d==="x"?C:A}else{const A=[{x:c.x,y:u.y}],C=[{x:u.x,y:c.y}];if(d==="x"?p=a.x===h?C:A:p=a.y===h?A:C,e===r){const U=Math.abs(t[d]-n[d]);if(U<=s){const $=Math.min(s-1,s-U);a[d]===h?g[d]=(c[d]>t[d]?-1:1)*$:_[d]=(u[d]>n[d]?-1:1)*$}}if(e!==r){const U=d==="x"?"y":"x",$=a[d]===l[U],I=c[U]>u[U],V=c[U]<u[U];(a[d]===1&&(!$&&I||$&&V)||a[d]!==1&&(!$&&V||$&&I))&&(p=d==="x"?A:C)}const N={x:c.x+g.x,y:c.y+g.y},R={x:u.x+_.x,y:u.y+_.y},D=Math.max(Math.abs(N.x-p[0].x),Math.abs(R.x-p[0].x)),F=Math.max(Math.abs(N.y-p[0].y),Math.abs(R.y-p[0].y));D>=F?(v=(N.x+R.x)/2,y=p[0].y):(v=p[0].x,y=(N.y+R.y)/2)}return[[t,{x:c.x+g.x,y:c.y+g.y},...p,{x:u.x+_.x,y:u.y+_.y},n],v,y,w,b]}function yBe(t,e,n,r){const i=Math.min(gH(t,e)/2,gH(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,u=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*u}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function hN({sourceX:t,sourceY:e,sourcePosition:n=Mt.Bottom,targetX:r,targetY:i,targetPosition:s=Mt.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20,stepPosition:u=.5}){const[f,d,h,p,v]=vBe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c,stepPosition:u});return[f.reduce((g,_,w)=>{let b="";return w>0&&w<f.length-1?b=yBe(f[w-1],_,f[w+1],o):b=`${w===0?"M":"L"}${_.x} ${_.y}`,g+=b,g},""),d,h,p,v]}function vH(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function xBe(t){var f;const{sourceNode:e,targetNode:n}=t;if(!vH(e)||!vH(n))return null;const r=e.internals.handleBounds||yH(e.handles),i=n.internals.handleBounds||yH(n.handles),s=xH((r==null?void 0:r.source)??[],t.sourceHandle),o=xH(t.connectionMode===gd.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(f=t.onError)==null||f.call(t,"008",za.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||Mt.Bottom,l=(o==null?void 0:o.position)||Mt.Top,c=D0(e,s,a),u=D0(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function yH(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function D0(t,e,n=Mt.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??Jl(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case Mt.Top:return{x:i+o/2,y:s};case Mt.Right:return{x:i+o,y:s+a/2};case Mt.Bottom:return{x:i+o/2,y:s+a};case Mt.Left:return{x:i,y:s+a/2}}}function xH(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function pN(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function wBe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=pN(l,e);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const x3={nodeOrigin:[0,0],nodeExtent:R0,elevateNodesOnSelect:!0,defaults:{}},_Be={...x3,checkEquality:!0};function w3(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function bBe(t,e,n){const r=w3(x3,n);for(const i of t.values())if(i.parentId)_3(i,t,e,r);else{const s=Sy(i,r.nodeOrigin),o=nm(i.extent)?i.extent:r.nodeExtent,a=vd(s,o,Jl(i));i.internals.positionAbsolute=a}}function mN(t,e,n,r){var l,c;const i=w3(_Be,r);let s=t.length>0;const o=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let f=o.get(u.id);if(i.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const d=Sy(u,i.nodeOrigin),h=nm(u.extent)?u.extent:i.nodeExtent,p=vd(d,h,Jl(u));f={...i.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:p,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:Vee(u,a),userNode:u}},e.set(u.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(s=!1),u.parentId&&_3(f,e,n,r)}return s}function SBe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function _3(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=w3(x3,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}SBe(t,n);const c=i?1e3:0,{x:u,y:f,z:d}=EBe(t,l,s,o,c),{positionAbsolute:h}=t.internals,p=u!==h.x||f!==h.y;(p||d!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:p?{x:u,y:f}:h,z:d}})}function Vee(t,e){return(Ko(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function EBe(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=Jl(t),l=Sy(t,n),c=nm(t.extent)?vd(l,t.extent,a):l;let u=vd({x:s+c.x,y:o+c.y},r,a);t.extent==="parent"&&(u=Ree(u,a,e));const f=Vee(t,i),d=e.internals.z??0;return{x:u.x,y:u.y,z:d>=f?d+1:f}}function b3(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const c=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??tm(l),u=Iee(c,a.rect);s.set(a.parentId,{expandedRect:u,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},c)=>{var w;const u=l.internals.positionAbsolute,f=Jl(l),d=l.origin??r,h=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,p=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,v=Math.max(f.width,Math.round(a.width)),y=Math.max(f.height,Math.round(a.height)),g=(v-f.width)*d[0],_=(y-f.height)*d[1];(h>0||p>0||g||_)&&(i.push({id:c,type:"position",position:{x:l.position.x-h+g,y:l.position.y-p+_}}),(w=n.get(c))==null||w.forEach(b=>{t.some(M=>M.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+h,y:b.position.y+p}})})),(f.width<a.width||f.height<a.height||h||p)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:v+(h?d[0]*h-g:0),height:y+(p?d[1]*p-_:0)}})}),i}function MBe(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const d of t.values()){const h=e.get(d.id);if(!h)continue;if(h.hidden){e.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const p=y3(d.nodeElement),v=h.measured.width!==p.width||h.measured.height!==p.height;if(!!(p.width&&p.height&&(v||!h.internals.handleBounds||d.force))){const g=d.nodeElement.getBoundingClientRect(),_=nm(h.extent)?h.extent:s;let{positionAbsolute:w}=h.internals;h.parentId&&h.extent==="parent"?w=Ree(w,p,e.get(h.parentId)):_&&(w=vd(w,_,p));const b={...h,measured:p,internals:{...h.internals,positionAbsolute:w,handleBounds:{source:hH("source",d.nodeElement,g,u,h.id),target:hH("target",d.nodeElement,g,u,h.id)}}};e.set(h.id,b),h.parentId&&_3(b,e,n,{nodeOrigin:i}),a=!0,v&&(l.push({id:h.id,type:"dimensions",dimensions:p}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:tm(b,i)}))}}if(f.length>0){const d=b3(f,e,n,i);l.push(...d)}return{changes:l,updatedInternals:a}}async function TBe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function wH(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,e))}}function Hee(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,u=`${s}-${a}--${i}-${o}`;wH("source",l,u,t,i,o),wH("target",l,c,t,s,a),e.set(r.id,r)}}function Wee(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:Wee(n,e):!1}function _H(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function ABe(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!Wee(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function R2({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[c,u]of e){const f=(o=n.get(c))==null?void 0:o.internals.userNode;f&&i.push({...f,position:u.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function CBe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},u=null,f=!1,d=null,h=!1,p=!1;function v({noDragClassName:g,handleSelector:_,domNode:w,isSelectable:b,nodeId:M,nodeClickDistance:A=0}){d=Ds(w);function C({x:F,y:U},$){const{nodeLookup:I,nodeExtent:V,snapGrid:j,snapToGrid:X,nodeOrigin:L,onNodeDrag:k,onSelectionDrag:z,onError:B,updateNodePositions:G}=e();s={x:F,y:U};let Y=!1,Z={x:0,y:0,x2:0,y2:0};if(a.size>1&&V){const Q=Ey(a);Z=dN(Q)}for(const[Q,re]of a){if(!I.has(Q))continue;let J={x:F-re.distance.x,y:U-re.distance.y};X&&(J=nM(J,j));let ae=[[V[0][0],V[0][1]],[V[1][0],V[1][1]]];if(a.size>1&&V&&!re.extent){const{positionAbsolute:ue}=re.internals,H=ue.x-Z.x+V[0][0],he=ue.x+re.measured.width-Z.x2+V[1][0],le=ue.y-Z.y+V[0][1],me=ue.y+re.measured.height-Z.y2+V[1][1];ae=[[H,le],[he,me]]}const{position:se,positionAbsolute:fe}=Pee({nodeId:Q,nextPosition:J,nodeLookup:I,nodeExtent:ae,nodeOrigin:L,onError:B});Y=Y||re.position.x!==se.x||re.position.y!==se.y,re.position=se,re.internals.positionAbsolute=fe}if(p=p||Y,!!Y&&(G(a,!0),$&&(r||k||!M&&z))){const[Q,re]=R2({nodeId:M,dragItems:a,nodeLookup:I});r==null||r($,a,Q,re),k==null||k($,Q,re),M||z==null||z($,re)}}async function N(){if(!u)return;const{transform:F,panBy:U,autoPanSpeed:$,autoPanOnNodeDrag:I}=e();if(!I){l=!1,cancelAnimationFrame(o);return}const[V,j]=Nee(c,u,$);(V!==0||j!==0)&&(s.x=(s.x??0)-V/F[2],s.y=(s.y??0)-j/F[2],await U({x:V,y:j})&&C(s,null)),o=requestAnimationFrame(N)}function R(F){var Y;const{nodeLookup:U,multiSelectionActive:$,nodesDraggable:I,transform:V,snapGrid:j,snapToGrid:X,selectNodesOnDrag:L,onNodeDragStart:k,onSelectionDragStart:z,unselectNodesAndEdges:B}=e();f=!0,(!L||!b)&&!$&&M&&((Y=U.get(M))!=null&&Y.selected||B()),b&&L&&M&&(t==null||t(M));const G=yv(F.sourceEvent,{transform:V,snapGrid:j,snapToGrid:X,containerBounds:u});if(s=G,a=ABe(U,I,G,M),a.size>0&&(n||k||!M&&z)){const[Z,Q]=R2({nodeId:M,dragItems:a,nodeLookup:U});n==null||n(F.sourceEvent,a,Z,Q),k==null||k(F.sourceEvent,Z,Q),M||z==null||z(F.sourceEvent,Q)}}const D=pee().clickDistance(A).on("start",F=>{const{domNode:U,nodeDragThreshold:$,transform:I,snapGrid:V,snapToGrid:j}=e();u=(U==null?void 0:U.getBoundingClientRect())||null,h=!1,p=!1,$===0&&R(F),s=yv(F.sourceEvent,{transform:I,snapGrid:V,snapToGrid:j,containerBounds:u}),c=Ta(F.sourceEvent,u)}).on("drag",F=>{const{autoPanOnNodeDrag:U,transform:$,snapGrid:I,snapToGrid:V,nodeDragThreshold:j,nodeLookup:X}=e(),L=yv(F.sourceEvent,{transform:$,snapGrid:I,snapToGrid:V,containerBounds:u});if((F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||M&&!X.has(M))&&(h=!0),!h){if(!l&&U&&f&&(l=!0,N()),!f){const k=L.xSnapped-(s.x??0),z=L.ySnapped-(s.y??0);Math.sqrt(k*k+z*z)>j&&R(F)}(s.x!==L.xSnapped||s.y!==L.ySnapped)&&a&&f&&(c=Ta(F.sourceEvent,u),C(L,F.sourceEvent))}}).on("end",F=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:U,updateNodePositions:$,onNodeDragStop:I,onSelectionDragStop:V}=e();if(p&&($(a,!1),p=!1),i||I||!M&&V){const[j,X]=R2({nodeId:M,dragItems:a,nodeLookup:U,dragging:!1});i==null||i(F.sourceEvent,a,j,X),I==null||I(F.sourceEvent,j,X),M||V==null||V(F.sourceEvent,X)}}}).filter(F=>{const U=F.target;return!F.button&&(!g||!_H(U,`.${g}`,w))&&(!_||_H(U,_,w))});d.call(D)}function y(){d==null||d.on(".drag",null)}return{update:v,destroy:y}}function PBe(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())I0(i,tm(s))>0&&r.push(s);return r}const RBe=250;function NBe(t,e,n,r){var a,l;let i=[],s=1/0;const o=PBe(t,n,e+RBe);for(const c of o){const u=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of u){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=D0(c,f,f.position,!0),p=Math.sqrt(Math.pow(d-t.x,2)+Math.pow(h-t.y,2));p>e||(p<s?(i=[{...f,x:d,y:h}],s=p):p===s&&i.push({...f,x:d,y:h}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function Gee(t,e,n,r,i,s=!1){var c,u,f;const o=r.get(t);if(!o)return null;const a=i==="strict"?(c=o.internals.handleBounds)==null?void 0:c[e]:[...((u=o.internals.handleBounds)==null?void 0:u.source)??[],...((f=o.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...D0(o,l,l.position,!0)}:l}function $ee(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function IBe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Xee=()=>!0;function DBe(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:f,panBy:d,cancelConnection:h,onConnectStart:p,onConnect:v,onConnectEnd:y,isValidConnection:g=Xee,onReconnectEnd:_,updateConnection:w,getTransform:b,getFromHandle:M,autoPanSpeed:A,dragThreshold:C=1}){const N=Oee(t.target);let R=0,D;const{x:F,y:U}=Ta(t),$=N==null?void 0:N.elementFromPoint(F,U),I=$ee(s,$),V=a==null?void 0:a.getBoundingClientRect();let j=!1;if(!V||!I)return;const X=Gee(i,I,r,l,e);if(!X)return;let L=Ta(t,V),k=!1,z=null,B=!1,G=null;function Y(){if(!u||!V)return;const[ue,H]=Nee(L,V,A);d({x:ue,y:H}),R=requestAnimationFrame(Y)}const Z={...X,nodeId:i,type:I,position:X.position},Q=l.get(i);let J={inProgress:!0,isValid:null,from:D0(Q,Z,Mt.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:Q,to:L,toHandle:null,toPosition:cH[Z.position],toNode:null};function ae(){j=!0,w(J),p==null||p(t,{nodeId:i,handleId:r,handleType:I})}C===0&&ae();function se(ue){if(!j){const{x:me,y:de}=Ta(ue),ke=me-F,_e=de-U;if(!(ke*ke+_e*_e>C*C))return;ae()}if(!M()||!Z){fe(ue);return}const H=b();L=Ta(ue,V),D=NBe(My(L,H,!1,[1,1]),n,l,Z),k||(Y(),k=!0);const he=Yee(ue,{handle:D,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:g,doc:N,lib:c,flowId:f,nodeLookup:l});G=he.handleDomNode,z=he.connection,B=IBe(!!D,he.isValid);const le={...J,isValid:B,to:he.toHandle&&B?Ub({x:he.toHandle.x,y:he.toHandle.y},H):L,toHandle:he.toHandle,toPosition:B&&he.toHandle?he.toHandle.position:cH[Z.position],toNode:he.toHandle?l.get(he.toHandle.nodeId):null};B&&D&&J.toHandle&&le.toHandle&&J.toHandle.type===le.toHandle.type&&J.toHandle.nodeId===le.toHandle.nodeId&&J.toHandle.id===le.toHandle.id&&J.to.x===le.to.x&&J.to.y===le.to.y||(w(le),J=le)}function fe(ue){if(j){(D||G)&&z&&B&&(v==null||v(z));const{inProgress:H,...he}=J,le={...he,toPosition:J.toHandle?J.toPosition:null};y==null||y(ue,le),s&&(_==null||_(ue,le))}h(),cancelAnimationFrame(R),k=!1,B=!1,z=null,G=null,N.removeEventListener("mousemove",se),N.removeEventListener("mouseup",fe),N.removeEventListener("touchmove",se),N.removeEventListener("touchend",fe)}N.addEventListener("mousemove",se),N.addEventListener("mouseup",fe),N.addEventListener("touchmove",se),N.addEventListener("touchend",fe)}function Yee(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=Xee,nodeLookup:u}){const f=s==="target",d=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:p}=Ta(t),v=o.elementFromPoint(h,p),y=v!=null&&v.classList.contains(`${a}-flow__handle`)?v:d,g={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const _=$ee(void 0,y),w=y.getAttribute("data-nodeid"),b=y.getAttribute("data-handleid"),M=y.classList.contains("connectable"),A=y.classList.contains("connectableend");if(!w||!_)return g;const C={source:f?w:r,sourceHandle:f?b:i,target:f?r:w,targetHandle:f?i:b};g.connection=C;const R=M&&A&&(n===gd.Strict?f&&_==="source"||!f&&_==="target":w!==r||b!==i);g.isValid=R&&c(C),g.toHandle=Gee(w,_,b,u,n,!0)}return g}const gN={onPointerDown:DBe,isValid:Yee};function LBe({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Ds(t);function s({translateExtent:a,width:l,height:c,zoomStep:u=10,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const p=w=>{const b=n();if(w.sourceEvent.type!=="wheel"||!e)return;const M=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*u,A=b[2]*Math.pow(2,M);e.scaleTo(A)};let v=[0,0];const y=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(v=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},g=w=>{const b=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!e)return;const M=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],A=[M[0]-v[0],M[1]-v[1]];v=M;const C=r()*Math.max(b[2],Math.log(b[2]))*(h?-1:1),N={x:b[0]-A[0]*C,y:b[1]-A[1]*C},R=[[0,0],[l,c]];e.setViewportConstrained({x:N.x,y:N.y,zoom:b[2]},R,a)},_=See().on("start",y).on("zoom",f?g:null).on("zoom.wheel",d?p:null);i.call(_,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Bo}}const OBe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,rM=t=>({x:t.x,y:t.y,zoom:t.k}),N2=({x:t,y:e,zoom:n})=>JE.translate(t,e).scale(n),np=(t,e)=>t.target.closest(`.${e}`),Kee=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),kBe=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,I2=(t,e=0,n=kBe,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},qee=t=>{const e=t.ctrlKey&&Fb()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function UBe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(np(u,e))return!1;u.preventDefault(),u.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(u.ctrlKey&&o){const y=Bo(u),g=qee(u),_=f*Math.pow(2,g);r.scaleTo(n,_,y,u);return}const d=u.deltaMode===1?20:1;let h=i===Yf.Vertical?0:u.deltaX*d,p=i===Yf.Horizontal?0:u.deltaY*d;!Fb()&&u.shiftKey&&i!==Yf.Vertical&&(h=u.deltaY*d,p=0),r.translateBy(n,-(h/f)*s,-(p/f)*s,{internal:!0});const v=rM(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(u,v)),t.isPanScrolling&&(l==null||l(u,v),t.panScrollTimeout=setTimeout(()=>{c==null||c(u,v),t.isPanScrolling=!1},150))}}function FBe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,a=np(r,t);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function BBe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=rM(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function zBe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&Kee(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,rM(s.transform)))}}function jBe({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&Kee(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&OBe(t.prevViewport,o.transform))){const l=rM(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function VBe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{var p;const f=t||e,d=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(np(u,`${c}-flow__node`)||np(u,`${c}-flow__edge`)))return!0;if(!r&&!f&&!i&&!s&&!n||o||np(u,a)&&u.type==="wheel"||np(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!t)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((p=u.touches)==null?void 0:p.length)>1)return u.preventDefault(),!1;if(!f&&!i&&!d&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function HBe({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=t.getBoundingClientRect(),d=See().clickDistance(!Ko(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),h=Ds(t).call(d);w({x:s.x,y:s.y,zoom:em(s.zoom,e,n)},[[0,0],[f.width,f.height]],i);const p=h.on("wheel.zoom"),v=h.on("dblclick.zoom");d.wheelDelta(qee);function y(U,$){return h?new Promise(I=>{d==null||d.interpolate(($==null?void 0:$.interpolate)==="linear"?El:Nw).transform(I2(h,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>I(!0)),U)}):Promise.resolve(!1)}function g({noWheelClassName:U,noPanClassName:$,onPaneContextMenu:I,userSelectionActive:V,panOnScroll:j,panOnDrag:X,panOnScrollMode:L,panOnScrollSpeed:k,preventScrolling:z,zoomOnPinch:B,zoomOnScroll:G,zoomOnDoubleClick:Y,zoomActivationKeyPressed:Z,lib:Q,onTransformChange:re}){V&&!u.isZoomingOrPanning&&_();const ae=j&&!Z&&!V?UBe({zoomPanValues:u,noWheelClassName:U,d3Selection:h,d3Zoom:d,panOnScrollMode:L,panOnScrollSpeed:k,zoomOnPinch:B,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):FBe({noWheelClassName:U,preventScrolling:z,d3ZoomHandler:p});if(h.on("wheel.zoom",ae,{passive:!1}),!V){const fe=BBe({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});d.on("start",fe);const ue=zBe({zoomPanValues:u,panOnDrag:X,onPaneContextMenu:!!I,onPanZoom:o,onTransformChange:re});d.on("zoom",ue);const H=jBe({zoomPanValues:u,panOnDrag:X,panOnScroll:j,onPaneContextMenu:I,onPanZoomEnd:l,onDraggingChange:c});d.on("end",H)}const se=VBe({zoomActivationKeyPressed:Z,panOnDrag:X,zoomOnScroll:G,panOnScroll:j,zoomOnDoubleClick:Y,zoomOnPinch:B,userSelectionActive:V,noPanClassName:$,noWheelClassName:U,lib:Q});d.filter(se),Y?h.on("dblclick.zoom",v):h.on("dblclick.zoom",null)}function _(){d.on("zoom",null)}async function w(U,$,I){const V=N2(U),j=d==null?void 0:d.constrain()(V,$,I);return j&&await y(j),new Promise(X=>X(j))}async function b(U,$){const I=N2(U);return await y(I,$),new Promise(V=>V(I))}function M(U){if(h){const $=N2(U),I=h.property("__zoom");(I.k!==U.zoom||I.x!==U.x||I.y!==U.y)&&(d==null||d.transform(h,$,null,{sync:!0}))}}function A(){const U=h?bee(h.node()):{x:0,y:0,k:1};return{x:U.x,y:U.y,zoom:U.k}}function C(U,$){return h?new Promise(I=>{d==null||d.interpolate(($==null?void 0:$.interpolate)==="linear"?El:Nw).scaleTo(I2(h,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>I(!0)),U)}):Promise.resolve(!1)}function N(U,$){return h?new Promise(I=>{d==null||d.interpolate(($==null?void 0:$.interpolate)==="linear"?El:Nw).scaleBy(I2(h,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>I(!0)),U)}):Promise.resolve(!1)}function R(U){d==null||d.scaleExtent(U)}function D(U){d==null||d.translateExtent(U)}function F(U){const $=!Ko(U)||U<0?0:U;d==null||d.clickDistance($)}return{update:g,destroy:_,setViewport:b,setViewportConstrained:w,getViewport:A,scaleTo:C,scaleBy:N,setScaleExtent:R,setTranslateExtent:D,syncViewport:M,setClickDistance:F}}var rm;(function(t){t.Line="line",t.Handle="handle"})(rm||(rm={}));function WBe({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function GBe(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Ec(t,e){return Math.max(0,e-t)}function Mc(t,e){return Math.max(0,t-e)}function lw(t,e,n){return Math.max(0,e-t,t-n)}function bH(t,e){return t?!e:e}function $Be(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:u,isVertical:f}=e,d=u&&f,{xSnapped:h,ySnapped:p}=n,{minWidth:v,maxWidth:y,minHeight:g,maxHeight:_}=r,{x:w,y:b,width:M,height:A,aspectRatio:C}=t;let N=Math.floor(u?h-t.pointerX:0),R=Math.floor(f?p-t.pointerY:0);const D=M+(l?-N:N),F=A+(c?-R:R),U=-s[0]*M,$=-s[1]*A;let I=lw(D,v,y),V=lw(F,g,_);if(o){let L=0,k=0;l&&N<0?L=Ec(w+N+U,o[0][0]):!l&&N>0&&(L=Mc(w+D+U,o[1][0])),c&&R<0?k=Ec(b+R+$,o[0][1]):!c&&R>0&&(k=Mc(b+F+$,o[1][1])),I=Math.max(I,L),V=Math.max(V,k)}if(a){let L=0,k=0;l&&N>0?L=Mc(w+N,a[0][0]):!l&&N<0&&(L=Ec(w+D,a[1][0])),c&&R>0?k=Mc(b+R,a[0][1]):!c&&R<0&&(k=Ec(b+F,a[1][1])),I=Math.max(I,L),V=Math.max(V,k)}if(i){if(u){const L=lw(D/C,g,_)*C;if(I=Math.max(I,L),o){let k=0;!l&&!c||l&&!c&&d?k=Mc(b+$+D/C,o[1][1])*C:k=Ec(b+$+(l?N:-N)/C,o[0][1])*C,I=Math.max(I,k)}if(a){let k=0;!l&&!c||l&&!c&&d?k=Ec(b+D/C,a[1][1])*C:k=Mc(b+(l?N:-N)/C,a[0][1])*C,I=Math.max(I,k)}}if(f){const L=lw(F*C,v,y)/C;if(V=Math.max(V,L),o){let k=0;!l&&!c||c&&!l&&d?k=Mc(w+F*C+U,o[1][0])/C:k=Ec(w+(c?R:-R)*C+U,o[0][0])/C,V=Math.max(V,k)}if(a){let k=0;!l&&!c||c&&!l&&d?k=Ec(w+F*C,a[1][0])/C:k=Mc(w+(c?R:-R)*C,a[0][0])/C,V=Math.max(V,k)}}}R=R+(R<0?V:-V),N=N+(N<0?I:-I),i&&(d?D>F*C?R=(bH(l,c)?-N:N)/C:N=(bH(l,c)?-R:R)*C:u?(R=N/C,c=l):(N=R*C,l=c));const j=l?w+N:w,X=c?b+R:b;return{width:M+(l?-N:N),height:A+(c?-R:R),x:s[0]*N*(l?-1:1)+j,y:s[1]*R*(c?-1:1)+X}}const Zee={width:0,height:0,x:0,y:0},XBe={...Zee,pointerX:0,pointerY:0,aspectRatio:1};function YBe(t){return[[0,0],[t.measured.width,t.measured.height]]}function KBe(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function qBe({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Ds(t);function o({controlPosition:l,boundaries:c,keepAspectRatio:u,resizeDirection:f,onResizeStart:d,onResize:h,onResizeEnd:p,shouldResize:v}){let y={...Zee},g={...XBe};const _=GBe(l);let w,b=null,M=[],A,C,N;const R=pee().on("start",D=>{const{nodeLookup:F,transform:U,snapGrid:$,snapToGrid:I,nodeOrigin:V,paneDomNode:j}=n();if(w=F.get(e),!w)return;b=(j==null?void 0:j.getBoundingClientRect())??null;const{xSnapped:X,ySnapped:L}=yv(D.sourceEvent,{transform:U,snapGrid:$,snapToGrid:I,containerBounds:b});y={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},g={...y,pointerX:X,pointerY:L,aspectRatio:y.width/y.height},A=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(A=F.get(w.parentId),C=A&&w.extent==="parent"?YBe(A):void 0),M=[],N=void 0;for(const[k,z]of F)if(z.parentId===e&&(M.push({id:k,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const B=KBe(z,w,z.origin??V);N?N=[[Math.min(B[0][0],N[0][0]),Math.min(B[0][1],N[0][1])],[Math.max(B[1][0],N[1][0]),Math.max(B[1][1],N[1][1])]]:N=B}d==null||d(D,{...y})}).on("drag",D=>{const{transform:F,snapGrid:U,snapToGrid:$,nodeOrigin:I}=n(),V=yv(D.sourceEvent,{transform:F,snapGrid:U,snapToGrid:$,containerBounds:b}),j=[];if(!w)return;const{x:X,y:L,width:k,height:z}=y,B={},G=w.origin??I,{width:Y,height:Z,x:Q,y:re}=$Be(g,_,V,c,u,G,C,N),J=Y!==k,ae=Z!==z,se=Q!==X&&J,fe=re!==L&&ae;if(!se&&!fe&&!J&&!ae)return;if((se||fe||G[0]===1||G[1]===1)&&(B.x=se?Q:y.x,B.y=fe?re:y.y,y.x=B.x,y.y=B.y,M.length>0)){const le=Q-X,me=re-L;for(const de of M)de.position={x:de.position.x-le+G[0]*(Y-k),y:de.position.y-me+G[1]*(Z-z)},j.push(de)}if((J||ae)&&(B.width=J&&(!f||f==="horizontal")?Y:y.width,B.height=ae&&(!f||f==="vertical")?Z:y.height,y.width=B.width,y.height=B.height),A&&w.expandParent){const le=G[0]*(B.width??0);B.x&&B.x<le&&(y.x=le,g.x=g.x-(B.x-le));const me=G[1]*(B.height??0);B.y&&B.y<me&&(y.y=me,g.y=g.y-(B.y-me))}const ue=WBe({width:y.width,prevWidth:k,height:y.height,prevHeight:z,affectsX:_.affectsX,affectsY:_.affectsY}),H={...y,direction:ue};(v==null?void 0:v(D,H))!==!1&&(h==null||h(D,H),r(B,j))}).on("end",D=>{p==null||p(D,{...y}),i==null||i({...y})});s.call(R)}function a(){s.on(".drag",null)}return{update:o,destroy:a}}const ZBe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_VERCEL_BRANCH_URL:"xin3-git-main-tzkhoos-projects-e91c6d0b.vercel.app",VITE_VERCEL_DEPLOYMENT_ID:"dpl_CkintzAim2VRewjmyT9bzHGPGPMX",VITE_VERCEL_ENV:"production",VITE_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"lovable-dev[bot]",VITE_VERCEL_GIT_COMMIT_AUTHOR_NAME:"gpt-engineer-app[bot]",VITE_VERCEL_GIT_COMMIT_MESSAGE:"Update advanced mode URL\n\nUpdate the production URL for advanced mode to `https://wonder3.app.n8n.cloud/webhook/ad30832c-1f6b-4293-8eec-85490817e62d`.",VITE_VERCEL_GIT_COMMIT_REF:"main",VITE_VERCEL_GIT_COMMIT_SHA:"df54107d78b1a748b74ac5334ad13c181d0a0a45",VITE_VERCEL_GIT_PREVIOUS_SHA:"",VITE_VERCEL_GIT_PROVIDER:"github",VITE_VERCEL_GIT_PULL_REQUEST_ID:"",VITE_VERCEL_GIT_REPO_ID:"1025276482",VITE_VERCEL_GIT_REPO_OWNER:"tzkhoo",VITE_VERCEL_GIT_REPO_SLUG:"xin-23",VITE_VERCEL_PROJECT_ID:"prj_gCacBh8tacBADM1Yho1mDJA7Xjfi",VITE_VERCEL_PROJECT_PRODUCTION_URL:"bochk.site",VITE_VERCEL_TARGET_ENV:"production",VITE_VERCEL_URL:"xin3-bfucod6qq-tzkhoos-projects-e91c6d0b.vercel.app"},SH=t=>{let e;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,h))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(ZBe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},QBe=t=>t?SH(t):SH,{useDebugValue:JBe}=Qe,{useSyncExternalStoreWithSelector:e5e}=mpe,t5e=t=>t;function Qee(t,e=t5e,n){const r=e5e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return JBe(r),r}const EH=(t,e)=>{const n=QBe(t),r=(i,s=e)=>Qee(n,i,s);return Object.assign(r,n),r},n5e=(t,e)=>t?EH(t,e):EH;function Vn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const iM=T.createContext(null),r5e=iM.Provider,Jee=za.error001();function Kt(t,e){const n=T.useContext(iM);if(n===null)throw new Error(Jee);return Qee(n,t,e)}function In(){const t=T.useContext(iM);if(t===null)throw new Error(Jee);return T.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const MH={display:"none"},i5e={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ete="react-flow__node-desc",tte="react-flow__edge-desc",s5e="react-flow__aria-live",o5e=t=>t.ariaLiveMessage,a5e=t=>t.ariaLabelConfig;function l5e({rfId:t}){const e=Kt(o5e);return S.jsx("div",{id:`${s5e}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:i5e,children:e})}function c5e({rfId:t,disableKeyboardA11y:e}){const n=Kt(a5e);return S.jsxs(S.Fragment,{children:[S.jsx("div",{id:`${ete}-${t}`,style:MH,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),S.jsx("div",{id:`${tte}-${t}`,style:MH,children:n["edge.a11yDescription.default"]}),!e&&S.jsx(l5e,{rfId:t})]})}const sM=T.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=`${t}`.split("-");return S.jsx("div",{className:Mr(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:e})});sM.displayName="Panel";function u5e({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:S.jsx(sM,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:S.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const f5e=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},cw=t=>t.id;function d5e(t,e){return Vn(t.selectedNodes.map(cw),e.selectedNodes.map(cw))&&Vn(t.selectedEdges.map(cw),e.selectedEdges.map(cw))}function h5e({onSelectionChange:t}){const e=In(),{selectedNodes:n,selectedEdges:r}=Kt(f5e,d5e);return T.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const p5e=t=>!!t.onSelectionChangeHandlers;function m5e({onSelectionChange:t}){const e=Kt(p5e);return t||e?S.jsx(h5e,{onSelectionChange:t}):null}const nte=[0,0],g5e={x:0,y:0,zoom:1},v5e=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],TH=[...v5e,"rfId"],y5e=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),AH={translateExtent:R0,nodeOrigin:nte,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function x5e(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=Kt(y5e,Vn),u=In();T.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{f.current=AH,a()}),[]);const f=T.useRef(AH);return T.useEffect(()=>{for(const d of TH){const h=t[d],p=f.current[d];h!==p&&(typeof t[d]>"u"||(d==="nodes"?e(h):d==="edges"?n(h):d==="minZoom"?r(h):d==="maxZoom"?i(h):d==="translateExtent"?s(h):d==="nodeExtent"?o(h):d==="paneClickDistance"?c(h):d==="ariaLabelConfig"?u.setState({ariaLabelConfig:cBe(h)}):d==="fitView"?u.setState({fitViewQueued:h}):d==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[d]:h})))}f.current=t},TH.map(d=>t[d])),null}function CH(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function w5e(t){var r;const[e,n]=T.useState(t==="system"?null:t);return T.useEffect(()=>{if(t!=="system"){n(t);return}const i=CH(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=CH())!=null&&r.matches?"dark":"light"}const PH=typeof document<"u"?document:null;function L0(t=null,e={target:PH,actInsideInputWithModifier:!0}){const[n,r]=T.useState(!1),i=T.useRef(!1),s=T.useRef(new Set([])),[o,a]=T.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((f,d)=>f.concat(...d),[]);return[c,u]}return[[],[]]},[t]);return T.useEffect(()=>{const l=(e==null?void 0:e.target)??PH,c=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const u=h=>{var y,g;if(i.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!i.current||i.current&&!c)&&kee(h))return!1;const v=NH(h.code,a);if(s.current.add(h[v]),RH(o,s.current,!1)){const _=((g=(y=h.composedPath)==null?void 0:y.call(h))==null?void 0:g[0])||h.target,w=(_==null?void 0:_.nodeName)==="BUTTON"||(_==null?void 0:_.nodeName)==="A";e.preventDefault!==!1&&(i.current||!w)&&h.preventDefault(),r(!0)}},f=h=>{const p=NH(h.code,a);RH(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[p]),h.key==="Meta"&&s.current.clear(),i.current=!1},d=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",u),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",u),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[t,r]),n}function RH(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function NH(t,e){return e.includes(t)?"code":"key"}const _5e=()=>{const t=In();return T.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=v3(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:l}=o.getBoundingClientRect(),c={x:e.x-a,y:e.y-l},u=n.snapGrid??i,f=n.snapToGrid??s;return My(c,r,f,u)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=Ub(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function rte(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)b5e(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function b5e(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function ite(t,e){return rte(t,e)}function ste(t,e){return rte(t,e)}function mf(t,e){return{id:t,type:"select",selected:e}}function rp(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(mf(s.id,o)))}return r}function IH({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function DH(t){return{id:t.id,type:"remove"}}const LH=t=>J4e(t),S5e=t=>Cee(t);function ote(t){return T.forwardRef(t)}const E5e=typeof window<"u"?T.useLayoutEffect:T.useEffect;function OH(t){const[e,n]=T.useState(BigInt(0)),[r]=T.useState(()=>M5e(()=>n(i=>i+BigInt(1))));return E5e(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function M5e(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const ate=T.createContext(null);function T5e({children:t}){const e=In(),n=T.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:f,nodeLookup:d,fitViewQueued:h}=e.getState();let p=l;for(const y of a)p=typeof y=="function"?y(p):y;const v=IH({items:p,lookup:d});u&&c(p),v.length>0?f==null||f(v):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:y,nodes:g,setNodes:_}=e.getState();y&&_(g)})},[]),r=OH(n),i=T.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:f,edgeLookup:d}=e.getState();let h=l;for(const p of a)h=typeof p=="function"?p(h):p;u?c(h):f&&f(IH({items:h,lookup:d}))},[]),s=OH(i),o=T.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return S.jsx(ate.Provider,{value:o,children:t})}function A5e(){const t=T.useContext(ate);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const C5e=t=>!!t.panZoom;function S3(){const t=_5e(),e=In(),n=A5e(),r=Kt(C5e),i=T.useMemo(()=>{const s=f=>e.getState().nodeLookup.get(f),o=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},l=f=>{var g,_;const{nodeLookup:d,nodeOrigin:h}=e.getState(),p=LH(f)?f:d.get(f.id),v=p.parentId?Lee(p.position,p.measured,p.parentId,d,h):p.position,y={...p,position:v,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((_=p.measured)==null?void 0:_.height)??p.height};return tm(y)},c=(f,d,h={replace:!1})=>{o(p=>p.map(v=>{if(v.id===f){const y=typeof d=="function"?d(v):d;return h.replace&&LH(y)?y:{...v,...y}}return v}))},u=(f,d,h={replace:!1})=>{a(p=>p.map(v=>{if(v.id===f){const y=typeof d=="function"?d(v):d;return h.replace&&S5e(y)?y:{...v,...y}}return v}))};return{getNodes:()=>e.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=s(f))==null?void 0:d.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=e.getState();return f.map(d=>({...d}))},getEdge:f=>e.getState().edgeLookup.get(f),setNodes:o,setEdges:a,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=e.getState(),[p,v,y]=h;return{nodes:f.map(g=>({...g})),edges:d.map(g=>({...g})),viewport:{x:p,y:v,zoom:y}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:p,onNodesDelete:v,onEdgesDelete:y,triggerNodeChanges:g,triggerEdgeChanges:_,onDelete:w,onBeforeDelete:b}=e.getState(),{nodes:M,edges:A}=await iBe({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:p,onBeforeDelete:b}),C=A.length>0,N=M.length>0;if(C){const R=A.map(DH);y==null||y(A),_(R)}if(N){const R=M.map(DH);v==null||v(M),g(R)}return(N||C)&&(w==null||w({nodes:M,edges:A})),{deletedNodes:M,deletedEdges:A}},getIntersectingNodes:(f,d=!0,h)=>{const p=fH(f),v=p?f:l(f),y=h!==void 0;return v?(h||e.getState().nodes).filter(g=>{const _=e.getState().nodeLookup.get(g.id);if(_&&!p&&(g.id===f.id||!_.internals.positionAbsolute))return!1;const w=tm(y?g:_),b=I0(w,v);return d&&b>0||b>=w.width*w.height||b>=v.width*v.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const v=fH(f)?f:l(f);if(!v)return!1;const y=I0(v,d);return h&&y>0||y>=v.width*v.height},updateNode:c,updateNodeData:(f,d,h={replace:!1})=>{c(f,p=>{const v=typeof d=="function"?d(p):d;return h.replace?{...p,data:v}:{...p,data:{...p.data,...v}}},h)},updateEdge:u,updateEdgeData:(f,d,h={replace:!1})=>{u(f,p=>{const v=typeof d=="function"?d(p):d;return h.replace?{...p,data:v}:{...p,data:{...p.data,...v}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=e.getState();return eBe(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var p;return Array.from(((p=e.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var p;return Array.from(((p=e.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const d=e.getState().fitViewResolver??lBe();return e.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return T.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const kH=t=>t.selected,P5e=typeof window<"u"?window:void 0;function R5e({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=In(),{deleteElements:r}=S3(),i=L0(t,{actInsideInputWithModifier:!1}),s=L0(e,{target:P5e});T.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(kH),edges:o.filter(kH)}),n.setState({nodesSelectionActive:!1})}},[i]),T.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function N5e(t){const e=In();T.useEffect(()=>{const n=()=>{var i,s;if(!t.current)return!1;const r=y3(t.current);(r.height===0||r.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",za.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const oM={position:"absolute",width:"100%",height:"100%",top:0,left:0},I5e=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function D5e({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Yf.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:p,noWheelClassName:v,noPanClassName:y,onViewportChange:g,isControlledViewport:_,paneClickDistance:w}){const b=In(),M=T.useRef(null),{userSelectionActive:A,lib:C}=Kt(I5e,Vn),N=L0(d),R=T.useRef();N5e(M);const D=T.useCallback(F=>{g==null||g({x:F[0],y:F[1],zoom:F[2]}),_||b.setState({transform:F})},[g,_]);return T.useEffect(()=>{if(M.current){R.current=HBe({domNode:M.current,minZoom:u,maxZoom:f,translateExtent:c,viewport:l,paneClickDistance:w,onDraggingChange:I=>b.setState({paneDragging:I}),onPanZoomStart:(I,V)=>{const{onViewportChangeStart:j,onMoveStart:X}=b.getState();X==null||X(I,V),j==null||j(V)},onPanZoom:(I,V)=>{const{onViewportChange:j,onMove:X}=b.getState();X==null||X(I,V),j==null||j(V)},onPanZoomEnd:(I,V)=>{const{onViewportChangeEnd:j,onMoveEnd:X}=b.getState();X==null||X(I,V),j==null||j(V)}});const{x:F,y:U,zoom:$}=R.current.getViewport();return b.setState({panZoom:R.current,transform:[F,U,$],domNode:M.current.closest(".react-flow")}),()=>{var I;(I=R.current)==null||I.destroy()}}},[]),T.useEffect(()=>{var F;(F=R.current)==null||F.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:N,preventScrolling:h,noPanClassName:y,userSelectionActive:A,noWheelClassName:v,lib:C,onTransformChange:D})},[t,e,n,r,i,s,o,a,N,h,y,A,v,C,D]),S.jsx("div",{className:"react-flow__renderer",ref:M,style:oM,children:p})}const L5e=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function O5e(){const{userSelectionActive:t,userSelectionRect:e}=Kt(L5e,Vn);return t&&e?S.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const D2=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},k5e=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function U5e({isSelecting:t,selectionKeyPressed:e,selectionMode:n=N0.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:f,onPaneMouseLeave:d,children:h}){const p=In(),{userSelectionActive:v,elementsSelectable:y,dragging:g,connectionInProgress:_}=Kt(k5e,Vn),w=y&&(t||v),b=T.useRef(null),M=T.useRef(),A=T.useRef(new Set),C=T.useRef(new Set),N=T.useRef(!1),R=T.useRef(!1),D=X=>{if(N.current||_){N.current=!1;return}a==null||a(X),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},F=X=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){X.preventDefault();return}l==null||l(X)},U=c?X=>c(X):void 0,$=X=>{var G,Y;const{resetSelectedElements:L,domNode:k}=p.getState();if(M.current=k==null?void 0:k.getBoundingClientRect(),!y||!t||X.button!==0||X.target!==b.current||!M.current)return;(Y=(G=X.target)==null?void 0:G.setPointerCapture)==null||Y.call(G,X.pointerId),R.current=!0,N.current=!1;const{x:z,y:B}=Ta(X.nativeEvent,M.current);L(),p.setState({userSelectionRect:{width:0,height:0,startX:z,startY:B,x:z,y:B}}),s==null||s(X)},I=X=>{const{userSelectionRect:L,transform:k,nodeLookup:z,edgeLookup:B,connectionLookup:G,triggerNodeChanges:Y,triggerEdgeChanges:Z,defaultEdgeOptions:Q}=p.getState();if(!M.current||!L)return;N.current=!0;const{x:re,y:J}=Ta(X.nativeEvent,M.current),{startX:ae,startY:se}=L,fe={startX:ae,startY:se,x:re<ae?re:ae,y:J<se?J:se,width:Math.abs(re-ae),height:Math.abs(J-se)},ue=A.current,H=C.current;A.current=new Set(g3(z,fe,k,n===N0.Partial,!0).map(le=>le.id)),C.current=new Set;const he=(Q==null?void 0:Q.selectable)??!0;for(const le of A.current){const me=G.get(le);if(me)for(const{edgeId:de}of me.values()){const ke=B.get(de);ke&&(ke.selectable??he)&&C.current.add(de)}}if(!dH(ue,A.current)){const le=rp(z,A.current,!0);Y(le)}if(!dH(H,C.current)){const le=rp(B,C.current);Z(le)}p.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},V=X=>{var k,z;if(X.button!==0||!R.current)return;(z=(k=X.target)==null?void 0:k.releasePointerCapture)==null||z.call(k,X.pointerId);const{userSelectionRect:L}=p.getState();!v&&L&&X.target===b.current&&(D==null||D(X)),p.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:A.current.size>0}),o==null||o(X),(e||i)&&(N.current=!1),R.current=!1},j=r===!0||Array.isArray(r)&&r.includes(0);return S.jsxs("div",{className:Mr(["react-flow__pane",{draggable:j,dragging:g,selection:t}]),onClick:w?void 0:D2(D,b),onContextMenu:D2(F,b),onWheel:D2(U,b),onPointerEnter:w?void 0:u,onPointerDown:w?$:f,onPointerMove:w?I:f,onPointerUp:w?V:void 0,onPointerLeave:d,ref:b,style:oM,children:[h,S.jsx(O5e,{})]})}function vN({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",za.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([t])}function lte({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=In(),[l,c]=T.useState(!1),u=T.useRef();return T.useEffect(()=>{u.current=CBe({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{vN({id:f,store:a,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),T.useEffect(()=>{var f,d;if(e)(f=u.current)==null||f.destroy();else if(t.current)return(d=u.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var h;(h=u.current)==null||h.destroy()}},[n,r,e,s,t,i]),l}const F5e=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function cte(){const t=In();return T.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=t.getState(),f=new Map,d=F5e(o),h=i?s[0]:5,p=i?s[1]:5,v=n.direction.x*h*n.factor,y=n.direction.y*p*n.factor;for(const[,g]of c){if(!d(g))continue;let _={x:g.internals.positionAbsolute.x+v,y:g.internals.positionAbsolute.y+y};i&&(_=nM(_,s));const{position:w,positionAbsolute:b}=Pee({nodeId:g.id,nextPosition:_,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:a});g.position=w,g.internals.positionAbsolute=b,f.set(g.id,g)}l(f)},[])}const E3=T.createContext(null),B5e=E3.Provider;E3.Consumer;const ute=()=>T.useContext(E3),z5e=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),j5e=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,u=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===gd.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:u&&c}};function V5e({type:t="source",position:e=Mt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:f,...d},h){var V,j;const p=o||null,v=t==="target",y=In(),g=ute(),{connectOnClick:_,noPanClassName:w,rfId:b}=Kt(z5e,Vn),{connectingFrom:M,connectingTo:A,clickConnecting:C,isPossibleEndHandle:N,connectionInProcess:R,clickConnectionInProcess:D,valid:F}=Kt(j5e(g,p,t),Vn);g||(j=(V=y.getState()).onError)==null||j.call(V,"010",za.error010());const U=X=>{const{defaultEdgeOptions:L,onConnect:k,hasDefaultEdges:z}=y.getState(),B={...L,...X};if(z){const{edges:G,setEdges:Y}=y.getState();Y(mBe(B,G))}k==null||k(B),a==null||a(B)},$=X=>{if(!g)return;const L=Uee(X.nativeEvent);if(i&&(L&&X.button===0||!L)){const k=y.getState();gN.onPointerDown(X.nativeEvent,{autoPanOnConnect:k.autoPanOnConnect,connectionMode:k.connectionMode,connectionRadius:k.connectionRadius,domNode:k.domNode,nodeLookup:k.nodeLookup,lib:k.lib,isTarget:v,handleId:p,nodeId:g,flowId:k.rfId,panBy:k.panBy,cancelConnection:k.cancelConnection,onConnectStart:k.onConnectStart,onConnectEnd:k.onConnectEnd,updateConnection:k.updateConnection,onConnect:U,isValidConnection:n||k.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:k.autoPanSpeed,dragThreshold:k.connectionDragThreshold})}L?u==null||u(X):f==null||f(X)},I=X=>{const{onClickConnectStart:L,onClickConnectEnd:k,connectionClickStartHandle:z,connectionMode:B,isValidConnection:G,lib:Y,rfId:Z,nodeLookup:Q,connection:re}=y.getState();if(!g||!z&&!i)return;if(!z){L==null||L(X.nativeEvent,{nodeId:g,handleId:p,handleType:t}),y.setState({connectionClickStartHandle:{nodeId:g,type:t,id:p}});return}const J=Oee(X.target),ae=n||G,{connection:se,isValid:fe}=gN.isValid(X.nativeEvent,{handle:{nodeId:g,id:p,type:t},connectionMode:B,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:ae,flowId:Z,doc:J,lib:Y,nodeLookup:Q});fe&&se&&U(se);const ue=structuredClone(re);delete ue.inProgress,ue.toPosition=ue.toHandle?ue.toHandle.position:null,k==null||k(X,ue),y.setState({connectionClickStartHandle:null})};return S.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":e,"data-id":`${b}-${g}-${p}-${t}`,className:Mr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",w,c,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:s,clickconnecting:C,connectingfrom:M,connectingto:A,valid:F,connectionindicator:r&&(!R||N)&&(R||D?s:i)}]),onMouseDown:$,onTouchStart:$,onClick:_?I:void 0,ref:h,...d,children:l})}const Bb=T.memo(ote(V5e));function H5e({data:t,isConnectable:e,sourcePosition:n=Mt.Bottom}){return S.jsxs(S.Fragment,{children:[t==null?void 0:t.label,S.jsx(Bb,{type:"source",position:n,isConnectable:e})]})}function W5e({data:t,isConnectable:e,targetPosition:n=Mt.Top,sourcePosition:r=Mt.Bottom}){return S.jsxs(S.Fragment,{children:[S.jsx(Bb,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,S.jsx(Bb,{type:"source",position:r,isConnectable:e})]})}function G5e(){return null}function $5e({data:t,isConnectable:e,targetPosition:n=Mt.Top}){return S.jsxs(S.Fragment,{children:[S.jsx(Bb,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const zb={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},UH={input:H5e,default:W5e,output:$5e,group:G5e};function X5e(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const Y5e=t=>{const{width:e,height:n,x:r,y:i}=Ey(t.nodeLookup,{filter:s=>!!s.selected});return{width:Ko(e)?e:null,height:Ko(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function K5e({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=In(),{width:i,height:s,transformString:o,userSelectionActive:a}=Kt(Y5e,Vn),l=cte(),c=T.useRef(null);if(T.useEffect(()=>{var d;n||(d=c.current)==null||d.focus({preventScroll:!0})},[n]),lte({nodeRef:c}),a||!i||!s)return null;const u=t?d=>{const h=r.getState().nodes.filter(p=>p.selected);t(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(zb,d.key)&&(d.preventDefault(),l({direction:zb[d.key],factor:d.shiftKey?4:1}))};return S.jsx("div",{className:Mr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:S.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:s}})})}const FH=typeof window<"u"?window:void 0,q5e=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function fte({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:v,zoomActivationKeyCode:y,elementsSelectable:g,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:b,panOnScrollSpeed:M,panOnScrollMode:A,zoomOnDoubleClick:C,panOnDrag:N,defaultViewport:R,translateExtent:D,minZoom:F,maxZoom:U,preventScrolling:$,onSelectionContextMenu:I,noWheelClassName:V,noPanClassName:j,disableKeyboardA11y:X,onViewportChange:L,isControlledViewport:k}){const{nodesSelectionActive:z,userSelectionActive:B}=Kt(q5e),G=L0(c,{target:FH}),Y=L0(v,{target:FH}),Z=Y||N,Q=Y||b,re=u&&Z!==!0,J=G||B||re;return R5e({deleteKeyCode:l,multiSelectionKeyCode:p}),S.jsx(D5e,{onPaneContextMenu:s,elementsSelectable:g,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:Q,panOnScrollSpeed:M,panOnScrollMode:A,zoomOnDoubleClick:C,panOnDrag:!G&&Z,defaultViewport:R,translateExtent:D,minZoom:F,maxZoom:U,zoomActivationKeyCode:y,preventScrolling:$,noWheelClassName:V,noPanClassName:j,onViewportChange:L,isControlledViewport:k,paneClickDistance:a,children:S.jsxs(U5e,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:Z,isSelecting:!!J,selectionMode:f,selectionKeyPressed:G,selectionOnDrag:re,children:[t,z&&S.jsx(K5e,{onSelectionContextMenu:I,noPanClassName:j,disableKeyboardA11y:X})]})})}fte.displayName="FlowRenderer";const Z5e=T.memo(fte),Q5e=t=>e=>t?g3(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function J5e(t){return Kt(T.useCallback(Q5e(t),[t]),Vn)}const eze=t=>t.updateNodeInternals;function tze(){const t=Kt(eze),[e]=T.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return T.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function nze({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=In(),s=T.useRef(null),o=T.useRef(null),a=T.useRef(t.sourcePosition),l=T.useRef(t.targetPosition),c=T.useRef(e),u=n&&!!t.internals.handleBounds;return T.useEffect(()=>{s.current&&!t.hidden&&(!u||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[u,t.hidden]),T.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),T.useEffect(()=>{if(s.current){const f=c.current!==e,d=a.current!==t.sourcePosition,h=l.current!==t.targetPosition;(f||d||h)&&(c.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function rze({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:p,rfId:v,nodeTypes:y,nodeClickDistance:g,onError:_}){const{node:w,internals:b,isParent:M}=Kt(ae=>{const se=ae.nodeLookup.get(t),fe=ae.parentLookup.has(t);return{node:se,internals:se.internals,isParent:fe}},Vn);let A=w.type||"default",C=(y==null?void 0:y[A])||UH[A];C===void 0&&(_==null||_("003",za.error003(A)),A="default",C=(y==null?void 0:y.default)||UH.default);const N=!!(w.draggable||a&&typeof w.draggable>"u"),R=!!(w.selectable||l&&typeof w.selectable>"u"),D=!!(w.connectable||c&&typeof w.connectable>"u"),F=!!(w.focusable||u&&typeof w.focusable>"u"),U=In(),$=Dee(w),I=nze({node:w,nodeType:A,hasDimensions:$,resizeObserver:f}),V=lte({nodeRef:I,disabled:w.hidden||!N,noDragClassName:d,handleSelector:w.dragHandle,nodeId:t,isSelectable:R,nodeClickDistance:g}),j=cte();if(w.hidden)return null;const X=Jl(w),L=X5e(w),k=R||N||e||n||r||i,z=n?ae=>n(ae,{...b.userNode}):void 0,B=r?ae=>r(ae,{...b.userNode}):void 0,G=i?ae=>i(ae,{...b.userNode}):void 0,Y=s?ae=>s(ae,{...b.userNode}):void 0,Z=o?ae=>o(ae,{...b.userNode}):void 0,Q=ae=>{const{selectNodesOnDrag:se,nodeDragThreshold:fe}=U.getState();R&&(!se||!N||fe>0)&&vN({id:t,store:U,nodeRef:I}),e&&e(ae,{...b.userNode})},re=ae=>{if(!(kee(ae.nativeEvent)||p)){if(Eee.includes(ae.key)&&R){const se=ae.key==="Escape";vN({id:t,store:U,unselect:se,nodeRef:I})}else if(N&&w.selected&&Object.prototype.hasOwnProperty.call(zb,ae.key)){ae.preventDefault();const{ariaLabelConfig:se}=U.getState();U.setState({ariaLiveMessage:se["node.a11yDescription.ariaLiveMessage"]({direction:ae.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),j({direction:zb[ae.key],factor:ae.shiftKey?4:1})}}},J=()=>{var le;if(p||!((le=I.current)!=null&&le.matches(":focus-visible")))return;const{transform:ae,width:se,height:fe,autoPanOnNodeFocus:ue,setCenter:H}=U.getState();if(!ue)return;g3(new Map([[t,w]]),{x:0,y:0,width:se,height:fe},ae,!0).length>0||H(w.position.x+X.width/2,w.position.y+X.height/2,{zoom:ae[2]})};return S.jsx("div",{className:Mr(["react-flow__node",`react-flow__node-${A}`,{[h]:N},w.className,{selected:w.selected,selectable:R,parent:M,draggable:N,dragging:V}]),ref:I,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:k?"all":"none",visibility:$?"visible":"hidden",...w.style,...L},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:z,onMouseMove:B,onMouseLeave:G,onContextMenu:Y,onClick:Q,onDoubleClick:Z,onKeyDown:F?re:void 0,tabIndex:F?0:void 0,onFocus:F?J:void 0,role:w.ariaRole??(F?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${ete}-${v}`,"aria-label":w.ariaLabel,...w.domAttributes,children:S.jsx(B5e,{value:t,children:S.jsx(C,{id:t,data:w.data,type:A,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:w.selected??!1,selectable:R,draggable:N,deletable:w.deletable??!0,isConnectable:D,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:V,dragHandle:w.dragHandle,zIndex:b.z,parentId:w.parentId,...X})})})}const ize=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function dte(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Kt(ize,Vn),o=J5e(t.onlyRenderVisibleElements),a=tze();return S.jsx("div",{className:"react-flow__nodes",style:oM,children:o.map(l=>S.jsx(rze,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}dte.displayName="NodeRenderer";const sze=T.memo(dte);function oze(t){return Kt(T.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&dBe({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Vn)}const aze=({color:t="none",strokeWidth:e=1})=>S.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),lze=({color:t="none",strokeWidth:e=1})=>S.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),BH={[Ob.Arrow]:aze,[Ob.ArrowClosed]:lze};function cze(t){const e=In();return T.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(BH,t)?BH[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",za.error009(t)),null)},[t])}const uze=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=cze(e);return l?S.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:S.jsx(l,{color:n,strokeWidth:o})}):null},hte=({defaultColor:t,rfId:e})=>{const n=Kt(s=>s.edges),r=Kt(s=>s.defaultEdgeOptions),i=T.useMemo(()=>wBe(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?S.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:S.jsx("defs",{children:i.map(s=>S.jsx(uze,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};hte.displayName="MarkerDefinitions";var fze=T.memo(hte);function pte({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[f,d]=T.useState({x:1,y:0,width:0,height:0}),h=Mr(["react-flow__edge-textwrapper",c]),p=T.useRef(null);return T.useEffect(()=>{if(p.current){const v=p.current.getBBox();d({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?S.jsxs("g",{transform:`translate(${t-f.width/2} ${e-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...u,children:[i&&S.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),S.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:r,children:n}),l]}):null}pte.displayName="EdgeText";const dze=T.memo(pte);function aM({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return S.jsxs(S.Fragment,{children:[S.jsx("path",{...u,d:t,fill:"none",className:Mr(["react-flow__edge-path",u.className])}),c&&S.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&Ko(e)&&Ko(n)?S.jsx(dze,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function zH({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Mt.Left||t===Mt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function mte({sourceX:t,sourceY:e,sourcePosition:n=Mt.Bottom,targetX:r,targetY:i,targetPosition:s=Mt.Top}){const[o,a]=zH({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=zH({pos:s,x1:r,y1:i,x2:t,y2:e}),[u,f,d,h]=Fee({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,u,f,d,h]}function gte(t){return T.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:y,interactionWidth:g})=>{const[_,w,b]=mte({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),M=t.isInternal?void 0:e;return S.jsx(aM,{id:M,path:_,labelX:w,labelY:b,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:y,interactionWidth:g})})}const hze=gte({isInternal:!1}),vte=gte({isInternal:!0});hze.displayName="SimpleBezierEdge";vte.displayName="SimpleBezierEdgeInternal";function yte(t){return T.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,sourcePosition:h=Mt.Bottom,targetPosition:p=Mt.Top,markerEnd:v,markerStart:y,pathOptions:g,interactionWidth:_})=>{const[w,b,M]=hN({sourceX:n,sourceY:r,sourcePosition:h,targetX:i,targetY:s,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),A=t.isInternal?void 0:e;return S.jsx(aM,{id:A,path:w,labelX:b,labelY:M,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:v,markerStart:y,interactionWidth:_})})}const xte=yte({isInternal:!1}),wte=yte({isInternal:!0});xte.displayName="SmoothStepEdge";wte.displayName="SmoothStepEdgeInternal";function _te(t){return T.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return S.jsx(xte,{...n,id:r,pathOptions:T.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const pze=_te({isInternal:!1}),bte=_te({isInternal:!0});pze.displayName="StepEdge";bte.displayName="StepEdgeInternal";function Ste(t){return T.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:v})=>{const[y,g,_]=jee({sourceX:n,sourceY:r,targetX:i,targetY:s}),w=t.isInternal?void 0:e;return S.jsx(aM,{id:w,path:y,labelX:g,labelY:_,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:v})})}const mze=Ste({isInternal:!1}),Ete=Ste({isInternal:!0});mze.displayName="StraightEdge";Ete.displayName="StraightEdgeInternal";function Mte(t){return T.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Mt.Bottom,targetPosition:a=Mt.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:y,pathOptions:g,interactionWidth:_})=>{const[w,b,M]=Bee({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:g==null?void 0:g.curvature}),A=t.isInternal?void 0:e;return S.jsx(aM,{id:A,path:w,labelX:b,labelY:M,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:y,interactionWidth:_})})}const gze=Mte({isInternal:!1}),Tte=Mte({isInternal:!0});gze.displayName="BezierEdge";Tte.displayName="BezierEdgeInternal";const jH={default:Tte,straight:Ete,step:bte,smoothstep:wte,simplebezier:vte},VH={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},vze=(t,e,n)=>n===Mt.Left?t-e:n===Mt.Right?t+e:t,yze=(t,e,n)=>n===Mt.Top?t-e:n===Mt.Bottom?t+e:t,HH="react-flow__edgeupdater";function WH({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return S.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Mr([HH,`${HH}-${a}`]),cx:vze(e,r,t),cy:yze(n,r,t),r,stroke:"transparent",fill:"transparent"})}function xze({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const p=In(),v=(b,M)=>{if(b.button!==0)return;const{autoPanOnConnect:A,domNode:C,isValidConnection:N,connectionMode:R,connectionRadius:D,lib:F,onConnectStart:U,onConnectEnd:$,cancelConnection:I,nodeLookup:V,rfId:j,panBy:X,updateConnection:L}=p.getState(),k=M.type==="target",z=(Y,Z)=>{d(!1),f==null||f(Y,n,M.type,Z)},B=Y=>c==null?void 0:c(n,Y),G=(Y,Z)=>{d(!0),u==null||u(b,n,M.type),U==null||U(Y,Z)};gN.onPointerDown(b.nativeEvent,{autoPanOnConnect:A,connectionMode:R,connectionRadius:D,domNode:C,handleId:M.id,nodeId:M.nodeId,nodeLookup:V,isTarget:k,edgeUpdaterType:M.type,lib:F,flowId:j,cancelConnection:I,panBy:X,isValidConnection:N,onConnect:B,onConnectStart:G,onConnectEnd:$,onReconnectEnd:z,updateConnection:L,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold})},y=b=>v(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),g=b=>v(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),_=()=>h(!0),w=()=>h(!1);return S.jsxs(S.Fragment,{children:[(t===!0||t==="source")&&S.jsx(WH,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:y,onMouseEnter:_,onMouseOut:w,type:"source"}),(t===!0||t==="target")&&S.jsx(WH,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:g,onMouseEnter:_,onMouseOut:w,type:"target"})]})}function wze({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:p,edgeTypes:v,noPanClassName:y,onError:g,disableKeyboardA11y:_}){let w=Kt(H=>H.edgeLookup.get(t));const b=Kt(H=>H.defaultEdgeOptions);w=b?{...b,...w}:w;let M=w.type||"default",A=(v==null?void 0:v[M])||jH[M];A===void 0&&(g==null||g("011",za.error011(M)),M="default",A=(v==null?void 0:v.default)||jH.default);const C=!!(w.focusable||e&&typeof w.focusable>"u"),N=typeof f<"u"&&(w.reconnectable||n&&typeof w.reconnectable>"u"),R=!!(w.selectable||r&&typeof w.selectable>"u"),D=T.useRef(null),[F,U]=T.useState(!1),[$,I]=T.useState(!1),V=In(),{zIndex:j,sourceX:X,sourceY:L,targetX:k,targetY:z,sourcePosition:B,targetPosition:G}=Kt(T.useCallback(H=>{const he=H.nodeLookup.get(w.source),le=H.nodeLookup.get(w.target);if(!he||!le)return{zIndex:w.zIndex,...VH};const me=xBe({id:t,sourceNode:he,targetNode:le,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:H.connectionMode,onError:g});return{zIndex:fBe({selected:w.selected,zIndex:w.zIndex,sourceNode:he,targetNode:le,elevateOnSelect:H.elevateEdgesOnSelect}),...me||VH}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),Vn),Y=T.useMemo(()=>w.markerStart?`url('#${pN(w.markerStart,p)}')`:void 0,[w.markerStart,p]),Z=T.useMemo(()=>w.markerEnd?`url('#${pN(w.markerEnd,p)}')`:void 0,[w.markerEnd,p]);if(w.hidden||X===null||L===null||k===null||z===null)return null;const Q=H=>{var de;const{addSelectedEdges:he,unselectNodesAndEdges:le,multiSelectionActive:me}=V.getState();R&&(V.setState({nodesSelectionActive:!1}),w.selected&&me?(le({nodes:[],edges:[w]}),(de=D.current)==null||de.blur()):he([t])),i&&i(H,w)},re=s?H=>{s(H,{...w})}:void 0,J=o?H=>{o(H,{...w})}:void 0,ae=a?H=>{a(H,{...w})}:void 0,se=l?H=>{l(H,{...w})}:void 0,fe=c?H=>{c(H,{...w})}:void 0,ue=H=>{var he;if(!_&&Eee.includes(H.key)&&R){const{unselectNodesAndEdges:le,addSelectedEdges:me}=V.getState();H.key==="Escape"?((he=D.current)==null||he.blur(),le({edges:[w]})):me([t])}};return S.jsx("svg",{style:{zIndex:j},children:S.jsxs("g",{className:Mr(["react-flow__edge",`react-flow__edge-${M}`,w.className,y,{selected:w.selected,animated:w.animated,inactive:!R&&!i,updating:F,selectable:R}]),onClick:Q,onDoubleClick:re,onContextMenu:J,onMouseEnter:ae,onMouseMove:se,onMouseLeave:fe,onKeyDown:C?ue:void 0,tabIndex:C?0:void 0,role:w.ariaRole??(C?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":C?`${tte}-${p}`:void 0,ref:D,...w.domAttributes,children:[!$&&S.jsx(A,{id:t,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:R,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:X,sourceY:L,targetX:k,targetY:z,sourcePosition:B,targetPosition:G,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:Y,markerEnd:Z,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),N&&S.jsx(xze,{edge:w,isReconnectable:N,reconnectRadius:u,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:X,sourceY:L,targetX:k,targetY:z,sourcePosition:B,targetPosition:G,setUpdateHover:U,setReconnecting:I})]})})}const _ze=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Ate({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:v}){const{edgesFocusable:y,edgesReconnectable:g,elementsSelectable:_,onError:w}=Kt(_ze,Vn),b=oze(e);return S.jsxs("div",{className:"react-flow__edges",children:[S.jsx(fze,{defaultColor:t,rfId:n}),b.map(M=>S.jsx(wze,{id:M,edgesFocusable:y,edgesReconnectable:g,elementsSelectable:_,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:v},M))]})}Ate.displayName="EdgeRenderer";const bze=T.memo(Ate),Sze=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Eze({children:t}){const e=Kt(Sze);return S.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Mze(t){const e=S3(),n=T.useRef(!1);T.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Tze=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function Aze(t){const e=Kt(Tze),n=In();return T.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Cze(t){return t.connection.inProgress?{...t.connection,to:My(t.connection.to,t.transform)}:{...t.connection}}function Pze(t){return Cze}function Rze(t){const e=Pze();return Kt(e,Vn)}const Nze=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Ize({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=Kt(Nze,Vn);return!(s&&i&&l)?null:S.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:S.jsx("g",{className:Mr(["react-flow__connection",Aee(a)]),children:S.jsx(Cte,{style:e,type:n,CustomComponent:r,isValid:a})})})}const Cte=({style:t,type:e=kc.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:f,toPosition:d}=Rze();if(!i)return;if(n)return S.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:d,connectionStatus:Aee(r),toNode:u,toHandle:f});let h="";const p={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:d};switch(e){case kc.Bezier:[h]=Bee(p);break;case kc.SimpleBezier:[h]=mte(p);break;case kc.Step:[h]=hN({...p,borderRadius:0});break;case kc.SmoothStep:[h]=hN(p);break;default:[h]=jee(p)}return S.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:t})};Cte.displayName="ConnectionLine";const Dze={};function GH(t=Dze){T.useRef(t),In(),T.useEffect(()=>{},[t])}function Lze(){In(),T.useRef(!1),T.useEffect(()=>{},[])}function Pte({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:v,connectionLineComponent:y,connectionLineContainerStyle:g,selectionKeyCode:_,selectionOnDrag:w,selectionMode:b,multiSelectionKeyCode:M,panActivationKeyCode:A,zoomActivationKeyCode:C,deleteKeyCode:N,onlyRenderVisibleElements:R,elementsSelectable:D,defaultViewport:F,translateExtent:U,minZoom:$,maxZoom:I,preventScrolling:V,defaultMarkerColor:j,zoomOnScroll:X,zoomOnPinch:L,panOnScroll:k,panOnScrollSpeed:z,panOnScrollMode:B,zoomOnDoubleClick:G,panOnDrag:Y,onPaneClick:Z,onPaneMouseEnter:Q,onPaneMouseMove:re,onPaneMouseLeave:J,onPaneScroll:ae,onPaneContextMenu:se,paneClickDistance:fe,nodeClickDistance:ue,onEdgeContextMenu:H,onEdgeMouseEnter:he,onEdgeMouseMove:le,onEdgeMouseLeave:me,reconnectRadius:de,onReconnect:ke,onReconnectStart:_e,onReconnectEnd:q,noDragClassName:K,noWheelClassName:ne,noPanClassName:be,disableKeyboardA11y:pe,nodeExtent:ve,rfId:Re,viewport:Be,onViewportChange:Te}){return GH(t),GH(e),Lze(),Mze(n),Aze(Be),S.jsx(Z5e,{onPaneClick:Z,onPaneMouseEnter:Q,onPaneMouseMove:re,onPaneMouseLeave:J,onPaneContextMenu:se,onPaneScroll:ae,paneClickDistance:fe,deleteKeyCode:N,selectionKeyCode:_,selectionOnDrag:w,selectionMode:b,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:M,panActivationKeyCode:A,zoomActivationKeyCode:C,elementsSelectable:D,zoomOnScroll:X,zoomOnPinch:L,zoomOnDoubleClick:G,panOnScroll:k,panOnScrollSpeed:z,panOnScrollMode:B,panOnDrag:Y,defaultViewport:F,translateExtent:U,minZoom:$,maxZoom:I,onSelectionContextMenu:f,preventScrolling:V,noDragClassName:K,noWheelClassName:ne,noPanClassName:be,disableKeyboardA11y:pe,onViewportChange:Te,isControlledViewport:!!Be,children:S.jsxs(Eze,{children:[S.jsx(bze,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:ke,onReconnectStart:_e,onReconnectEnd:q,onlyRenderVisibleElements:R,onEdgeContextMenu:H,onEdgeMouseEnter:he,onEdgeMouseMove:le,onEdgeMouseLeave:me,reconnectRadius:de,defaultMarkerColor:j,noPanClassName:be,disableKeyboardA11y:pe,rfId:Re}),S.jsx(Ize,{style:v,type:p,component:y,containerStyle:g}),S.jsx("div",{className:"react-flow__edgelabel-renderer"}),S.jsx(sze,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:ue,onlyRenderVisibleElements:R,noPanClassName:be,noDragClassName:K,disableKeyboardA11y:pe,nodeExtent:ve,rfId:Re}),S.jsx("div",{className:"react-flow__viewport-portal"})]})})}Pte.displayName="GraphView";const Oze=T.memo(Pte),$H=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:f}={})=>{const d=new Map,h=new Map,p=new Map,v=new Map,y=r??e??[],g=n??t??[],_=u??[0,0],w=f??R0;Hee(p,v,y);const b=mN(g,d,h,{nodeOrigin:_,nodeExtent:w,elevateNodesOnSelect:!1});let M=[0,0,1];if(o&&i&&s){const A=Ey(d,{filter:D=>!!((D.width||D.initialWidth)&&(D.height||D.initialHeight))}),{x:C,y:N,zoom:R}=v3(A,i,s,l,c,(a==null?void 0:a.padding)??.1);M=[C,N,R]}return{rfId:"1",width:0,height:0,transform:M,nodes:g,nodesInitialized:b,nodeLookup:d,parentLookup:h,edges:y,edgeLookup:v,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:R0,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:gd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Tee},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:sBe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Mee}},kze=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:f})=>n5e((d,h)=>{async function p(){const{nodeLookup:v,panZoom:y,fitViewOptions:g,fitViewResolver:_,width:w,height:b,minZoom:M,maxZoom:A}=h();y&&(await rBe({nodes:v,width:w,height:b,panZoom:y,minZoom:M,maxZoom:A},g),_==null||_.resolve(!0),d({fitViewResolver:null}))}return{...$H({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:v=>{const{nodeLookup:y,parentLookup:g,nodeOrigin:_,elevateNodesOnSelect:w,fitViewQueued:b}=h(),M=mN(v,y,g,{nodeOrigin:_,nodeExtent:f,elevateNodesOnSelect:w,checkEquality:!0});b&&M?(p(),d({nodes:v,nodesInitialized:M,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:v,nodesInitialized:M})},setEdges:v=>{const{connectionLookup:y,edgeLookup:g}=h();Hee(y,g,v),d({edges:v})},setDefaultNodesAndEdges:(v,y)=>{if(v){const{setNodes:g}=h();g(v),d({hasDefaultNodes:!0})}if(y){const{setEdges:g}=h();g(y),d({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:y,nodeLookup:g,parentLookup:_,domNode:w,nodeOrigin:b,nodeExtent:M,debug:A,fitViewQueued:C}=h(),{changes:N,updatedInternals:R}=MBe(v,g,_,w,b,M);R&&(bBe(g,_,{nodeOrigin:b,nodeExtent:M}),C?(p(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(N==null?void 0:N.length)>0&&(A&&console.log("React Flow: trigger node changes",N),y==null||y(N)))},updateNodePositions:(v,y=!1)=>{const g=[],_=[],{nodeLookup:w,triggerNodeChanges:b}=h();for(const[M,A]of v){const C=w.get(M),N=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(A!=null&&A.position)),R={id:M,type:"position",position:N?{x:Math.max(0,A.position.x),y:Math.max(0,A.position.y)}:A.position,dragging:y};N&&C.parentId&&g.push({id:M,parentId:C.parentId,rect:{...A.internals.positionAbsolute,width:A.measured.width??0,height:A.measured.height??0}}),_.push(R)}if(g.length>0){const{parentLookup:M,nodeOrigin:A}=h(),C=b3(g,w,M,A);_.push(...C)}b(_)},triggerNodeChanges:v=>{const{onNodesChange:y,setNodes:g,nodes:_,hasDefaultNodes:w,debug:b}=h();if(v!=null&&v.length){if(w){const M=ite(v,_);g(M)}b&&console.log("React Flow: trigger node changes",v),y==null||y(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:y,setEdges:g,edges:_,hasDefaultEdges:w,debug:b}=h();if(v!=null&&v.length){if(w){const M=ste(v,_);g(M)}b&&console.log("React Flow: trigger edge changes",v),y==null||y(v)}},addSelectedNodes:v=>{const{multiSelectionActive:y,edgeLookup:g,nodeLookup:_,triggerNodeChanges:w,triggerEdgeChanges:b}=h();if(y){const M=v.map(A=>mf(A,!0));w(M);return}w(rp(_,new Set([...v]),!0)),b(rp(g))},addSelectedEdges:v=>{const{multiSelectionActive:y,edgeLookup:g,nodeLookup:_,triggerNodeChanges:w,triggerEdgeChanges:b}=h();if(y){const M=v.map(A=>mf(A,!0));b(M);return}b(rp(g,new Set([...v]))),w(rp(_,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:y}={})=>{const{edges:g,nodes:_,nodeLookup:w,triggerNodeChanges:b,triggerEdgeChanges:M}=h(),A=v||_,C=y||g,N=A.map(D=>{const F=w.get(D.id);return F&&(F.selected=!1),mf(D.id,!1)}),R=C.map(D=>mf(D.id,!1));b(N),M(R)},setMinZoom:v=>{const{panZoom:y,maxZoom:g}=h();y==null||y.setScaleExtent([v,g]),d({minZoom:v})},setMaxZoom:v=>{const{panZoom:y,minZoom:g}=h();y==null||y.setScaleExtent([g,v]),d({maxZoom:v})},setTranslateExtent:v=>{var y;(y=h().panZoom)==null||y.setTranslateExtent(v),d({translateExtent:v})},setPaneClickDistance:v=>{var y;(y=h().panZoom)==null||y.setClickDistance(v)},resetSelectedElements:()=>{const{edges:v,nodes:y,triggerNodeChanges:g,triggerEdgeChanges:_,elementsSelectable:w}=h();if(!w)return;const b=y.reduce((A,C)=>C.selected?[...A,mf(C.id,!1)]:A,[]),M=v.reduce((A,C)=>C.selected?[...A,mf(C.id,!1)]:A,[]);g(b),_(M)},setNodeExtent:v=>{const{nodes:y,nodeLookup:g,parentLookup:_,nodeOrigin:w,elevateNodesOnSelect:b,nodeExtent:M}=h();v[0][0]===M[0][0]&&v[0][1]===M[0][1]&&v[1][0]===M[1][0]&&v[1][1]===M[1][1]||(mN(y,g,_,{nodeOrigin:w,nodeExtent:v,elevateNodesOnSelect:b,checkEquality:!1}),d({nodeExtent:v}))},panBy:v=>{const{transform:y,width:g,height:_,panZoom:w,translateExtent:b}=h();return TBe({delta:v,panZoom:w,transform:y,translateExtent:b,width:g,height:_})},setCenter:async(v,y,g)=>{const{width:_,height:w,maxZoom:b,panZoom:M}=h();if(!M)return Promise.resolve(!1);const A=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:b;return await M.setViewport({x:_/2-v*A,y:w/2-y*A,zoom:A},{duration:g==null?void 0:g.duration,ease:g==null?void 0:g.ease,interpolate:g==null?void 0:g.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...Tee}})},updateConnection:v=>{d({connection:v})},reset:()=>d({...$H()})}},Object.is);function Uze({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:u,nodeExtent:f,children:d}){const[h]=T.useState(()=>kze({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:c,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:u,nodeExtent:f}));return S.jsx(r5e,{value:h,children:S.jsx(T5e,{children:d})})}function Fze({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:f,nodeExtent:d}){return T.useContext(iM)?S.jsx(S.Fragment,{children:t}):S.jsx(Uze,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:f,nodeExtent:d,children:t})}const Bze={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function zze({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:g,onNodeMouseEnter:_,onNodeMouseMove:w,onNodeMouseLeave:b,onNodeContextMenu:M,onNodeDoubleClick:A,onNodeDragStart:C,onNodeDrag:N,onNodeDragStop:R,onNodesDelete:D,onEdgesDelete:F,onDelete:U,onSelectionChange:$,onSelectionDragStart:I,onSelectionDrag:V,onSelectionDragStop:j,onSelectionContextMenu:X,onSelectionStart:L,onSelectionEnd:k,onBeforeDelete:z,connectionMode:B,connectionLineType:G=kc.Bezier,connectionLineStyle:Y,connectionLineComponent:Z,connectionLineContainerStyle:Q,deleteKeyCode:re="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ae=!1,selectionMode:se=N0.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ue=Fb()?"Meta":"Control",zoomActivationKeyCode:H=Fb()?"Meta":"Control",snapToGrid:he,snapGrid:le,onlyRenderVisibleElements:me=!1,selectNodesOnDrag:de,nodesDraggable:ke,autoPanOnNodeFocus:_e,nodesConnectable:q,nodesFocusable:K,nodeOrigin:ne=nte,edgesFocusable:be,edgesReconnectable:pe,elementsSelectable:ve=!0,defaultViewport:Re=g5e,minZoom:Be=.5,maxZoom:Te=2,translateExtent:je=R0,preventScrolling:$e=!0,nodeExtent:Ae,defaultMarkerColor:st="#b1b1b7",zoomOnScroll:tt=!0,zoomOnPinch:Xe=!0,panOnScroll:Ge=!1,panOnScrollSpeed:Ie=.5,panOnScrollMode:oe=Yf.Free,zoomOnDoubleClick:Ce=!0,panOnDrag:De=!0,onPaneClick:Ue,onPaneMouseEnter:xe,onPaneMouseMove:ce,onPaneMouseLeave:We,onPaneScroll:ze,onPaneContextMenu:Ye,paneClickDistance:Ze=0,nodeClickDistance:ut=0,children:et,onReconnect:xt,onReconnectStart:Dt,onReconnectEnd:bt,onEdgeContextMenu:Vt,onEdgeDoubleClick:vn,onEdgeMouseEnter:ui,onEdgeMouseMove:qr,onEdgeMouseLeave:Zr,reconnectRadius:Lr=10,onNodesChange:Or,onEdgesChange:Wn,noDragClassName:Ji="nodrag",noWheelClassName:ec="nowheel",noPanClassName:ua="nopan",fitView:tc,fitViewOptions:ee,connectOnClick:we,attributionPosition:Me,proOptions:Pe,defaultEdgeOptions:Ee,elevateNodesOnSelect:nt,elevateEdgesOnSelect:dt,disableKeyboardA11y:mt=!1,autoPanOnConnect:He,autoPanOnNodeDrag:_t,autoPanSpeed:Tt,connectionRadius:wt,isValidConnection:an,onError:Gn,style:sn,id:yn,nodeDragThreshold:yt,connectionDragThreshold:at,viewport:Tr,onViewportChange:Pt,width:hn,height:Di,colorMode:mr="light",debug:An,onScroll:qt,ariaLabelConfig:fi,...$s},Dn){const tr=yn||"1",Qr=w5e(mr),Mo=T.useCallback(fa=>{fa.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),qt==null||qt(fa)},[qt]);return S.jsx("div",{"data-testid":"rf__wrapper",...$s,onScroll:Mo,style:{...sn,...Bze},ref:Dn,className:Mr(["react-flow",i,Qr]),id:yn,role:"application",children:S.jsxs(Fze,{nodes:t,edges:e,width:hn,height:Di,fitView:tc,fitViewOptions:ee,minZoom:Be,maxZoom:Te,nodeOrigin:ne,nodeExtent:Ae,children:[S.jsx(Oze,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:_,onNodeMouseMove:w,onNodeMouseLeave:b,onNodeContextMenu:M,onNodeDoubleClick:A,nodeTypes:s,edgeTypes:o,connectionLineType:G,connectionLineStyle:Y,connectionLineComponent:Z,connectionLineContainerStyle:Q,selectionKeyCode:J,selectionOnDrag:ae,selectionMode:se,deleteKeyCode:re,multiSelectionKeyCode:ue,panActivationKeyCode:fe,zoomActivationKeyCode:H,onlyRenderVisibleElements:me,defaultViewport:Re,translateExtent:je,minZoom:Be,maxZoom:Te,preventScrolling:$e,zoomOnScroll:tt,zoomOnPinch:Xe,zoomOnDoubleClick:Ce,panOnScroll:Ge,panOnScrollSpeed:Ie,panOnScrollMode:oe,panOnDrag:De,onPaneClick:Ue,onPaneMouseEnter:xe,onPaneMouseMove:ce,onPaneMouseLeave:We,onPaneScroll:ze,onPaneContextMenu:Ye,paneClickDistance:Ze,nodeClickDistance:ut,onSelectionContextMenu:X,onSelectionStart:L,onSelectionEnd:k,onReconnect:xt,onReconnectStart:Dt,onReconnectEnd:bt,onEdgeContextMenu:Vt,onEdgeDoubleClick:vn,onEdgeMouseEnter:ui,onEdgeMouseMove:qr,onEdgeMouseLeave:Zr,reconnectRadius:Lr,defaultMarkerColor:st,noDragClassName:Ji,noWheelClassName:ec,noPanClassName:ua,rfId:tr,disableKeyboardA11y:mt,nodeExtent:Ae,viewport:Tr,onViewportChange:Pt}),S.jsx(x5e,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:g,nodesDraggable:ke,autoPanOnNodeFocus:_e,nodesConnectable:q,nodesFocusable:K,edgesFocusable:be,edgesReconnectable:pe,elementsSelectable:ve,elevateNodesOnSelect:nt,elevateEdgesOnSelect:dt,minZoom:Be,maxZoom:Te,nodeExtent:Ae,onNodesChange:Or,onEdgesChange:Wn,snapToGrid:he,snapGrid:le,connectionMode:B,translateExtent:je,connectOnClick:we,defaultEdgeOptions:Ee,fitView:tc,fitViewOptions:ee,onNodesDelete:D,onEdgesDelete:F,onDelete:U,onNodeDragStart:C,onNodeDrag:N,onNodeDragStop:R,onSelectionDrag:V,onSelectionDragStart:I,onSelectionDragStop:j,onMove:u,onMoveStart:f,onMoveEnd:d,noPanClassName:ua,nodeOrigin:ne,rfId:tr,autoPanOnConnect:He,autoPanOnNodeDrag:_t,autoPanSpeed:Tt,onError:Gn,connectionRadius:wt,isValidConnection:an,selectNodesOnDrag:de,nodeDragThreshold:yt,connectionDragThreshold:at,onBeforeDelete:z,paneClickDistance:Ze,debug:An,ariaLabelConfig:fi}),S.jsx(m5e,{onSelectionChange:$}),et,S.jsx(u5e,{proOptions:Pe,position:Me}),S.jsx(c5e,{rfId:tr,disableKeyboardA11y:mt})]})})}var jze=ote(zze);function Vze(t){const[e,n]=T.useState(t),r=T.useCallback(i=>n(s=>ite(i,s)),[]);return[e,n,r]}function Hze(t){const[e,n]=T.useState(t),r=T.useCallback(i=>n(s=>ste(i,s)),[]);return[e,n,r]}function Wze({dimensions:t,lineWidth:e,variant:n,className:r}){return S.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Mr(["react-flow__background-pattern",n,r])})}function Gze({radius:t,className:e}){return S.jsx("circle",{cx:t,cy:t,r:t,className:Mr(["react-flow__background-pattern","dots",e])})}var ou;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ou||(ou={}));const $ze={[ou.Dots]:1,[ou.Lines]:1,[ou.Cross]:6},Xze=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Rte({id:t,variant:e=ou.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:u}){const f=T.useRef(null),{transform:d,patternId:h}=Kt(Xze,Vn),p=r||$ze[e],v=e===ou.Dots,y=e===ou.Cross,g=Array.isArray(n)?n:[n,n],_=[g[0]*d[2]||1,g[1]*d[2]||1],w=p*d[2],b=Array.isArray(s)?s:[s,s],M=y?[w,w]:_,A=[b[0]*d[2]||1+M[0]/2,b[1]*d[2]||1+M[1]/2],C=`${h}${t||""}`;return S.jsxs("svg",{className:Mr(["react-flow__background",c]),style:{...l,...oM,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[S.jsx("pattern",{id:C,x:d[0]%_[0],y:d[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`,children:v?S.jsx(Gze,{radius:w/2,className:u}):S.jsx(Wze,{dimensions:M,lineWidth:i,variant:e,className:u})}),S.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}Rte.displayName="Background";const Yze=T.memo(Rte);function Kze(){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:S.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function qze(){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:S.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Zze(){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:S.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Qze(){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:S.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Jze(){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:S.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function uw({children:t,className:e,...n}){return S.jsx("button",{type:"button",className:Mr(["react-flow__controls-button",e]),...n,children:t})}const eje=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function Nte({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:u,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const p=In(),{isInteractive:v,minZoomReached:y,maxZoomReached:g,ariaLabelConfig:_}=Kt(eje,Vn),{zoomIn:w,zoomOut:b,fitView:M}=S3(),A=()=>{w(),s==null||s()},C=()=>{b(),o==null||o()},N=()=>{M(i),a==null||a()},R=()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l==null||l(!v)},D=d==="horizontal"?"horizontal":"vertical";return S.jsxs(sM,{className:Mr(["react-flow__controls",D,c]),position:f,style:t,"data-testid":"rf__controls","aria-label":h??_["controls.ariaLabel"],children:[e&&S.jsxs(S.Fragment,{children:[S.jsx(uw,{onClick:A,className:"react-flow__controls-zoomin",title:_["controls.zoomIn.ariaLabel"],"aria-label":_["controls.zoomIn.ariaLabel"],disabled:g,children:S.jsx(Kze,{})}),S.jsx(uw,{onClick:C,className:"react-flow__controls-zoomout",title:_["controls.zoomOut.ariaLabel"],"aria-label":_["controls.zoomOut.ariaLabel"],disabled:y,children:S.jsx(qze,{})})]}),n&&S.jsx(uw,{className:"react-flow__controls-fitview",onClick:N,title:_["controls.fitView.ariaLabel"],"aria-label":_["controls.fitView.ariaLabel"],children:S.jsx(Zze,{})}),r&&S.jsx(uw,{className:"react-flow__controls-interactive",onClick:R,title:_["controls.interactive.ariaLabel"],"aria-label":_["controls.interactive.ariaLabel"],children:v?S.jsx(Jze,{}):S.jsx(Qze,{})}),u]})}Nte.displayName="Controls";const tje=T.memo(Nte);function nje({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:f,selected:d,onClick:h}){const{background:p,backgroundColor:v}=s||{},y=o||p||v;return S.jsx("rect",{className:Mr(["react-flow__minimap-node",{selected:d},c]),x:e,y:n,rx:u,ry:u,width:r,height:i,style:{fill:y,stroke:a,strokeWidth:l},shapeRendering:f,onClick:h?g=>h(g,t):void 0})}const rje=T.memo(nje),ije=t=>t.nodes.map(e=>e.id),L2=t=>t instanceof Function?t:()=>t;function sje({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=rje,onClick:o}){const a=Kt(ije,Vn),l=L2(e),c=L2(t),u=L2(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return S.jsx(S.Fragment,{children:a.map(d=>S.jsx(aje,{id:d,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:f},d))})}function oje({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:u,y:f,width:d,height:h}=Kt(p=>{const{internals:v}=p.nodeLookup.get(t),y=v.userNode,{x:g,y:_}=v.positionAbsolute,{width:w,height:b}=Jl(y);return{node:y,x:g,y:_,width:w,height:b}},Vn);return!c||c.hidden||!Dee(c)?null:S.jsx(a,{x:u,y:f,width:d,height:h,style:c.style,selected:!!c.selected,className:r(c),color:e(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const aje=T.memo(oje);var lje=T.memo(sje);const cje=200,uje=150,fje=t=>!t.hidden,dje=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?Iee(Ey(t.nodeLookup,{filter:fje}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},hje="react-flow__minimap-desc";function Ite({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:v=!1,zoomable:y=!1,ariaLabel:g,inversePan:_,zoomStep:w=10,offsetScale:b=5}){const M=In(),A=T.useRef(null),{boundingRect:C,viewBB:N,rfId:R,panZoom:D,translateExtent:F,flowWidth:U,flowHeight:$,ariaLabelConfig:I}=Kt(dje,Vn),V=(t==null?void 0:t.width)??cje,j=(t==null?void 0:t.height)??uje,X=C.width/V,L=C.height/j,k=Math.max(X,L),z=k*V,B=k*j,G=b*k,Y=C.x-(z-C.width)/2-G,Z=C.y-(B-C.height)/2-G,Q=z+G*2,re=B+G*2,J=`${hje}-${R}`,ae=T.useRef(0),se=T.useRef();ae.current=k,T.useEffect(()=>{if(A.current&&D)return se.current=LBe({domNode:A.current,panZoom:D,getTransform:()=>M.getState().transform,getViewScale:()=>ae.current}),()=>{var he;(he=se.current)==null||he.destroy()}},[D]),T.useEffect(()=>{var he;(he=se.current)==null||he.update({translateExtent:F,width:U,height:$,inversePan:_,pannable:v,zoomStep:w,zoomable:y})},[v,y,_,w,F,U,$]);const fe=h?he=>{var de;const[le,me]=((de=se.current)==null?void 0:de.pointer(he))||[0,0];h(he,{x:le,y:me})}:void 0,ue=p?T.useCallback((he,le)=>{const me=M.getState().nodeLookup.get(le).internals.userNode;p(he,me)},[]):void 0,H=g??I["minimap.ariaLabel"];return S.jsx(sM,{position:d,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*k:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Mr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:S.jsxs("svg",{width:V,height:j,viewBox:`${Y} ${Z} ${Q} ${re}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":J,ref:A,onClick:fe,children:[H&&S.jsx("title",{id:J,children:H}),S.jsx(lje,{onClick:ue,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),S.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-G},${Z-G}h${Q+G*2}v${re+G*2}h${-Q-G*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Ite.displayName="MiniMap";T.memo(Ite);const pje=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,mje={[rm.Line]:"right",[rm.Handle]:"bottom-right"};function gje({nodeId:t,position:e,variant:n=rm.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:p,onResizeStart:v,onResize:y,onResizeEnd:g}){const _=ute(),w=typeof t=="string"?t:_,b=In(),M=T.useRef(null),A=n===rm.Handle,C=Kt(T.useCallback(pje(A&&h),[A,h]),Vn),N=T.useRef(null),R=e??mje[n];T.useEffect(()=>{if(!(!M.current||!w))return N.current||(N.current=qBe({domNode:M.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:F,transform:U,snapGrid:$,snapToGrid:I,nodeOrigin:V,domNode:j}=b.getState();return{nodeLookup:F,transform:U,snapGrid:$,snapToGrid:I,nodeOrigin:V,paneDomNode:j}},onChange:(F,U)=>{const{triggerNodeChanges:$,nodeLookup:I,parentLookup:V,nodeOrigin:j}=b.getState(),X=[],L={x:F.x,y:F.y},k=I.get(w);if(k&&k.expandParent&&k.parentId){const z=k.origin??j,B=F.width??k.measured.width??0,G=F.height??k.measured.height??0,Y={id:k.id,parentId:k.parentId,rect:{width:B,height:G,...Lee({x:F.x??k.position.x,y:F.y??k.position.y},{width:B,height:G},k.parentId,I,z)}},Z=b3([Y],I,V,j);X.push(...Z),L.x=F.x?Math.max(z[0]*B,F.x):void 0,L.y=F.y?Math.max(z[1]*G,F.y):void 0}if(L.x!==void 0&&L.y!==void 0){const z={id:w,type:"position",position:{...L}};X.push(z)}if(F.width!==void 0&&F.height!==void 0){const B={id:w,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:F.width,height:F.height}};X.push(B)}for(const z of U){const B={...z,type:"position"};X.push(B)}$(X)},onEnd:({width:F,height:U})=>{const $={id:w,type:"dimensions",resizing:!1,dimensions:{width:F,height:U}};b.getState().triggerNodeChanges([$])}})),N.current.update({controlPosition:R,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:f,resizeDirection:d,onResizeStart:v,onResize:y,onResizeEnd:g,shouldResize:p}),()=>{var F;(F=N.current)==null||F.destroy()}},[R,a,l,c,u,f,v,y,g,p]);const D=R.split("-");return S.jsx("div",{className:Mr(["react-flow__resize-control","nodrag",...D,n,r]),ref:M,style:{...i,scale:C,...o&&{[A?"backgroundColor":"borderColor"]:o}},children:s})}T.memo(gje);const vje=t=>{const e=[{id:"portfolio",type:"input",position:{x:0,y:200},data:{label:S.jsxs("div",{className:"text-center p-4",children:[S.jsx("div",{className:"font-bold text-lg",children:"Your Portfolio"}),S.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Value"})]})},style:{background:"hsl(var(--primary) / 0.1)",border:"2px solid hsl(var(--primary))",borderRadius:"12px",width:200,height:80}}];return t.forEach((n,r)=>{const i=r*120+50,s=400;e.push({id:n.id,position:{x:s,y:i},data:{label:S.jsxs("div",{className:"text-center p-3",children:[S.jsx("div",{className:"font-semibold",children:n.name}),S.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.percentage,"%"]}),S.jsx("div",{className:"text-xs mt-1",children:S.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${n.risk==="low"?"bg-green-500/20 text-green-400":n.risk==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:[n.risk," risk"]})})]})},style:{background:n.risk==="low"?"hsl(var(--secondary) / 0.1)":n.risk==="medium"?"hsl(var(--accent) / 0.1)":"hsl(var(--destructive) / 0.1)",border:n.risk==="low"?"2px solid hsl(var(--secondary))":n.risk==="medium"?"2px solid hsl(var(--accent))":"2px solid hsl(var(--destructive))",borderRadius:"12px",width:180,height:100}}),n.esg>70&&e.push({id:`esg-${n.id}`,position:{x:s+300,y:i+20},data:{label:S.jsxs("div",{className:"text-center p-2",children:[S.jsx("div",{className:"text-sm font-medium",children:"ESG Impact"}),S.jsxs("div",{className:"text-xs text-green-400",children:["Score: ",n.esg]})]})},style:{background:"hsl(var(--primary) / 0.1)",border:"1px solid hsl(var(--primary))",borderRadius:"8px",width:120,height:60}})}),e},yje=t=>{const e=[];return t.forEach(n=>{e.push({id:`portfolio-${n.id}`,source:"portfolio",target:n.id,animated:!0,style:{strokeWidth:Math.max(2,n.percentage/10),stroke:n.risk==="low"?"hsl(var(--secondary))":n.risk==="medium"?"hsl(var(--accent))":"hsl(var(--destructive))"},label:`${n.percentage}%`}),n.esg>70&&e.push({id:`${n.id}-esg-${n.id}`,source:n.id,target:`esg-${n.id}`,animated:!0,style:{strokeWidth:2,stroke:"hsl(var(--primary))",strokeDasharray:"5,5"}})}),e},xje=({portfolioData:t})=>{const e=vje(t.assets),n=yje(t.assets),[r,i,s]=Vze(e),[o,a,l]=Hze(n);return S.jsx(Kh.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"w-full h-[500px] glass-panel rounded-2xl overflow-hidden",children:S.jsxs(jze,{nodes:r,edges:o,onNodesChange:s,onEdgesChange:l,connectionMode:gd.Loose,fitView:!0,style:{background:"transparent"},children:[S.jsx(tje,{style:{background:"hsl(var(--background))",border:"1px solid hsl(var(--border))"}}),S.jsx(Yze,{color:"hsl(var(--muted-foreground))",gap:20})]})})};function wje(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:d,children:h,...p}=f,v=(d==null?void 0:d[t][l])||a,y=T.useMemo(()=>p,Object.values(p));return S.jsx(v.Provider,{value:y,children:h})}function u(f,d){const h=(d==null?void 0:d[t][l])||a,p=T.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,_je(i,...e)]}function _je(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var O2="rovingFocusGroup.onEntryFocus",bje={bubbles:!1,cancelable:!0},lM="RovingFocusGroup",[yN,Dte,Sje]=rS(lM),[Eje,Lte]=wje(lM,[Sje]),[Mje,Tje]=Eje(lM),Ote=T.forwardRef((t,e)=>S.jsx(yN.Provider,{scope:t.__scopeRovingFocusGroup,children:S.jsx(yN.Slot,{scope:t.__scopeRovingFocusGroup,children:S.jsx(Aje,{...t,ref:e})})}));Ote.displayName=lM;var Aje=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,d=T.useRef(null),h=nn(e,d),p=yS(s),[v=null,y]=cu({prop:o,defaultProp:a,onChange:l}),[g,_]=T.useState(!1),w=ms(c),b=Dte(n),M=T.useRef(!1),[A,C]=T.useState(0);return T.useEffect(()=>{const N=d.current;if(N)return N.addEventListener(O2,w),()=>N.removeEventListener(O2,w)},[w]),S.jsx(Mje,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:v,onItemFocus:T.useCallback(N=>y(N),[y]),onItemShiftTab:T.useCallback(()=>_(!0),[]),onFocusableItemAdd:T.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:T.useCallback(()=>C(N=>N-1),[]),children:S.jsx(Rt.div,{tabIndex:g||A===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:vt(t.onMouseDown,()=>{M.current=!0}),onFocus:vt(t.onFocus,N=>{const R=!M.current;if(N.target===N.currentTarget&&R&&!g){const D=new CustomEvent(O2,bje);if(N.currentTarget.dispatchEvent(D),!D.defaultPrevented){const F=b().filter(j=>j.focusable),U=F.find(j=>j.active),$=F.find(j=>j.id===v),V=[U,$,...F].filter(Boolean).map(j=>j.ref.current);Fte(V,u)}}M.current=!1}),onBlur:vt(t.onBlur,()=>_(!1))})})}),kte="RovingFocusGroupItem",Ute=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Jc(),l=s||a,c=Tje(kte,n),u=c.currentTabStopId===l,f=Dte(n),{onFocusableItemAdd:d,onFocusableItemRemove:h}=c;return T.useEffect(()=>{if(r)return d(),()=>h()},[r,d,h]),S.jsx(yN.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:S.jsx(Rt.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:vt(t.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:vt(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:vt(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const v=Rje(p,c.orientation,c.dir);if(v!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let g=f().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")g.reverse();else if(v==="prev"||v==="next"){v==="prev"&&g.reverse();const _=g.indexOf(p.currentTarget);g=c.loop?Nje(g,_+1):g.slice(_+1)}setTimeout(()=>Fte(g))}})})})});Ute.displayName=kte;var Cje={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pje(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Rje(t,e,n){const r=Pje(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Cje[r]}function Fte(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Nje(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ije=Ote,Dje=Ute,M3="Tabs",[Lje,LVe]=wd(M3,[Lte]),Bte=Lte(),[Oje,T3]=Lje(M3),zte=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=yS(a),[f,d]=cu({prop:r,onChange:i,defaultProp:s});return S.jsx(Oje,{scope:n,baseId:Jc(),value:f,onValueChange:d,orientation:o,dir:u,activationMode:l,children:S.jsx(Rt.div,{dir:u,"data-orientation":o,...c,ref:e})})});zte.displayName=M3;var jte="TabsList",Vte=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=T3(jte,n),o=Bte(n);return S.jsx(Ije,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:S.jsx(Rt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Vte.displayName=jte;var Hte="TabsTrigger",Wte=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=T3(Hte,n),a=Bte(n),l=Xte(o.baseId,r),c=Yte(o.baseId,r),u=r===o.value;return S.jsx(Dje,{asChild:!0,...a,focusable:!i,active:u,children:S.jsx(Rt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:vt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:vt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:vt(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(r)})})})});Wte.displayName=Hte;var Gte="TabsContent",$te=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=T3(Gte,n),l=Xte(a.baseId,r),c=Yte(a.baseId,r),u=r===a.value,f=T.useRef(u);return T.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),S.jsx(_d,{present:i||u,children:({present:d})=>S.jsx(Rt.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:d&&s})})});$te.displayName=Gte;function Xte(t,e){return`${t}-trigger-${e}`}function Yte(t,e){return`${t}-content-${e}`}var kje=zte,Kte=Vte,qte=Wte,Zte=$te;const Uje=kje,Qte=T.forwardRef(({className:t,...e},n)=>S.jsx(Kte,{ref:n,className:Yt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Qte.displayName=Kte.displayName;const xN=T.forwardRef(({className:t,...e},n)=>S.jsx(qte,{ref:n,className:Yt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));xN.displayName=qte.displayName;const wN=T.forwardRef(({className:t,...e},n)=>S.jsx(Zte,{ref:n,className:Yt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));wN.displayName=Zte.displayName;var Jte=["PageUp","PageDown"],ene=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tne={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Rm="Slider",[_N,Fje,Bje]=rS(Rm),[nne,OVe]=wd(Rm,[Bje]),[zje,cM]=nne(Rm),rne=T.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:f=()=>{},onValueCommit:d=()=>{},inverted:h=!1,form:p,...v}=t,y=T.useRef(new Set),g=T.useRef(0),w=o==="horizontal"?jje:Vje,[b=[],M]=cu({prop:u,defaultProp:c,onChange:F=>{var $;($=[...y.current][g.current])==null||$.focus(),f(F)}}),A=T.useRef(b);function C(F){const U=Xje(b,F);D(F,U)}function N(F){D(F,g.current)}function R(){const F=A.current[g.current];b[g.current]!==F&&d(b)}function D(F,U,{commit:$}={commit:!1}){const I=Zje(s),V=Qje(Math.round((F-r)/s)*s+r,I),j=D_(V,[r,i]);M((X=[])=>{const L=Gje(X,j,U);if(qje(L,l*s)){g.current=L.indexOf(j);const k=String(L)!==String(X);return k&&$&&d(L),k?L:X}else return X})}return S.jsx(zje,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:g,thumbs:y.current,values:b,orientation:o,form:p,children:S.jsx(_N.Provider,{scope:t.__scopeSlider,children:S.jsx(_N.Slot,{scope:t.__scopeSlider,children:S.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...v,ref:e,onPointerDown:vt(v.onPointerDown,()=>{a||(A.current=b)}),min:r,max:i,inverted:h,onSlideStart:a?void 0:C,onSlideMove:a?void 0:N,onSlideEnd:a?void 0:R,onHomeKeyDown:()=>!a&&D(r,0,{commit:!0}),onEndKeyDown:()=>!a&&D(i,b.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:U})=>{if(!a){const V=Jte.includes(F.key)||F.shiftKey&&ene.includes(F.key)?10:1,j=g.current,X=b[j],L=s*V*U;D(X+L,j,{commit:!0})}}})})})})});rne.displayName=Rm;var[ine,sne]=nne(Rm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),jje=T.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,[f,d]=T.useState(null),h=nn(e,w=>d(w)),p=T.useRef(),v=yS(i),y=v==="ltr",g=y&&!s||!y&&s;function _(w){const b=p.current||f.getBoundingClientRect(),M=[0,b.width],C=A3(M,g?[n,r]:[r,n]);return p.current=b,C(w-b.left)}return S.jsx(ine,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:S.jsx(one,{dir:v,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const b=_(w.clientX);o==null||o(b)},onSlideMove:w=>{const b=_(w.clientX);a==null||a(b)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:w=>{const M=tne[g?"from-left":"from-right"].includes(w.key);c==null||c({event:w,direction:M?-1:1})}})})}),Vje=T.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,u=T.useRef(null),f=nn(e,u),d=T.useRef(),h=!i;function p(v){const y=d.current||u.current.getBoundingClientRect(),g=[0,y.height],w=A3(g,h?[r,n]:[n,r]);return d.current=y,w(v-y.top)}return S.jsx(ine,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:S.jsx(one,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const y=p(v.clientY);s==null||s(y)},onSlideMove:v=>{const y=p(v.clientY);o==null||o(y)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:v=>{const g=tne[h?"from-bottom":"from-top"].includes(v.key);l==null||l({event:v,direction:g?-1:1})}})})}),one=T.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,u=cM(Rm,n);return S.jsx(Rt.span,{...c,ref:e,onKeyDown:vt(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):Jte.concat(ene).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:vt(t.onPointerDown,f=>{const d=f.target;d.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(d)?d.focus():r(f)}),onPointerMove:vt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:vt(t.onPointerUp,f=>{const d=f.target;d.hasPointerCapture(f.pointerId)&&(d.releasePointerCapture(f.pointerId),s(f))})})}),ane="SliderTrack",lne=T.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=cM(ane,n);return S.jsx(Rt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});lne.displayName=ane;var bN="SliderRange",cne=T.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=cM(bN,n),s=sne(bN,n),o=T.useRef(null),a=nn(e,o),l=i.values.length,c=i.values.map(d=>fne(d,i.min,i.max)),u=l>1?Math.min(...c):0,f=100-Math.max(...c);return S.jsx(Rt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:u+"%",[s.endEdge]:f+"%"}})});cne.displayName=bN;var SN="SliderThumb",une=T.forwardRef((t,e)=>{const n=Fje(t.__scopeSlider),[r,i]=T.useState(null),s=nn(e,a=>i(a)),o=T.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return S.jsx(Hje,{...t,ref:s,index:o})}),Hje=T.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=cM(SN,n),a=sne(SN,n),[l,c]=T.useState(null),u=nn(e,_=>c(_)),f=l?o.form||!!l.closest("form"):!0,d=NI(l),h=o.values[r],p=h===void 0?0:fne(h,o.min,o.max),v=$je(r,o.values.length),y=d==null?void 0:d[a.size],g=y?Yje(y,p,a.direction):0;return T.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${p}% + ${g}px)`},children:[S.jsx(_N.ItemSlot,{scope:t.__scopeSlider,children:S.jsx(Rt.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:h===void 0?{display:"none"}:t.style,onFocus:vt(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&S.jsx(Wje,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},r)]})});une.displayName=SN;var Wje=t=>{const{value:e,...n}=t,r=T.useRef(null),i=zI(e);return T.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),S.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function Gje(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function fne(t,e,n){const s=100/(n-e)*(t-e);return D_(s,[0,100])}function $je(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Xje(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function Yje(t,e,n){const r=t/2,s=A3([0,50],[0,r]);return(r-s(e)*n)*n}function Kje(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function qje(t,e){if(e>0){const n=Kje(t);return Math.min(...n)>=e}return!0}function A3(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Zje(t){return(String(t).split(".")[1]||"").length}function Qje(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var dne=rne,Jje=lne,eVe=cne,tVe=une;const EN=T.forwardRef(({className:t,...e},n)=>S.jsxs(dne,{ref:n,className:Yt("relative flex w-full touch-none select-none items-center",t),...e,children:[S.jsx(Jje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:S.jsx(eVe,{className:"absolute h-full bg-primary"})}),S.jsx(tVe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));EN.displayName=dne.displayName;const fw={totalValue:125e4,assets:[{id:"stocks",name:"Global Stocks",value:5e5,percentage:40,risk:"medium",esg:75},{id:"bonds",name:"Green Bonds",value:375e3,percentage:30,risk:"low",esg:85},{id:"reits",name:"ESG REITs",value:187500,percentage:15,risk:"medium",esg:80},{id:"commodities",name:"Clean Energy",value:125e3,percentage:10,risk:"high",esg:90},{id:"cash",name:"Cash & Equivalents",value:62500,percentage:5,risk:"low",esg:60}]},nVe=[{name:"Stocks",percentage:40,color:"#3B82F6",position:new te(0,0,0)},{name:"Bonds",percentage:30,color:"#10B981",position:new te(0,0,0)},{name:"REITs",percentage:15,color:"#F59E0B",position:new te(0,0,0)},{name:"Clean Energy",percentage:10,color:"#8B5CF6",position:new te(0,0,0)},{name:"Cash",percentage:5,color:"#6B7280",position:new te(0,0,0)}],rVe=()=>{const[t,e]=T.useState("sphere"),[n,r]=T.useState(nVe),[i,s]=T.useState([5]),[o,a]=T.useState([7]),l=fw.assets.reduce((d,h)=>d+h.esg*h.percentage/100,0),c=Math.round(l*2.5),u=Math.round(l*1.8),f=Math.round(l/10);return S.jsxs("div",{className:"space-y-8",children:[S.jsxs(Kh.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[S.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Portfolio Visualizer"}),S.jsx("p",{className:"text-muted-foreground",children:"Interactive visualization of your investment portfolio and ESG impact"})]}),S.jsxs(Kh.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsxs(ar,{className:"glass-panel border-primary/40",children:[S.jsxs(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[S.jsx(_r,{className:"text-sm font-medium",children:"Carbon Reduced"}),S.jsx(xF,{className:"h-4 w-4 text-green-400"})]}),S.jsxs(lr,{children:[S.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[c," tons"]}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"CO₂ equivalent reduced"})]})]}),S.jsxs(ar,{className:"glass-panel border-secondary/40",children:[S.jsxs(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[S.jsx(_r,{className:"text-sm font-medium",children:"Clean Energy"}),S.jsx(td,{className:"h-4 w-4 text-primary"})]}),S.jsxs(lr,{children:[S.jsxs("div",{className:"text-2xl font-bold text-primary",children:[u," MWh"]}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Generated annually"})]})]}),S.jsxs(ar,{className:"glass-panel border-accent/40",children:[S.jsxs(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[S.jsx(_r,{className:"text-sm font-medium",children:"Communities"}),S.jsx(yF,{className:"h-4 w-4 text-accent"})]}),S.jsxs(lr,{children:[S.jsx("div",{className:"text-2xl font-bold text-accent",children:f}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Communities supported"})]})]})]}),S.jsx(Kh.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass-panel p-6 rounded-2xl",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Ooe,{className:"h-4 w-4"}),S.jsx("h3",{className:"font-semibold",children:"Risk Tolerance"})]}),S.jsx(EN,{value:i,onValueChange:s,max:10,min:1,step:1,className:"w-full"}),S.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[S.jsx("span",{children:"Conservative"}),S.jsxs("span",{children:["Current: ",i[0],"/10"]}),S.jsx("span",{children:"Aggressive"})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(xF,{className:"h-4 w-4"}),S.jsx("h3",{className:"font-semibold",children:"ESG Focus"})]}),S.jsx(EN,{value:o,onValueChange:a,max:10,min:1,step:1,className:"w-full"}),S.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[S.jsx("span",{children:"Standard"}),S.jsxs("span",{children:["Current: ",o[0],"/10"]}),S.jsx("span",{children:"Maximum ESG"})]})]})]})}),S.jsxs(Uje,{value:t,onValueChange:d=>e(d),children:[S.jsxs(Qte,{className:"grid w-full grid-cols-2",children:[S.jsxs(xN,{value:"sphere",className:"flex items-center gap-2",children:[S.jsx(yF,{className:"h-4 w-4"}),"3D Portfolio View"]}),S.jsxs(xN,{value:"flow",className:"flex items-center gap-2",children:[S.jsx(aS,{className:"h-4 w-4"}),"Asset Flow Diagram"]})]}),S.jsx(wN,{value:"sphere",className:"space-y-4",children:S.jsx(Yke,{allocations:n,totalValue:fw.totalValue})}),S.jsx(wN,{value:"flow",className:"space-y-4",children:S.jsx(xje,{portfolioData:fw})})]}),S.jsxs(Kh.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"glass-panel p-6 rounded-2xl",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"text-lg font-semibold",children:"Portfolio Allocation"}),S.jsxs(Of,{variant:"outline",className:"bg-primary/10",children:["ESG Score: ",l.toFixed(1)]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:fw.assets.map(d=>S.jsxs("div",{className:"text-center space-y-2",children:[S.jsx("div",{className:"font-medium",children:d.name}),S.jsxs("div",{className:"text-2xl font-bold text-primary",children:[d.percentage,"%"]}),S.jsxs("div",{className:"text-sm text-muted-foreground",children:["HK$",(d.value/1e3).toFixed(0),"K"]}),S.jsxs(Of,{variant:"outline",className:d.risk==="low"?"border-green-500/50 text-green-400":d.risk==="medium"?"border-yellow-500/50 text-yellow-400":"border-red-500/50 text-red-400",children:[d.risk," risk"]})]},d.id))})]})]})},iVe=[{title:"Portfolio Performance",value:"+12.5%",trend:"up",description:"Year-to-date returns"},{title:"Monthly Savings",value:"HK$15,200",trend:"up",description:"Average monthly deposits"},{title:"Investment Risk",value:"Moderate",trend:"stable",description:"Current risk profile"},{title:"Diversification",value:"85%",trend:"up",description:"Portfolio diversification score"}],sVe=[{id:1,title:"Hong Kong Markets Rally on Positive Economic Data",summary:"Hang Seng Index closes 2.3% higher as latest GDP figures exceed expectations, boosting investor confidence.",time:"2 hours ago",category:"Markets",priority:"high"},{id:2,title:"BOCHK Launches New Green Finance Initiative",summary:"Bank of China (Hong Kong) announces HK$50 billion commitment to sustainable finance projects.",time:"4 hours ago",category:"Banking",priority:"medium"},{id:3,title:"Fed Signals Potential Rate Cuts in Q2",summary:"Federal Reserve hints at monetary policy adjustments, impacting global currency markets.",time:"6 hours ago",category:"Global",priority:"high"},{id:4,title:"ESG Investing Trends Shape Asian Markets",summary:"Sustainable investment strategies gain momentum across Asia-Pacific region with record inflows.",time:"8 hours ago",category:"ESG",priority:"medium"},{id:5,title:"Cryptocurrency Regulations Update",summary:"Hong Kong regulators provide clarity on digital asset trading frameworks for institutional investors.",time:"12 hours ago",category:"Crypto",priority:"low"}],oVe=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),i=s=>{switch(s){case"high":return"border-l-primary bg-primary/10";case"medium":return"border-l-secondary bg-secondary/10";default:return"border-l-accent bg-accent/10"}};return S.jsxs("div",{className:"min-h-screen relative overflow-visible",children:[S.jsx(BI,{}),S.jsxs("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 pt-8 sm:pt-12 pb-20",style:{overflow:"visible"},children:[S.jsxs("div",{className:"text-center mb-4 animate-fade-in",children:[S.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold mb-2",children:[S.jsx("span",{className:"text-white animate-float-gentle",children:"Xin"}),S.jsx("span",{className:"text-transparent bg-gradient-to-r from-primary via-primary-glow to-primary bg-clip-text ml-1 animate-[float-text-ai_3.5s_ease-in-out_infinite] [animation-delay:0.5s]",children:"AI"})]}),S.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground mb-3",children:"BOCHK AI Agent - by HKUSTeam"}),S.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-primary to-transparent mx-auto"})]}),S.jsx("div",{className:"animate-fade-in mt-2 mb-8",style:{animationDelay:"300ms"},children:S.jsx(yEe,{})}),S.jsx("div",{className:"animate-fade-in mb-8",style:{animationDelay:"400ms"},children:S.jsx(rVe,{})}),S.jsxs("div",{className:"animate-fade-in mb-8",style:{animationDelay:"500ms"},children:[S.jsx(Hr,{onClick:()=>r(!n),className:"w-full glass-panel p-6 rounded-2xl bg-gradient-to-r from-rm/20 to-rm/10 hover:from-rm/30 hover:to-rm/20 border border-rm/40 hover:border-rm/60 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center justify-between w-full",children:[S.jsx("span",{className:"text-lg font-semibold",children:"Financial News"}),n?S.jsx(LC,{className:"w-5 h-5"}):S.jsx(__,{className:"w-5 h-5"})]})}),n&&S.jsxs("div",{className:"mt-6 space-y-6 animate-fade-in",children:[S.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:sVe.slice(0,3).map((s,o)=>S.jsxs("div",{className:`glass-panel p-6 border-l-4 ${i(s.priority)} 
                               hover:scale-102 transition-all duration-300 animate-fade-in`,style:{animationDelay:`${o*100}ms`},children:[S.jsxs("div",{className:"flex justify-between items-start mb-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-muted text-muted-foreground",children:s.category}),S.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[S.jsx(HW,{className:"w-3 h-3"}),s.time]})]}),S.jsx(Hr,{size:"sm",variant:"ghost",className:"glass-button",children:S.jsx(Eoe,{className:"w-4 h-4"})})]}),S.jsx("h2",{className:"text-xl font-bold mb-3 hover:text-primary transition-colors cursor-pointer",children:s.title}),S.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.summary})]},s.id))}),S.jsx("div",{className:"text-center",children:S.jsx(Hr,{className:"bg-rm hover:bg-rm/80 shadow-glow",children:"Load More News"})})]})]}),S.jsxs("div",{className:"animate-fade-in mb-8",style:{animationDelay:"600ms"},children:[S.jsx(Hr,{onClick:()=>e(!t),className:"w-full glass-panel p-6 rounded-2xl bg-gradient-to-r from-primary/20 to-primary/10 hover:from-primary/30 hover:to-primary/20 border border-primary/40 hover:border-primary/60 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center justify-between w-full",children:[S.jsx("span",{className:"text-lg font-semibold",children:"Market Insights"}),t?S.jsx(LC,{className:"w-5 h-5"}):S.jsx(__,{className:"w-5 h-5"})]})}),t&&S.jsxs("div",{className:"mt-6 space-y-6 animate-fade-in",children:[S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:iVe.map((s,o)=>S.jsxs("div",{className:"glass-panel p-6 hover:scale-105 transition-transform duration-300",style:{animationDelay:`${o*100}ms`},children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:s.trend==="up"?S.jsx(td,{className:"w-5 h-5 text-primary"}):s.trend==="down"?S.jsx(XW,{className:"w-5 h-5 text-red-400"}):S.jsx(voe,{className:"w-5 h-5 text-secondary"})}),S.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.trend==="up"?"bg-green-500/20 text-green-400":s.trend==="down"?"bg-red-500/20 text-red-400":"bg-secondary/20 text-secondary"}`,children:s.trend})]}),S.jsx("div",{className:"text-2xl font-bold mb-2",children:s.value}),S.jsx("div",{className:"text-sm text-muted-foreground",children:s.description})]},s.title))}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"glass-panel p-8",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Market Analysis"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{children:"Hang Seng Index"}),S.jsx("span",{className:"text-green-400",children:"+1.2%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{children:"USD/HKD"}),S.jsx("span",{className:"text-red-400",children:"-0.1%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{children:"NASDAQ"}),S.jsx("span",{className:"text-green-400",children:"+0.8%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{children:"Gold (USD/oz)"}),S.jsx("span",{className:"text-green-400",children:"+0.3%"})]})]})]}),S.jsxs("div",{className:"glass-panel p-8",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6",children:"AI Recommendations"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"border-l-4 border-primary pl-4",children:[S.jsx("div",{className:"font-medium",children:"Rebalance Portfolio"}),S.jsx("div",{className:"text-sm text-muted-foreground",children:"Consider increasing technology sector allocation"})]}),S.jsxs("div",{className:"border-l-4 border-secondary pl-4",children:[S.jsx("div",{className:"font-medium",children:"ESG Opportunity"}),S.jsx("div",{className:"text-sm text-muted-foreground",children:"Green bonds showing strong performance potential"})]}),S.jsxs("div",{className:"border-l-4 border-accent pl-4",children:[S.jsx("div",{className:"font-medium",children:"Risk Assessment"}),S.jsx("div",{className:"text-sm text-muted-foreground",children:"Current portfolio aligns with your risk tolerance"})]})]})]})]})]})]})]})]})},aVe=()=>S.jsxs("div",{className:"min-h-screen relative overflow-visible",children:[S.jsx(BI,{}),S.jsxs("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 pt-8 sm:pt-12 pb-20",style:{overflow:"visible"},children:[S.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[S.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold mb-2",children:[S.jsx("span",{className:"text-white animate-[float-text_3s_ease-in-out_infinite]",children:"Parents"}),S.jsx("span",{className:"text-transparent bg-gradient-to-r from-parent via-parent-glow to-parent bg-clip-text ml-1 animate-[float-text_3s_ease-in-out_infinite] [animation-delay:0.5s]",children:"Portal"})]}),S.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground mb-3",children:"Generational Wealth Control & Access Management"}),S.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-parent to-transparent mx-auto"})]}),S.jsx("div",{className:"animate-fade-in",style:{animationDelay:"300ms"},children:S.jsx(y$,{})})]})]}),lVe=()=>S.jsxs("div",{className:"min-h-screen relative overflow-visible",children:[S.jsx(BI,{}),S.jsxs("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 pt-8 sm:pt-12 pb-20",style:{overflow:"visible"},children:[S.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[S.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold mb-2",children:[S.jsx("span",{className:"text-white animate-[float-text_3s_ease-in-out_infinite]",children:"Relation"}),S.jsx("span",{className:"text-transparent bg-gradient-to-r from-rm via-rm-glow to-rm bg-clip-text ml-1 animate-[float-text_3s_ease-in-out_infinite] [animation-delay:0.5s]",children:"Manager"})]}),S.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground mb-3",children:"AI-Powered Customer Insights & Advisory Tools"}),S.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-rm to-transparent mx-auto"})]}),S.jsx("div",{className:"animate-fade-in",style:{animationDelay:"300ms"},children:S.jsx(x$,{})})]})]}),cVe=()=>{const t=fm();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),S.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),S.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},uVe=new Gce,fVe=()=>S.jsx(Xce,{client:uVe,children:S.jsxs(bce,{children:[S.jsx(wae,{}),S.jsx(Kae,{}),S.jsx(Hue,{children:S.jsxs("div",{className:"relative",children:[S.jsxs(kue,{children:[S.jsx(zg,{path:"/",element:S.jsx(oVe,{})}),S.jsx(zg,{path:"/parents",element:S.jsx(aVe,{})}),S.jsx(zg,{path:"/relation-manager",element:S.jsx(lVe,{})}),S.jsx(zg,{path:"*",element:S.jsx(cVe,{})})]}),S.jsx(Yue,{})]})})]})});mW(document.getElementById("root")).render(S.jsx(fVe,{}));
